function locationCtrl(a,b,c,d,e){var f={url:"https://s30.postimg.org/vy1nk4ki9/police2.png"};a.mapOptions={zoom:14,icon:f,center:new google.maps.LatLng(9.3203291,-75.295614),mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControl:!0,styles:[{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",elementType:"all",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]}]},a.load=function(){a.$watch("myMap",function(b,c){c&&(google.maps.event.trigger(a.myMap,"resize"),a.myMap.setCenter(new google.maps.LatLng(9.3203291,-75.295614)))})},b.$on("ADD_MARKER",function(b,c){var d=new google.maps.LatLng(c.geo.latitude,c.geo.longitude),e={url:"https://s30.postimg.org/vy1nk4ki9/police2.png"};marker=new google.maps.Marker({icon:e,map:a.myMap,animation:google.maps.Animation.DROP,position:d}),google.maps.event.trigger(a.myMap,"resize"),a.myMap.setCenter(new google.maps.LatLng(c.geo.latitude,c.geo.longitude))})}function pageTitle(a,b){return{link:function(c,d){var e=function(a,c,e,f,g){var h="Shoply";c.data&&c.data.pageTitle&&(h="Shoply | "+c.data.pageTitle),b(function(){d.text(h)})};a.$on("$stateChangeStart",e)}}}function icheck(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){return a(function(){var a;return a=d.value,b.$watch(d.ngModel,function(a){$(c).iCheck("update")}),$(c).iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}).on("ifChanged",function(f){return"checkbox"===$(c).attr("type")&&d.ngModel&&b.$apply(function(){return e.$setViewValue(f.target.checked)}),"radio"===$(c).attr("type")&&d.ngModel?b.$apply(function(){return e.$setViewValue(a)}):void 0})})}}}$(document).ready(function(){}),angular.module("shoplyApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","firebase","selectize","ui.bootstrap","jsTree.directive","angularUtils.directives.dirPagination","internationalPhoneNumber","ngImgCrop","angular-preload-image","jkuri.datepicker","colorpicker.module","vcRecaptcha","cfp.hotkeys","ui.map","tb-color-picker"]).config(["$stateProvider","ipnConfig","$httpProvider","constants","$urlRouterProvider",function(a,b,c,d,e){b.defaultCountry="co",b.preferredCountries=["pl","de","fr","uk","es"],c.interceptors.push(["$injector","$q","sweetAlert","storage",function(a,b,d,e){var f=a.get("$rootScope");return{request:function(a){return c.defaults.withCredentials=!1,window.localStorage.token&&(c.defaults.headers.common["x-shoply-auth"]=window.localStorage.token,c.defaults.headers.common["x-shoply-user"]=angular.fromJson(window.localStorage.user)?angular.fromJson(window.localStorage.user)._id:null,angular.fromJson(window.localStorage.user)._company?c.defaults.headers.common["x-shoply-company"]=angular.fromJson(window.localStorage.user)._company._id||angular.fromJson(window.localStorage.user)._company||angular.fromJson(localStorage.company)._id:localStorage.company&&(c.defaults.headers.common["x-shoply-company"]=angular.fromJson(localStorage.company)._id)),console.log(a,"request"),"POST"==a.method&&(a.data.metadata=a.data.metadata||{},a.data.metadata._author=window.localStorage.user?angular.fromJson(window.localStorage.user)._id:null),a||b.when(a)},response:function(a){return a},responseError:function(a){switch(a.status){case 401:if(e["delete"]("token"),e["delete"]("user"),delete f.isLogged,window.location.hash.match("login"))return b.reject(a);d.swal({title:"La sesión ha expirado",text:"Tiempo de sesión agotado, por favor ingrese nuevamente",imageUrl:"images/expired.6e234e9e.png"},function(){window.sweet&&window.sweet.hide(),window.modal&&window.modal.close(),window.localStorage.clear(),window.location="#/login"});break;default:return b.reject(a)}}}}]),e.otherwise("/dashboard"),a.state("home",{url:"/",templateUrl:"views/home/content.html",data:{pageTitle:"Home"}}).state("about",{url:"/about",templateUrl:"views/aboutus/aboutus.html",data:{pageTitle:"Acerca de"}}).state("faq",{url:"/faq",templateUrl:"views/faq/faq.html",data:{pageTitle:"FAQ"}}).state("login",{url:"/login",templateUrl:"views/login/login.html",data:{pageTitle:"Ingresar"}}).state("login.quickstart",{url:"/quickstart",templateUrl:"views/register/register.html",controller:"RegistrationCtrl",data:{pageTitle:"Registrarse"}}).state("dashboard.empresa",{url:"/empresa",controller:"CompanyCtrl",access:{requiredAuthentication:!0},templateUrl:"views/company/empresas.html",data:{pageTitle:"Empresa"}}).state("dashboard.apps",{url:"/apps",access:{requiredAuthentication:!0},controller:"AppsCtrl",templateUrl:"views/apps/apps.html",data:{pageTitle:"Apps"}}).state("dashboard.permiso",{url:"/permiso",access:{requiredAuthentication:!0},controller:"PermisoCtrl",templateUrl:"views/permisos/permisos.html",data:{pageTitle:"Permisos"}}).state("dashboard.bodega",{url:"/bodega",access:{requiredAuthentication:!0},controller:"GroceryCtrl",templateUrl:"views/bodega/bodegas.html",data:{pageTitle:"Bodega"}}).state("dashboard.entradas",{url:"/entradas",access:{requiredAuthentication:!0},controller:"EntradaCtrl",templateUrl:"views/entradas/entradas.html",data:{pageTitle:"Entradas"}}).state("dashboard.salidas",{url:"/salidas",access:{requiredAuthentication:!0},controller:"SalidaCtrl",templateUrl:"views/salidas/salidas.html",data:{pageTitle:"Salidas"}}).state("dashboard.existencias",{url:"/existencias",access:{requiredAuthentication:!0},controller:"ExistenciasCtrl",templateUrl:"views/existencias/existencias.html",data:{pageTitle:"Existencias"}}).state("public",{url:"/public/:app",templateUrl:"views/apps/public/app.html",data:{pageTitle:"Descargar Aplicación"}}).state("dashboard.empresa.information",{url:"/information",access:{requiredAuthentication:!0},templateUrl:"views/company/form-information.html",data:{pageTitle:"Información Corporativa"}}).state("dashboard.empresa.location",{url:"/location",access:{requiredAuthentication:!0},templateUrl:"views/company/form-location.html",data:{pageTitle:"Ubicación"}}).state("dashboard.empresa.logo",{url:"/logo",access:{requiredAuthentication:!0},templateUrl:"views/company/form-logo.html",data:{pageTitle:"Imagen corporativa"}}).state("signup",{url:"/signup",templateUrl:"views/signup/signup.html",controller:"RegistrationCtrl",data:{pageTitle:"Registrarse"}}).state("forgot",{url:"/forgot",templateUrl:"views/forgot/forgot.html",data:{pageTitle:"Recuperar clave"}}).state("reset",{url:"/reset/:token",templateUrl:"views/reset/reset.html",data:{pageTitle:"Cambiar clave"}}).state("dashboard.change-password",{url:"/change-password",access:{requiredAuthentication:!0},templateUrl:"views/reset/change_password.html",data:{pageTitle:"Cambiar clave"}}).state("dashboard",{url:"/dashboard",access:{requiredAuthentication:!0},templateUrl:"views/dashboard/dashboard.html",data:{pageTitle:"Administración"}}).state("dashboard.productos",{url:"/productos",access:{requiredAuthentication:!0},controller:"ProductosCtrl",templateUrl:"views/productos/productos.html",data:{pageTitle:"Productos"}}).state("dashboard.facturacion",{url:"/facturacion",access:{requiredAuthentication:!0},controller:"FacturacionCtrl",templateUrl:"views/facturacion/facturaciones.html",data:{pageTitle:"Facturar"}}).state("dashboard.facturacion-pedido",{url:"/facturacion-pedido/:pedido",access:{requiredAuthentication:!0},controller:"FacturacionCtrl",templateUrl:"views/facturacion/facturaciones.html",data:{pageTitle:"Facturar Pedido"}}).state("dashboard.editar-facturacion",{url:"/editar-facturacion/:facturacion",access:{requiredAuthentication:!0},controller:"FacturacionCtrl",templateUrl:"views/facturacion/facturaciones.html",data:{pageTitle:"Editar-Devolver"}}).state("dashboard.devoluciones",{url:"/devoluciones",access:{requiredAuthentication:!0},controller:"DevolucionesCtrl",templateUrl:"views/devoluciones/devoluciones.html",data:{pageTitle:"Devoluciones"}}).state("dashboard.buscar-facturacion",{url:"/buscar-facturacion",access:{requiredAuthentication:!0},templateUrl:"views/facturacion/buscar-facturacion.html",data:{pageTitle:"Buscar Facturación"}}).state("dashboard.vendedores",{url:"/vendedores",access:{requiredAuthentication:!0},controller:"SellerCtrl",templateUrl:"views/vendedores/vendedores.html",data:{pageTitle:"Vendedores"}}).state("dashboard.empleados",{url:"/empleados",controller:"employeCtrl",access:{requiredAuthentication:!0},templateUrl:"views/empleado/empleados.html",data:{pageTitle:"empleados"}}).state("dashboard.clientes",{url:"/clientes",access:{requiredAuthentication:!0},controller:"ClientCtrl",templateUrl:"views/clientes/clientes.html",data:{pageTitle:"Clientes"}}).state("dashboard.arqueos",{url:"/arqueos/:highlight?",access:{requiredAuthentication:!0},controller:"ArqueoCtrl",templateUrl:"views/arqueos/arqueos.html",data:{pageTitle:"arqueos"}}).state("dashboard.crear-arqueo",{url:"/crear-arqueo/:employee?",access:{requiredAuthentication:!0},controller:"ArqueoCtrl",templateUrl:"views/arqueos/crear-arqueo.html",data:{pageTitle:"Crear Arqueo"}}).state("dashboard.editar-arqueo",{url:"/editar-arqueo/:arqueo",access:{requiredAuthentication:!0},templateUrl:"views/arqueos/editar-arqueo.html",data:{pageTitle:"Editar Arqueo"}}).state("dashboard.detalle_cliente",{url:"/detalle-cliente/:cliente",access:{requiredAuthentication:!0},templateUrl:"views/clientes/detalle-cliente.html",data:{pageTitle:"Detalle del clientes"}}).state("dashboard.detalle_arqueo",{url:"/detalle-arqueo/:arqueo",access:{requiredAuthentication:!0},templateUrl:"views/arqueos/detalle-arqueo.html",data:{pageTitle:"Detalle de arqueo"}}).state("dashboard.rutas",{url:"/rutas",access:{requiredAuthentication:!0},controller:"RouteCtrl",templateUrl:"views/rutas/rutas.html",data:{pageTitle:"Rutas"}}).state("dashboard.categorias",{url:"/categorias",access:{requiredAuthentication:!0},controller:"CategoriaCtrl",templateUrl:"views/categorias/categorias.html",data:{pageTitle:"Categorias"}}).state("dashboard.detalle_categoria",{url:"/detalle-categoria/:categoria",access:{requiredAuthentication:!0},templateUrl:"views/categorias/detalle-categoria.html",data:{pageTitle:"Detalle categoria"}}).state("dashboard.detalle_producto",{url:"/detalle-producto/:producto",access:{requiredAuthentication:!0},templateUrl:"views/productos/detalle_producto.html",data:{pageTitle:"Detalle producto"}}).state("dashboard.ordenes",{url:"/ordenes",access:{requiredAuthentication:!0},controller:"RequestCtrl",templateUrl:"views/ordenes/ordenes.html",data:{pageTitle:"Ordenes"}}).state("dashboard.perfil",{url:"/perfil",access:{requiredAuthentication:!0},templateUrl:"views/profile/profile.html",data:{pageTitle:"Perfil"}}).state("dashboard.transportador",{url:"/transportadores",access:{requiredAuthentication:!0},templateUrl:"views/transportador/transportador.html"}).state("dashboard.detalle_pedido",{url:"/detalle-pedido/:pedido",access:{requiredAuthentication:!0},templateUrl:"views/ordenes/detalle-pedido.html",data:{pageTitle:"Detalle pedido"}})}]).run(["$rootScope","constants","storage","$state","sounds","api","$window","permission",function(a,b,c,d,e,f,g,h){a.currency=b.currency,a.base=b.uploadFilesUrl,a.isLogged=c.get("user"),a.user=c.get("user"),a.state=d,a.acl=h,a.online=navigator.onLine,g.addEventListener("offline",function(){a.$apply(function(){a.online=!1})},!1),g.addEventListener("online",function(){a.$apply(function(){a.online=!0})},!1),window.socket=new io(b.socket),window.socket.on("connect",function(){}),window.socket.on("request",function(b){toastr.options.onclick=function(){d.go("dashboard.detalle_pedido",{pedido:b._id})},toastr.error("Se ha generado una nueva alerta.",{timeOut:1e4}),e.onRequest(),f.pedido(b._id).get().success(function(b){a.$emit("incoming_request",b)})}),a.$on("$stateChangeStart",function(b,e,f,g,h){a.grid&&delete a.grid,window.modal&&window.modal.close(),null!=e&&null!=e.access&&e.access.requiredAuthentication&&!c.get("token")&&(b.preventDefault(),d.transitionTo("login"))})}]),angular.module("shoplyApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("shoplyApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("shoplyApp").controller("UserCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("shoplyApp").controller("RegistrationCtrl",["$scope","account","$state","sweetAlert","modal","storage",function(a,b,c,d,e,f){a.register=function(){var f=function(b){b&&(d.swal("Registro completado.","Te has registrado correctamente.","success"),delete a.formRegister,c.go("login"))},g=function(a){409==a&&d.swal("No se pudo registrar.","Este email ya esta registrado.","error")};if(a.signup.$valid){if(a.formRegister.data.password!=a.formRegister.data.confirm)return void d.swal("Formulario Incompleto.","las contraseñas no coinciden.","error");b.usuario().register(angular.extend(a.formRegister.data,{username:a.formRegister.data.email})).then(f,g)}else a.signup.$invalid&&e.incompleteForm()},a.login=function(){var c=function(a){console.log(a)},d=function(a){};b.login(a.form.data).then(c,d)}}]),angular.module("shoplyApp").controller("ProfileCtrl",["$scope","api","modal","constants","$state","storage","account","$rootScope",function(a,b,c,d,e,f,g,h){a.update=function(){b.user(h.user._id).put(h.user).success(function(a){a&&(f.update("user",h.user),delete h.beforeUpdate,sweetAlert("Registro Modificado","Tu perfil ha sido actualizado","success"))})}}]),angular.module("shoplyApp").controller("SellerCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i){a.Records=!1,a.load=function(){h.user().get().success(function(b){a.records=b.filter(function(a){return"SELLER"==a.type}),a.Records=!0})},a.doTonnage=function(){f.go("dashboard.crear-arqueo",{employee:c.grid.selected})},a.verRutas=function(){a.record=angular.copy(this.record._route),window.modal=g.show({templateUrl:"views/vendedores/verRutas.html",size:"md",scope:a,backdrop:"static"},function(a){a.$close()})},a.create=function(){window.modal=g.show({templateUrl:"views/vendedores/agregar_vendedor.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formVendedor.$invalid?void g.incompleteForm():(a.form.type="SELLER",void h.user().post(a.form).success(function(b){b&&(d.swal("Registro completado.","has registrado un nuevo vendedor.","success"),a.$close(),a.load(),delete a.form)}).error(function(a,b){409==b&&d.swal("No se pudo registrar.","Este email ya esta registrado.","error")}))})},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit._route=a.formEdit._route.map(function(a){return a._id}),a.formEdit._grocery=a.formEdit._grocery?a.formEdit._grocery.map(function(a){return a._id}):null,delete a.formEdit.password,window.modal=g.show({templateUrl:"views/vendedores/editar_vendedor.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEditVendedor.$invalid?void g.incompleteForm():void(a.formEdit.password?h.verification_code().add(a.formEdit._id).get().success(function(b){b&&d.swal({title:"Escriba el codigo de verificación",type:"input",showCancelButton:!1,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Codigo de verificación"},function(b){a.formEdit.verificationCode=b,h.user(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)}).error(function(a,b){409==b&&d.swal("Email en uso.","este email ya se encuentra en uso.","warning"),400==b&&d.swal("Error de validación","Codigo de verificación incorrecto.","warning")})})}):h.user(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)}).error(function(){409==status&&d.swal("Email en uso.","este email ya se encuentra en uso.","warning")}))})},a["delete"]=function(){var b=this.record;g.removeConfirm({closeOnConfirm:!0},function(c){c&&h.user(b._id)["delete"]().success(function(c){a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").controller("ClientCtrl",["$scope","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h){a.Records=!1,a.load=function(){g.user().get().success(function(b){a.records=b.filter(function(a){return"CLIENT"==a.type})||[],a.Records=!0})},a.create=function(){window.modal=f.show({templateUrl:"views/clientes/agregar-cliente.html",size:"md",scope:a,backdrop:!0},function(a){switch(a.selected){case"natural":if(a.clienteNaturalForm.$invalid)return void f.incompleteForm();var b=angular.extend(a.formPersonaNatural,{type:"CLIENT"});b.data.persona=a.selected,g.user().post(b).success(function(b){b&&(c.swal("Registro completado.","has registrado un nuevo vendedor.","success"),a.$close(),a.load(),delete a.formPersonaNatural)}).error(function(a,b){409==b&&c.swal("No se pudo registrar.","Este email ya esta registrado.","error")});break;case"juridica":if(a.clienteJuridicoForm.$invalid)return void f.incompleteForm();var b=angular.extend(a.formPersonaJuridica,{type:"CLIENT"});b.data.persona=a.selected,g.user().post(b).success(function(b){b&&(c.swal("Registro completado.","has registrado un nuevo vendedor.","success"),a.$close(),a.load(),delete a.formPersonaJuridica)}).error(function(a,b){409==b&&c.swal("No se pudo registrar.","Este email ya esta registrado.","error")});break;default:f.incompleteForm()}})},a.editForm=function(){switch(this.record.data.persona){case"natural":a.formEditPersonaNatural=angular.copy(this.record),a.selected=this.record.data.persona;break;case"juridica":a.formEditPersonaJuridica=angular.copy(this.record),a.selected=this.record.data.persona;break;default:f.incompleteForm()}window.modal=f.show({templateUrl:"views/clientes/editar_cliente.html",size:"md",scope:a,backdrop:!0},function(a){switch(a.selected){case"natural":if(a.clienteEditNaturalForm.$invalid)return void f.incompleteForm();g.user(a.formEditPersonaNatural._id).put(a.formEditPersonaNatural).success(function(b){b&&(c.swal("Registro completado.","has registrado un nuevo vendedor.","success"),a.$close(),a.load(),delete a.formEditPersonaNatural)}).error(function(a,b){409==b&&c.swal("No se pudo registrar.","Este email ya esta registrado.","error")});break;case"juridica":if(a.clienteEditJuridicoForm.$invalid)return void f.incompleteForm();g.user(a.formEditPersonaJuridica._id).put(a.formEditPersonaJuridica).success(function(b){b&&(c.swal("Registro completado.","has registrado un nuevo vendedor.","success"),a.$close(),a.load(),delete a.formEditPersonaJuridica)}).error(function(a,b){409==b&&c.swal("No se pudo registrar.","Este email ya esta registrado.","error")});break;default:f.incompleteForm()}})},a["delete"]=function(){var b=this.record;f.removeConfirm({closeOnConfirm:!0},function(c){c&&g.user(b._id)["delete"]().success(function(c){a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").controller("RouteCtrl",["$scope","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h){a.Records=!1,a.load=function(){g.rutas().get().success(function(b){a.records=b||[],a.Records=!0})},a.create=function(){window.modal=f.show({templateUrl:"views/rutas/agregar-ruta.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formRuta.$invalid?void f.incompleteForm():void g.rutas().post(a.form).success(function(b){b&&(c.swal("Registro completado.","has registrado un nuevo vendedor.","success"),a.$close(),a.load(),delete a.form)})})},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit.data.barrios&&(a.barrios=a.formEdit.data.barrios.map(function(a){var b=new Object;return b.text=a,b.value=a,b})),window.modal=f.show({templateUrl:"views/rutas/editar-ruta.html",size:"md",scope:a,backdrop:"static"},function(a){return a.rutaEditForm.$invalid?void f.incompleteForm():void g.rutas(a.formEdit._id).put(a.formEdit).success(function(b){b&&(c.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)})})},a["delete"]=function(){var b=this.record;f.removeConfirm({closeOnConfirm:!0},function(c){c&&g.rutas(b._id)["delete"]().success(function(c){a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").controller("ContadoresCtrl",["$scope","modal","api",function(a,b,c){a.loading=!0,a.load=function(){c.contadores().get().success(function(b){a.records=b||[],a.loading=!1})},a.agregar=function(){if(a.formContador.$invalid)return void b.incompleteForm();var d=angular.extend(a.form,{entityName:a._entity.text});c.contadores().post(d).success(function(b){b&&(a.records.push(b),delete a.form.data)}).error(function(a,b){409==b&&sweetAlert("Registro Duplicado","una entidad no puede contener 2 contadores.","warning")})},a.borrar=function(){var d=this.record;b.removeConfirm({closeOnConfirm:!0},function(b){b&&c.contadores(d._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(d),1)})})},a.edit=function(){a.formEdit=angular.copy(this.record),window.modal=b.show({templateUrl:"views/contador/editar_contadores.html",size:"md",scope:a},function(a){if(a.formEditContador.$invalid)return void b.incompleteForm();var d=new Object;d._entity=a.formEdit.entity,d.entityName=a._Editentity.text,d.field=a.formEdit.field,d.prefix=a.formEdit.prefix,d.min=a.formEdit.seq,c.contadores(a.formEdit._id).put(d).success(function(b){b&&(sweetAlert("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)})})}}]),angular.module("shoplyApp").controller("CasaComercialCtrl",["$scope","modal","api",function(a,b,c){a.loading=!0,a.load=function(){c.casa_comercial().get().success(function(b){a.records=b||[],a.loading=!1})},a.agregar=function(){return a.formCasaComercial.$invalid?void b.incompleteForm():void c.casa_comercial().post(a.form).success(function(b){b&&(a.records.push(b),delete a.form.data)}).error(function(a,b){409==b&&sweetAlert("Registro Duplicado","una entidad no puede contener 2 contadores.","warning")})},a.borrar=function(){var d=this.record;b.removeConfirm({closeOnConfirm:!0},function(b){b&&c.casa_comercial(d._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(d),1)})})},a.edit=function(){a.formEdit=angular.copy(this.record),window.modal=b.show({templateUrl:"views/casaComercial/editar-casaComercial.html",size:"md",scope:a},function(a){return a.$$childTail.$invalid?void b.incompleteForm():void c.casa_comercial(a.formEdit._id).put(a.formEdit).success(function(b){b&&(sweetAlert("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)})})}}]),angular.module("shoplyApp").controller("ExistenciasCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i){a.totalVentas=0,a.totalBases=0,a.getStockDetail=function(){a.totalVentas=0,a.totalBases=0,h.cantidades().add("stock/detail").post(a.form).success(function(b){a.records=b})},a.totalizeVentas=function(){a.totalVentas=a.totalVentas+this.record._product.data.precio_venta*this.record.amount},a.totalizeBases=function(){a.totalBases=a.totalBases+(this.record._product.data.precio+this.record._product.data.valor_utilidad)*this.record.amount}}]),angular.module("shoplyApp").service("account",["$q","constants","$http",function(a,b,c){return this.usuario=function(){return{ingresar:function(d){var e=a.defer();return c.post(b.base_url+"login",d).success(function(a,b,c,d){e.resolve(a)}).error(function(a,b,c,d){e.reject(a)}),e.promise},register:function(d){var e=a.defer();return c.post(b.base_url+"user",d).success(function(a,b,c,d){e.resolve(a)}).error(function(a,b,c,d){e.reject(b)}),e.promise},password_reset:function(d){var e=a.defer();return c.post(b.base_url+"password-reset/",d).success(function(a,b,c,d){e.resolve(a)}).error(function(a,b,c,d){e.reject(b)}),e.promise},salir:function(){storage.get("token")&&(storage["delete"]("token"),storage["delete"]("user"),window.localStorage.clear(),window.location="#/login")}}},this}]),angular.module("shoplyApp").controller("RequestCtrl",["$scope","$window","$timeout","constants","api","$state","modal","$rootScope",function(a,b,c,d,e,f,g,h){a.request_status=d.request_status,a.Records=!1,a.records=[],a.load=function(){e.pedido().get().success(function(b){a.records=b||[],a.Records=!0})},a.location=function(){return this.record.data.geo?(a.ubicacion=this.record.data.geo,void g.show({templateUrl:"views/ordenes/localizacion.html",size:"md",scope:a,backdrop:"static"},function(a){a.$close()})):void sweetAlert("Ups","Coordenadas no disponibles","warning")},a["delete"]=function(){var b=this.record;g.removeConfirm({closeOnConfirm:!0},function(c){c&&e.pedido(b._id)["delete"]().success(function(c){sweetAlert("Correcto","Se ha eliminado este registro","success"),a.records.splice(a.records.indexOf(b),1)})})},a.detail=function(){f.go("dashboard.detalle_pedido",{pedido:this.record._id})},a.myConfig={valueField:"status",labelField:"status",placeholder:"Estado",onInitialize:function(a){},maxItems:1}}]),angular.module("shoplyApp").controller("locationCtrl",locationCtrl),locationCtrl.$inject=["$scope","$rootScope","sweetAlert","$state","$timeout"],angular.module("shoplyApp").controller("employeCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i){a.Records=!1,a.load=function(){h.user().get().success(function(b){a.records=b.filter(function(a){return"EMPLOYE"==a.type}),a.Records=!0})},a.doTonnage=function(){f.go("dashboard.crear-arqueo",{employee:c.grid.selected})},a.create=function(){window.modal=g.show({templateUrl:"views/empleado/agregar_empleado.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEmploye.$invalid?void g.incompleteForm():(a.form.type="EMPLOYE",void h.user().post(a.form).success(function(b){b&&(d.swal("Registro completado.","has registrado un nuevo empleado.","success"),a.$close(),a.load(),delete a.form)}).error(function(a,b){409==b&&d.swal("Email en uso.","este email ya se encuentra en uso.","warning")}))})},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit._route=a.formEdit._route.map(function(a){return a._id}),a.formEdit._permission=a.formEdit._permission?a.formEdit._permission._id:null,a.formEdit._grocery=a.formEdit._grocery?a.formEdit._grocery.map(function(a){return a._id}):null,delete a.formEdit.password,window.modal=g.show({templateUrl:"views/empleado/editar_empleado.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEditEmploye.$invalid?void g.incompleteForm():void(a.formEdit.password?h.verification_code().add(a.formEdit._id).get().success(function(b){b&&d.swal({title:"Escriba el codigo de verificación",type:"input",showCancelButton:!1,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Codigo de verificación"},function(b){a.formEdit.verificationCode=b,h.user(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)}).error(function(a,b){409==b&&d.swal("Email en uso.","este email ya se encuentra en uso.","warning"),400==b&&d.swal("Error de validación","Codigo de verificación incorrecto.","warning")})})}):h.user(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)}))})},a["delete"]=function(){var b=this.record||c.grid.value;g.removeConfirm({closeOnConfirm:!0},function(c){c&&h.user(b._id)["delete"]().success(function(c){a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").controller("PermisoCtrl",["$scope","$window","$rootScope","$timeout","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i,j){a.Records=!1,a.menus=b.permisos.menus,a.forms=b.permisos.forms,a.$watch("form.data._menu",function(b,c){a.formsCollection=angular.copy(a.forms.filter(function(a){return a.parent==b}))}),a.$watch("formEdit.data._menu",function(b,c){a.formsCollectionEdit=angular.copy(a.forms.filter(function(a){return a.parent==b}))}),a.load=function(){a.permission&&delete a.permission,i.permiso().get().success(function(b){a.records=b||[],a.Records=!0})},a.addMenu=function(){a.permission?(a.form.data.menuText=a.getObj("menus",a.form.data._menu).nombre,a.form.data.menuIcon=a.getObj("menus",a.form.data._menu).icon,a.form.data.formText=a.getObj("forms",a.form.data._form)?a.getObj("forms",a.form.data._form).nombre:null,a.permission.push(angular.copy(a.form.data)),a.form.data._form=null,a.form.data.access=null):(a.permission=[],a.form.data.menuText=a.getObj("menus",a.form.data._menu).nombre,a.form.data.menuIcon=a.getObj("menus",a.form.data._menu).icon,a.form.data.formText=a.getObj("forms",a.form.data._form)?a.getObj("forms",a.form.data._form).nombre:null,a.permission.push(angular.copy(a.form.data)),a.form.data._form=null,a.form.data.access=null)},a.getObj=function(b,c){return a[b].filter(function(a){return a.id==c})[0]},a.addMenuEdit=function(){var b={};b._menu=a.formEdit.data._menu,b.access=a.formEdit.data.access,b._form=a.formEdit.data._form,b.menuText=a.getObj("menus",a.formEdit.data._menu).nombre,b.menuIcon=a.getObj("menus",a.formEdit.data._menu).icon,b.formText=a.getObj("forms",a.formEdit.data._form)?a.getObj("forms",a.formEdit.data._form).nombre:null,a.formEdit.data.permission.push(b)},a.create=function(){window.modal=h.show({templateUrl:"views/permisos/agregar_permiso.html",size:"md",scope:a,backdrop:"static"},function(a){return a.permisoForm.$invalid?void h.incompleteForm():(a.formData=new Object,a.formData.data=new Object,a.formData.data.permission=a.permission,void e.swal({title:"",type:"input",showCancelButton:!1,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Perfil"},function(b){a.formData.data.profile=b,i.permiso().post(a.formData).success(function(b){b&&(e.swal("Registro completado.","Has creado un nuevo perfil.","success"),d(a.load()),delete a.permission,delete a.formData,a.$close(),window.swal.close())})}))})},a.verFormularios=function(){a.record=angular.copy(this.record.data.permission),window.modal=h.show({templateUrl:"views/permisos/verFormularios.html",size:"md",scope:a,backdrop:"static"},function(a){a.$close()})},a.edit=function(){a.formEdit=angular.copy(this.record),window.modal=h.show({templateUrl:"views/permisos/editar_permiso.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEditarPermiso.$invalid?void h.incompleteForm():void e.swal({title:"",type:"input",inputValue:a.formEdit.data.profile,showCancelButton:!1,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Perfil"},function(b){a.formEdit.data.profile=b,delete a.formEdit.data._menu,delete a.formEdit.data._form,delete a.formEdit.data.access,i.permiso(a.formEdit._id).put(a.formEdit).success(function(b){b&&(e.swal("Registro Modificado","Registro modificado correctamente.","success"),a.$close(),delete a.formEdit.data,a.load())})})})},a.removeFromList=function(){var b=this.record||c.grid.value;h.removeConfirm({closeOnConfirm:!0},function(c){c&&(a.permission.splice(a.permission.indexOf(b),1),
a.$apply())})},a.removeFromListEdit=function(){var b=this.record||c.grid.value;h.removeConfirm({closeOnConfirm:!0},function(c){c&&(a.formEdit.data.permission.splice(a.formEdit.data.permission.indexOf(b),1),a.$apply())})},a["delete"]=function(){var b=this.record;h.removeConfirm({closeOnConfirm:!0},function(c){c&&i.permiso(b._id)["delete"]().success(function(c){c&&a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").controller("GroceryCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i){a.Records=!1,a.load=function(){h.bodega().get().success(function(b){a.records=b||[],a.Records=!0})},a.create=function(){window.modal=g.show({templateUrl:"views/bodega/agregar_bodega.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formBodega.$invalid?void g.incompleteForm():void h.bodega().post(a.form).success(function(c){c&&(d.swal("Registro completado.","has registrado una nueva empresa.","success"),b(a.load()),a.$close(),delete a.form)})})},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit._responsible=a.formEdit._responsible?a.formEdit._responsible._id:null,window.modal=g.show({templateUrl:"views/bodega/editar_bodega.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEditarBodega.$invalid?void g.incompleteForm():void h.bodega(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit.data)})})},a["delete"]=function(b){var e=b||this.record;return e._id==c.user._company._id?void d.swal("Ups!!","No puedes eliminar una empresa en uso.","warning"):void g.removeConfirm({closeOnConfirm:!0},function(b){b&&h.bodega(e._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(e),1)})})}}]),angular.module("shoplyApp").controller("EntradaCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i){a.Records=!1,a.load=function(){h.entradas().get().success(function(b){a.records=b||[],a.Records=!0})},a.create=function(){window.modal=g.show({templateUrl:"views/entradas/agregar_entrada.html",size:"lg",scope:a,backdrop:"static"},function(a){return a.formCreateInput.$invalid?void g.incompleteForm():(a.form.data.totalCosto=0,a.form.data.totalprecioVenta=0,a.form.data.cantidad=0,a.form.data._product=a.recordsNew.map(function(b){return delete b.$order,a.form.data.totalCosto+=b.precio*b.cantidad,a.form.data.totalprecioVenta+=b.total,a.form.data.cantidad+=b.cantidad,b}),void h.entradas().post(a.form).success(function(c){c&&(d.swal("Registro completado.","has agregado una nueva entrada.","success"),b(a.load()),a.$close(),delete a.form)}))})},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit._responsible=a.formEdit._responsible?a.formEdit._responsible._id:null,window.modal=g.show({templateUrl:"views/entradas/editar_entrada.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEditarBodega.$invalid?void g.incompleteForm():void h.entradas(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit.data)})})},a["delete"]=function(b){var e=b||this.record;return e._id==c.user._company._id?void d.swal("Ups!!","No puedes eliminar una empresa en uso.","warning"):void g.removeConfirm({closeOnConfirm:!0},function(b){b&&h.entradas(e._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(e),1)})})}}]),angular.module("shoplyApp").controller("EntradaCreateCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage","shoppingCart",function(a,b,c,d,e,f,g,h,i,j){a.tasks=[],a.load=function(){a.$parent.recordsNew=[]},a.addToTask=function(){return this.task?void a.tasks.push(this.$index):void a.tasks.splice(a.tasks.splice[this.$index],1)},a.agregarCantidadMultiple=function(){window.modal=g.show({templateUrl:"views/facturacion/agregar-cantidad.html",size:"sm",scope:a,backdrop:"static"},function(a){if(a.cantidadModel){for(var b=0;b<a.tasks.length;b++)a.$parent.recordsNew[b].cantidad=parseInt(a.cantidadModel||1),a.$parent.recordsNew[b].total=parseInt((a.cantidadModel||1)*a.$parent.recordsNew[b].precio_venta);a.$close()}})},a.$watch("recordsNew",function(b,c){b.length>0&&(a.total=j.totalize(b)-j.totalizeDiscount(b)||0,a.TotalIva=j.totalizeIva(b),a.subTotal=a.total-a.TotalIva,a.descuento=j.totalizeDiscount(b))},!0),a.$watch("_product",function(b,c){if(b){var d=!1;angular.forEach(a.$parent.recordsNew,function(a){a._id==b&&(d=!0,a.valor_descuento&&(a.valor_descuento=a.valor_descuento+a.valor_descuento),a.cantidad=a.cantidad+1,a.total=a.precio_venta*a.cantidad)}),d||a.$parent.recordsNew.push(angular.copy(angular.extend(a._productObj,{cantidad:1,total:1*a._productObj.precio_venta}))),delete a._product}}),a.agregarCantidad=function(){var b=this.record;window.modal=g.show({templateUrl:"views/facturacion/agregar-cantidad.html",size:"sm",scope:a,backdrop:"static"},function(a){a.cantidadModel&&(a.$parent.recordsNew[a.$parent.recordsNew.indexOf(b)].cantidad=parseInt(a.cantidadModel||1),a.$parent.recordsNew[a.$parent.recordsNew.indexOf(b)].total=parseInt((a.cantidadModel||1)*b.precio_venta),a.$close())})}}]),angular.module("shoplyApp").controller("SalidaCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i){a.Records=!1,a.load=function(){h.salidas().get().success(function(b){a.records=b||[],a.Records=!0})},a.create=function(){window.modal=g.show({templateUrl:"views/salidas/agregar_salida.html",size:"lg",scope:a,backdrop:"static"},function(a){return a.formCreateOutput.$invalid?void g.incompleteForm():(a.form.data.totalCosto=0,a.form.data.totalprecioVenta=0,a.form.data.cantidad=0,a.form.data._product=a.recordsNew.map(function(b){return delete b.$order,a.form.data.totalCosto+=b.precio*b.cantidad,a.form.data.totalprecioVenta+=b.total,a.form.data.cantidad+=b.cantidad,b}),void h.salidas().post(a.form).success(function(c){c&&(d.swal("Registro completado.","has agregado una nueva entrada.","success"),b(a.load()),a.$close(),delete a.form)}))})},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit._responsible=a.formEdit._responsible?a.formEdit._responsible._id:null,window.modal=g.show({templateUrl:"views/entradas/editar_entrada.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEditarBodega.$invalid?void g.incompleteForm():void h.salidas(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit.data)})})},a["delete"]=function(b){var e=b||this.record;return e._id==c.user._company._id?void d.swal("Ups!!","No puedes eliminar una empresa en uso.","warning"):void g.removeConfirm({closeOnConfirm:!0},function(b){b&&h.salidas(e._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(e),1)})})}}]),angular.module("shoplyApp").controller("SalidaCreateCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage","shoppingCart",function(a,b,c,d,e,f,g,h,i,j){a.load=function(){a.$parent.recordsNew=[]},a.tasks=[],a.addToTask=function(){return this.task?void a.tasks.push(this.$index):void a.tasks.splice(a.tasks.splice[this.$index],1)},a.agregarCantidadMultiple=function(){window.modal=g.show({templateUrl:"views/facturacion/agregar-cantidad.html",size:"sm",scope:a,backdrop:"static"},function(a){if(a.cantidadModel){for(var b=0;b<a.tasks.length;b++)a.$parent.recordsNew[b].cantidad=parseInt(a.cantidadModel||1),a.$parent.recordsNew[b].total=parseInt((a.cantidadModel||1)*a.$parent.recordsNew[b].precio_venta);a.$close()}})},a.$watch("recordsNew",function(b,c){b.length>0&&(a.total=j.totalize(b)-j.totalizeDiscount(b)||0,a.TotalIva=j.totalizeIva(b),a.subTotal=a.total-a.TotalIva,a.descuento=j.totalizeDiscount(b))},!0),a.$watch("_product",function(b,c){if(b){var d=!1;angular.forEach(a.$parent.recordsNew,function(a){a._id==b&&(d=!0,a.valor_descuento&&(a.valor_descuento=a.valor_descuento+a.valor_descuento),a.cantidad=a.cantidad+1,a.total=a.precio_venta*a.cantidad)}),d||a.$parent.recordsNew.push(angular.copy(angular.extend(a._productObj,{cantidad:1,total:1*a._productObj.precio_venta}))),delete a._product}}),a.agregarCantidad=function(){var b=this.record;window.modal=g.show({templateUrl:"views/facturacion/agregar-cantidad.html",size:"sm",scope:a,backdrop:"static"},function(a){a.cantidadModel&&(a.$parent.recordsNew[a.$parent.recordsNew.indexOf(b)].cantidad=parseInt(a.cantidadModel||1),a.$parent.recordsNew[a.$parent.recordsNew.indexOf(b)].total=parseInt((a.cantidadModel||1)*b.precio_venta),a.$close())})}}]),angular.module("shoplyApp").controller("AppsCtrl",["$scope","$stateParams","$timeout","sweetAlert","constants","$state","modal","api","storage","$rootScope",function(a,b,c,d,e,f,g,h,i,j){a.Records=!1,a.load=function(){h.apps().get().success(function(b){a.records=b||[],a.Records=!0})},a.getPublic=function(){h.apps().add("public/"+b.app).get().success(function(b){a.records=b||[],a.Records=!0})},a.edit=function(){a.formEdit=angular.copy(j.grid.value),window.modal=g.show({templateUrl:"views/apps/editar_app.html",size:"md",scope:a,backdrop:"static"},function(a){if(a.appEditForm.$invalid)return void g.incompleteForm();a.loading=!0;var b=new FormData;b.append("data",JSON.stringify(a.formEdit.data)),b.append("splash",a.form.splash),b.append("icon",a.form.icono),h.apps().add("build").post(b,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(b){b.data&&(a.loading=!1,d.swal("Correcto","Aplicacion creada correctamente ","success"),a.load(),a.$close())})})},a.create=function(){window.modal=g.show({templateUrl:"views/apps/agregar_app.html",size:"md",scope:a,backdrop:"static"},function(a){if(a.appForm.$invalid)return void g.incompleteForm();a.loading=!0;var b=new FormData;b.append("data",JSON.stringify(a.form.data)),b.append("splash",a.form.splash),b.append("icon",a.form.icono),h.apps().add("build").post(b,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(b){b.data&&(a.loading=!1,d.swal("Correcto","Aplicacion creada correctamente ","success"),a.load(),a.$close())})})},a["delete"]=function(){var b=this.record||j.grid.value;g.removeConfirm({closeOnConfirm:!0},function(c){c&&h.apps(b._id)["delete"]().success(function(c){a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").service("api",["$http","constants",function(a,b){return this.get=function(){var b=this.url;return this.reset(),a.get(b)},this.post=function(b,c){var d=this.url;return this.reset(),a.post(d,b||{},c||{headers:{"Content-Type":"application/json"}})},this.put=function(b){var c=this.url;return this.reset(),a.put(c,b||{})},this["delete"]=function(){var b=this.url;return this.reset(),a["delete"](b)},this.Headers=null,this.add=function(a){return this.url+=a,this},this.headers=function(a){return this.Headers=a,this},this.reset=function(){this.url=""},this.user=function(a){return a?this.url=b.base_url+"user/"+a:this.url=b.base_url+"user/",this},this.recover=function(){return this.url=b.base_url+"recover/",this},this.reset_password=function(){return this.url=b.base_url+"reset/",this},this.verification_code=function(){return this.url=b.base_url+"user/verification-code/",this},this.permiso=function(a){return a?this.url=b.base_url+"permisos/"+a:this.url=b.base_url+"permisos/",this},this.bodega=function(a){return a?this.url=b.base_url+"bodegas/"+a:this.url=b.base_url+"bodegas/",this},this.entradas=function(a){return a?this.url=b.base_url+"entradas/"+a:this.url=b.base_url+"entradas/",this},this.salidas=function(a){return a?this.url=b.base_url+"salidas/"+a:this.url=b.base_url+"salidas/",this},this.producto=function(a){return a?this.url=b.base_url+"producto/"+a:this.url=b.base_url+"producto/",this},this.pedido=function(a){return a?this.url=b.base_url+"pedido/"+a:this.url=b.base_url+"pedido/",this},this.rutas=function(a){return a?this.url=b.base_url+"rutas/"+a:this.url=b.base_url+"rutas/",this},this.metadata=function(a){return a?this.url=b.base_url+"metadata/"+a:this.url=b.base_url+"entity/",this},this.ivas=function(a){return a?this.url=b.base_url+"ivas/"+a:this.url=b.base_url+"ivas/",this},this.formas_pagos=function(a){return a?this.url=b.base_url+"formasPago/"+a:this.url=b.base_url+"formasPago/",this},this.casa_comercial=function(a){return a?this.url=b.base_url+"casa-comercial/"+a:this.url=b.base_url+"casa-comercial/",this},this.facturacion=function(a){return a?this.url=b.base_url+"facturacion/"+a:this.url=b.base_url+"facturacion/",this},this.referencias=function(a){return a?this.url=b.base_url+"referencias/"+a:this.url=b.base_url+"referencias/",this},this.contadores=function(a){return a?this.url=b.base_url+"contadores/"+a:this.url=b.base_url+"contadores/",this},this.cantidades=function(){return this.url=b.base_url+"cantidades/",this},this.transportador=function(a){return a?this.url=b.base_url+"transportador/"+a:this.url=b.base_url+"transportador/",this},this.categoria=function(a){return a?this.url=b.base_url+"categoria/"+a:this.url=b.base_url+"categoria/",this},this.empresa=function(a){return a?this.url=b.base_url+"empresa/"+a:this.url=b.base_url+"empresa/",this},this.arqueos=function(a){return a?this.url=b.base_url+"arqueos/"+a:this.url=b.base_url+"arqueos/",this},this.apps=function(a){return a?this.url=b.base_url+"apps/"+a:this.url=b.base_url+"apps/",this},this.upload=function(){return this.url=b.uploadURL,this},this.uploadLocal=function(){return this.url=b.base_url+"upload-local/",this},this.s3=function(){return this.url=b.base_url+"upload-amazon/",this},this}]),angular.module("shoplyApp").service("permission",["$rootScope",function(a){return{canView:function(b){var c=!1;return a.user&&a.user._permission&&"EMPLOYE"==a.user.type?angular.forEach(a.user._permission.data.permission,function(a){a._menu==b&&(c=a.access?a.access.view:!1)}):a.user&&"ADMINISTRATOR"==a.user.type&&(c=!0),c},canViewForm:function(b){var c=!1;return a.user&&a.user._permission&&"EMPLOYE"==a.user.type?angular.forEach(a.user._permission.data.permission,function(a){a._form==b&&(c=a.access?a.access.view:!1)}):a.user&&"ADMINISTRATOR"==a.user.type&&(c=!0),c},canCreate:function(b){var c=!1;return a.user&&a.user._permission&&"EMPLOYE"==a.user.type?angular.forEach(a.user._permission.data.permission,function(a){a._menu==b&&(c=a.access?a.access.view:!1)}):a.user&&"ADMINISTRATOR"==a.user.type&&(c=!0),c},canUpdate:function(b){var c=!1;return a.user&&a.user._permission&&"EMPLOYE"==a.user.type?angular.forEach(a.user._permission.data.permission,function(a){a._menu==b&&(c=a.access?a.access.view:!1)}):a.user&&"ADMINISTRATOR"==a.user.type&&(c=!0),c},canDelete:function(b){var c=!1;return a.user&&a.user._permission&&"EMPLOYE"==a.user.type?angular.forEach(a.user._permission.data.permission,function(a){a._menu==b&&(c=a.access?a.access.view:!1)}):a.user&&"ADMINISTRATOR"==a.user.type&&(c=!0),c}}}]),angular.module("shoplyApp").constant("constants",{base_url:"http://181.54.214.103:8080/api/",socket:"http://181.54.214.103:8080",login_state_sucess:"dashboard",uploadURL:"http://181.54.214.103:8080/api/uploads",base_resource:"http://181.54.214.103:8080/api/resource/",currency:"COP",iva:[{valor:5,text:"5%"},{valor:10,text:"10%"}],request_status:[{status:"Despachado"},{status:"Facturado"},{status:"Pendiente"},{status:"Observación"}],product_status:[{status:"Habilitado"},{status:"Inhabilitado"}],enable_social_auth:!1,company:{company_name:"Mi Empresa",company_address:"cra 25A#35-56",company_phone:"(+57) 301 290 4420",company_email:"company@gmail.com",company_fax:"company@gmail.com"}}),angular.module("shoplyApp").service("storage",function(){return this.get=function(a){return window.localStorage[a]?window.localStorage[a].match(/\[\{?.*\}?\]/)?JSON.parse(window.localStorage[a]):window.localStorage[a]:void 0},this.save=function(a,b){window.localStorage[a]="object"==typeof b?JSON.stringify(b):b},this.update=function(a,b){window.localStorage[a]=window.localStorage[a].match("[{|}]")?JSON.stringify(b):b},this["delete"]=function(a){delete window.localStorage[a]},this}),angular.module("shoplyApp").service("sounds",function(){return{onRequest:function(){var a=new Audio("statics/onRequest.mp3");a.play()}}}),angular.module("shoplyApp").service("modal",["$uibModal",function(a){return{showLoading:function(b,c){window.modal=a.open({templateUrl:"views/modal/loader.html",size:"sm"})},show:function(b,c,d){window.modal=a.open({templateUrl:b.templateUrl,backdrop:b.backdrop,size:b.size||"md",windowClass:b.windowClass,scope:b.scope,controller:["$scope",function(a){a.ok=function(){c(a)},a.cancel=function(){return d?void d(a):void a.$close()}}]})},confirm:function(a,b){var c={confirmButtonColor:"#DD6B55",confirmButtonText:"Si",cancelButtonText:"No",showCancelButton:!0,closeOnConfirm:!1,closeOnCancel:!0};window.sweet=sweetAlert(angular.extend(c,a),b)},removeConfirm:function(a,b){var c={title:"Está Seguro?",text:"Una vez eliminado este registro, no podrá volver a usarlo.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",showCancelButton:!0,closeOnConfirm:!1,closeOnCancel:!0};window.sweet=sweetAlert(angular.extend(c,a),b)},incompleteForm:function(a){var b={confirmButtonText:"Ok",showCancelButton:!1,title:"Formulario no completado",text:"Los campos con (*) son obligatorios",type:"error"};window.sweet=sweetAlert(b,a)}}}]),angular.module("shoplyApp").service("shoppingCart",["$rootScope",function(a){return{totalize:function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].precio_VentaFacturado||a[c].precio_venta);return b},totalizeIva:function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].ivaFacturado);return b},totalizeBases:function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].precio_baseFacturado);return b},totalizeDiscount:function(a){for(var b=[],c=0;c<a.length;c++)b.push(parseInt(a[c].descuento));return b}}}]),angular.module("shoplyApp").controller("LoginCtrl",["$scope","sweetAlert","modal","constants","$state","storage","account","$rootScope",function(a,b,c,d,e,f,g,h){a.load=function(){f.get("rememberEmail")&&(a.fromStore=!0,a.form={},a.form.data={},a.form.data.email=f.get("rememberEmail"))},a.login=function(){if(a.loginForm.$invalid)return void c.incompleteForm();var b=function(a){var b=a.user,c=a.token;f.save("token",c),f.save("user",b),h.isLogged=a.user,h.user=f.get("user"),e.go(d.login_state_sucess)},i=function(b){a.failed=!0};g.usuario().ingresar(a.form.data).then(b,i)},a.remember=function(b){b&&a.form.data.email?f.save("rememberEmail",a.form.data.email):f["delete"]("rememberEmail")}}]),angular.module("shoplyApp").controller("RequestdetailCtrl",["$scope","api","$stateParams","$state",function(a,b,c,d){a.load=function(){a.Records=!1,b.pedido(c.pedido).get().success(function(b){a.record=b,a.Records=!0})},a.facturar=function(){d.go("dashboard.facturacion-pedido",{pedido:c.pedido})}}]),angular.module("shoplyApp").controller("ProductosCtrl",["$scope","$rootScope","modal","api","constants","$state",function(a,b,c,d,e,f){a.Records=!1,a.recordsProductos=[],a.recordsServices=[],a.load=function(){d.producto().get().success(function(b){a.records=b||[],a.Records=!0})},a.verImpuestos=function(){a.record=this.record._iva,window.modal=c.show({templateUrl:"views/productos/verIvas.html",size:"sm",scope:a,backdrop:"static"},function(a){a.$close()})},a.$watch("_grocery",function(b,c){delete a.total,b&&d.cantidades().add("stock/"+b).add("/"+a.formEdit._id).get().success(function(b){a.stocks=b,0==a.stocks.length?a.msg="No se encontraron movimientos en esta bodega":delete a.msg})}),a.onTypeQty=function(){this.record.data.baseComponent=this.record.precio*this.record.data.cantidad,this.record.data.baseIva=(this.record.precio+this.record.valor_iva)*this.record.data.cantidad},a.totalizeBase=function(){for(var b=[],c=0,d=0;d<a.recordsProductos.length;d++)b.push(a.recordsProductos[d].data.baseComponent||a.recordsProductos[d].precio);for(var e=0;e<b.length;e++)console.log("y",b[e]),c+=b[e];a.totalBase=c},a.totalizeBaseServices=function(){for(var b=[],c=0,d=0;d<a.recordsServices.length;d++)b.push(a.recordsServices[d].data.baseComponent||a.recordsServices[d].precio);for(var e=0;e<b.length;e++)console.log("y",b[e]),c+=b[e];a.totalBaseService=c},a.totalizeBaseIva=function(){for(var b=[],c=0,d=0;d<a.recordsProductos.length;d++)b.push(a.recordsProductos[d].data.baseIva||(a.recordsProductos[d].precio+a.recordsProductos[d].valor_iva)*a.recordsProductos[d].data.cantidad||0);for(var e=0;e<b.length;e++)console.log("y",b[e]),c+=b[e];a.totalBaseIva=c},a.options=["transparent","#FF8A80","#FFD180","#FFFF8D","#CFD8DC","#80D8FF","#A7FFEB","#CCFF90"],a.color="#FF8A80",a.colorChanged=function(a,b){console.log("from ",b," to ",a)},a.$watch("recordsProductos",function(b,c){b&&(a.totalizeBase(),a.totalizeBaseIva())},!0),a.removefromComponentList=function(){a.recordsProductos.splice(a.recordsProductos.indexOf(this.record),1)},a.$watch("_productAdd",function(b,c){b&&a.recordsProductos.push(a._productAddObj)}),a.$watch("recordsServices",function(b,c){b&&(a.totalizeBaseServices(),a.form.data.precio=a.totalBaseService)},!0),a.removeServicefromComponentList=function(){a.recordsServices.splice(a.recordsServices.indexOf(this.record),1)},a.$watch("_serviceAdd",function(b,c){b&&a.recordsServices.push(a._serviceAddObj)}),a.getByProduct=function(){a.total=0,d.cantidades().add("stock/"+a.formEdit._id).get().success(function(b){a.stocks=b,a.stocks.map(function(b){return a.total=a.total+parseInt(b.amount),b}),0==a.stocks.length?a.msg="No se encontraron movimientos en esta bodega":delete a.msg})},a.detail=function(){var a=f.href("dashboard.detalle_producto",{producto:b.grid.value._id});window.open(a,"_blank")},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit._category=this.record._category?this.record._category._id:null,a.formEdit._commercial_home=this.record._commercial_home?this.record._commercial_home._id:null,a.ivaValue=this.record._iva?this.record._iva.data.valor:0,a.formEdit._iva=this.record._iva?this.record._iva._id:null,a.formEdit.data.tags&&(a.tags=a.formEdit.data.tags.map(function(a){var b=new Object;return b.text=a,b.value=a,b})),a.formEdit._reference.reference&&(a.reference=a.formEdit._reference.reference.map(function(a){var b=new Object;return b.text=a,b.value=a,b})),window.modal=c.show({templateUrl:"views/productos/editar_producto.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formProducto.$invalid?void c.incompleteForm():void d.producto(a.formEdit._id).put(a.formEdit).success(function(b){b&&(sweetAlert("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.form.data)})})},a.$watch("form.data.precio",function(b,c){try{var d=parseInt(a.iva?a.iva.valor:0)/100*a.form.data.precio||0,e=(a.form.data.utilidad||0)/100*a.form.data.precio||0;a.form.data.valor_utilidad=e,a.form.data.valor_iva=d,a.form.data.precio_venta=d+e+a.form.data.precio}catch(f){}}),a.$watch("iva.valor",function(b,c){try{a.form.data.valor_iva=(a.form.data.precio+a.form.data.valor_utilidad)*(parseInt(b)/100),a.form.data.precio_venta=a.form.data.valor_iva+a.form.data.precio+a.form.data.valor_utilidad}catch(d){}}),a.$watch("form.data.utilidad",function(b,c){try{a.form.data.valor_utilidad=a.form.data.precio*(a.form.data.utilidad/100),a.form.data.precio_venta=a.form.data.valor_iva+a.form.data.valor_utilidad+a.form.data.precio}catch(d){}}),a.editLoad=function(){a.stocks&&a.stocks.length>0&&delete a.stocks,a._grocery&&delete a._grocery,a.$watch("formEdit.data.precio",function(b,c){try{var d=parseInt(a.EditIva?a.EditIva.valor:a.ivaValue)/100*a.formEdit.data.precio||0,e=(a.formEdit.data.utilidad||0)/100*a.formEdit.data.precio||0;a.formEdit.data.valor_utilidad=e,a.formEdit.data.valor_iva=d,a.formEdit.data.precio_venta=d+e+a.formEdit.data.precio}catch(f){console.log("error",f)}}),a.$watch("EditIva.valor",function(b,c){try{b||c?a.formEdit.data.valor_iva=a.formEdit.data.precio*(parseInt(b||0)/100):a.formEdit.data.valor_iva=(a.formEdit.data.precio+a.formEdit.data.valor_utilidad)*(parseInt(a.ivaValue)/100),a.formEdit.data.precio_venta=a.formEdit.data.valor_iva+a.formEdit.data.precio+a.formEdit.data.valor_utilidad}catch(d){console.log("error",d)}}),a.$watch("formEdit.data.utilidad",function(b,c){try{a.formEdit.data.valor_utilidad=a.formEdit.data.precio*(a.formEdit.data.utilidad/100),a.formEdit.data.precio_venta=a.formEdit.data.valor_iva+a.formEdit.data.valor_utilidad+a.formEdit.data.precio}catch(d){console.log("error",d)}})},a.create=function(){d.bodega().get().success(function(b){return 0==b.length?void sweetAlert("No Existen Bodegas","Debe existir almenos una bodega","error"):void(window.modal=c.show({templateUrl:"views/productos/agregar-producto.html",size:"lg",scope:a,backdrop:"static"},function(a){return a.formProducto.$invalid?void c.incompleteForm():void d.producto().post(a.form).success(function(b){b&&(a.load(),a.$close(),delete a.form.data,sweetAlert("Registro completado.","has registrado un nuevo producto.","success"))}).error(function(a,b){409==b&&sweetAlert("Referencia duplicada","La referencia: "+a.reference+" ya existe","warning")})}))})},a["delete"]=function(){var b=this.record;c.removeConfirm({closeOnConfirm:!0},function(c){c&&d.producto(b._id)["delete"]().success(function(c){c&&a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").controller("ResetPasswordCtrl",["$scope","$stateParams","api","sweetAlert","account","storage","$state",function(a,b,c,d,e,f,g){a.reset=function(){a.resetForm.$valid&&(a.form.data.link=b.token,c.reset_password().add(b.token).post(a.form.data).then(function(b){b&&(d.swal("Cambio de clave!","se ha cambiado correctamente","success"),delete a.form,g.go("login"))},function(a){404==a.status&&d.swal({title:"Expiró",text:"Este enlace ha caducado.",type:"error"})}))}}]),angular.module("shoplyApp").directive("estadoProducto",function(){function a(a,b){a.records=b.product_status,a.myConfig={valueField:"status",labelField:"status",placeholder:"Estado",maxItems:1}}return a.$inject=["$scope","constants"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"="},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("iva",function(){function a(a,b,c){c.ivas().get().success(function(b){a.records=b.map(function(a){var b=a.data;return b._id=a._id,b})}),a.$watch("ngModel",function(b,c){b&&angular.forEach(a.records,function(c){c._id==b&&(a.setObject=c)})}),a.myConfig={valueField:"_id",labelField:"descripcion",placeholder:"Iva",maxItems:1,allowEmptyOption:a.emptyOption}}return a.$inject=["$scope","constants","api"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"=",setObject:"=",emptyOption:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("choice",["$rootScope",function(a){return{restrict:"A",scope:{choice:"=choice",value:"=value"},link:function(a,b,c){a.$watch("choice",function(c){console.log(c==a.choice),b.toggleClass("sp-active",c===a.value)}),b.addClass("sp-choosable"),b.bind("click",function(){a.$apply(function(){a.choice=a.value})}),b.on("$destroy",function(){})}}}]),angular.module("shoplyApp").directive("cropper",["$rootScope","$timeout","modal",function(a,b,c){function d(a){a.open=function(){c.show({templateUrl:"views/utils/cropper2.html",size:"md",scope:a},function(a){a.$close()})}}function e(a,c,d){var e=function(b){var c=b.currentTarget.files[0],d=new FileReader;a.isLoaded=!1,d.onload=function(b){a.$apply(function(a){a.myImage=b.target.result,a.isLoaded=!0,a.open()})},d.readAsDataURL(c)};b(function(){angular.element(document.querySelector("#"+a.uploadId)).on("change",e)})}return d.$inject=["$scope"],{restrict:"EA",template:'<div><div ng-show="!isLoaded" ><input type="file" id="{{uploadId}}" class="hidden"><label style="width: 100%;float: left;position: relative;height: 350px;line-height: 7; font-size: 50px;" for="{{uploadId}}" class="text-center custom-btn custom-btn-primary"><i class="icon icon-picture"></i>Subir</label></div></div>',scope:{ngModel:"=",uploadId:"@"},controller:d,link:e}}]),angular.module("shoplyApp").directive("clienteField",function(){function a(a,b,c,d){b.user().get().success(function(b){a.records=b.filter(function(a){return a.full_name=a.name+" "+a.last_name,"CLIENT"==a.type})}),a.myConfig={loadingClass:"selectizeLoading",create:!1,valueField:a.key,labelField:a.label,placeholder:"Cliente",openOnFocus:!1,selectOnTab:!0,maxItems:1}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize focus-on="true" config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=ngModel",key:"@",label:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("requestField",function(){function a(a,b){a.records=[{text:"Orden de Pedido",value:"Orden de Pedido"},{text:"Remisión",value:"Remisión"}],a.myConfig={valueField:"value",labelField:"text",placeholder:"Tipo",maxItems:1,allowEmptyOption:a.emptyOption}}return a.$inject=["$scope","constants"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"=",emptyOption:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("estadoPedido",function(){function a(a,b){a.records=b.request_status,a.myConfig={valueField:"status",allowEmptyOption:!0,labelField:"status",placeholder:"Estado",maxItems:1}}return a.$inject=["$scope","constants"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"="},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("companyField",function(){function a(a,b,c,d){b.empresa().add("user/"+d.user._id).get().success(function(b){a.records=b.map(function(a){var b=new Object;return b.name=a.data.empresa,b._id=a._id,b.decripcion=a.data.descripcion,b})||[]}),a.myConfig={loadingClass:"selectizeLoading",valueField:a.key,labelField:a.label,placeholder:"Empresa",maxItems:1}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",key:"@",label:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("employeeField",function(){function a(a,b,c,d){b.user().get().success(function(b){a.records=b.filter(function(a){return"EMPLOYE"==a.type})}),a.myConfig={valueField:a.key,labelField:a.label,placeholder:a.placeholder,maxItems:1,allowEmptyOption:a.emptyOption}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",key:"@",label:"@",placeholder:"@",allowEmptyOption:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("bodegaField",function(){function a(a,b,c,d){b.bodega().get().success(function(b){a.records=b.map(function(a){var b=new Object;return b.name=a.data.bodega,b._id=a._id,b})||[]}),a.myConfig={valueField:a.key,labelField:a.label,placeholder:"Bodega",selectOnTab:!0,allowEmptyOption:a.emptyOption,maxItems:parseInt(a.itemsMax),plugins:parseInt(a.itemsMax)>1?["remove_button"]:void 0}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",key:"@",label:"@",emptyOption:"@",itemsMax:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("spSidebarMenu",function(){return{replace:!0,templateUrl:"views/system-shoply/sp-sidebar.html",restrict:"EA",
link:function(a,b,c){b.find("#sp-menu").metisMenu()}}}),angular.module("shoplyApp").directive("spSidebarHeader",function(){return{replace:!0,templateUrl:"views/system-shoply/sp-sidebar-header.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("shoplyApp").directive("spHeaderToolbar",function(){return{replace:!0,templateUrl:"views/system-shoply/sp-header-toolbar.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("shoplyApp").directive("entidadField",function(){function a(a,b){a.records=[{text:"Productos",value:"_product"},{text:"Pedidos",value:"_request"},{text:"Facturas",value:"_invoice"},{text:"Arqueos",value:"_tonnage"},{text:"Bodega",value:"_grocery"},{text:"Entradas",value:"_inputs"},{text:"Salidas",value:"_outputs"}],a.myConfig={valueField:"value",labelField:"text",placeholder:"Entidad",maxItems:1,onItemAdd:function(b,c){angular.forEach(a.records,function(c,d){return c.value==b?void(a.setObject=a.records[d]):void 0})}}}return a.$inject=["$scope","constants"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"=",setObject:"="},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("uiFocus",["$timeout","$parse",function(a,b){return{link:function(c,d,e){var f=b(e.uiFocus);c.$watch(f,function(b){b===!0&&a(function(){d[0].focus()})}),d.bind("blur",function(){c.$apply(function(){f=!1})})}}}]),angular.module("shoplyApp").directive("focusOn",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){b.$watch(d.focusOn,function(b){a(function(){b?c.focus():c.blur()})})}}}]),angular.module("shoplyApp").directive("referenceField",function(){function a(a,b,c,d){a.myConfig={create:!0,valueField:a.key,labelField:a.label,placeholder:"Escriba la referencia y presione [enter]",plugins:["remove_button"]}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="[]" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",key:"@",label:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("spGalleryPreview",function(){function a(a){a.setImage=function(){a.selection=this.image},a.next=function(){return-1==a.images.indexOf(a.selection)?void(a.selection=a.images[1]):void(a.selection=a.images[a.images.indexOf(a.selection)+1])},a.prev=function(){return console.log("indice",a.images.indexOf(a.selection)),0==a.images.indexOf(a.selection)||-1==a.images.indexOf(a.selection)?void(a.selection=a.images[a.images.length-1]):void(a.selection=a.images[a.images.indexOf(a.selection)-1])}}return a.$inject=["$scope"],{templateUrl:"views/system-shoply/sp-gallery-preview.html",restrict:"EA",scope:{images:"="},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").controller("ProductdetailCtrl",["$scope","api","$stateParams",function(a,b,c){a.load=function(){c.producto&&b.producto(c.producto).get().success(function(b){a.record=b})},a.upload=function(){var c=new FormData,d=a.myFiles[0];c.append("file",d),b.upload().post(c,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(a){console.log(a)})}}]),angular.module("shoplyApp").controller("IvasCtrl",["$scope","modal","api",function(a,b,c){a.load=function(){a.loading=!0,c.ivas().get().success(function(b){a.records=b||[],a.loading=!1})},a.agregar=function(){return a.formIva.$invalid?void b.incompleteForm():void c.ivas().post(a.form).success(function(b){b&&(a.records.push(b),delete a.form.data)})},a.borrar=function(){var d=this.record;b.removeConfirm({closeOnConfirm:!0},function(b){b&&c.ivas(d._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(d),1)})})},a.edit=function(){a.formEdit=angular.copy(this.record),window.modal=b.show({templateUrl:"views/iva/editar_ivas.html",size:"md",scope:a},function(a){return a.$$childTail.formEditIva.$invalid?void b.incompleteForm():void c.ivas(a.formEdit._id).put(a.formEdit).success(function(b){b&&(sweetAlert("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)})})}}]),angular.module("shoplyApp").directive("imageUploader",["api","modal",function(a,b,c,d){function e(c,d){c.image_final="",c.ghost=[],c.load=function(){},c.show=function(){c.file=this.file.preview||this.file.URL,b.show({templateUrl:"views/utils/preview.html",size:"md",scope:c},function(a){a.$close()})},c.remove=function(){c.ngModel.splice(c.ngModel.indexOf(this.file),1),c.ngModel.length<=c.items&&(c.showAlert=!1)},c.edit=function(){c.editImage=this.file,b.show({templateUrl:"views/utils/cropper2.html",size:"md",scope:c},function(b){b.editImage.loading=!0,a.uploadLocal().post({data:b.image_final}).then(function(a){a&&(b.editImage.loading=!1,b.udate=new Date,b.editImage.URL=a.data.url,delete b.editImage.preview)},function(a){}),b.$close()})}}return e.$inject=["$scope","$http"],{restrict:"EA",templateUrl:"views/utils/uploader.html",scope:{ngModel:"=",buttonText:"@",area:"@",title:"@",label:"@",items:"="},controller:e,link:function(a,b,c){var d=angular.element(b).find("#file");d.on("change",function(b){a.$apply(function(){a.files=b.currentTarget.files,a.files.length>a.items&&(a.showAlert=!0),angular.forEach(a.files,function(b){var c=new FileReader;c.onload=function(c){b.preview=c.target.result,b.udate=new Date,b.aname=b.name,a.ghost.push(b),a.$apply()},c.readAsDataURL(b),a.ngModel?a.ngModel.push(b):(a.ngModel=[],a.ngModel.push(b))})})})}}}]),angular.module("shoplyApp").directive("uploaderDrop",["api","$window","$timeout",function(a,b,c){function d(a){}return d.$inject=["$scope"],{restrict:"EA",replace:!0,template:'<div class="drop-box"><input type="file" name="{{selector}}" id="{{selector}}" class="hidden"><label for="{{selector}}"><span class="">{{ngModel.name || "Seleccionar o Arrastrar"}}</span><p style="color: #e66e6e;padding: 4px;background-color: whitesmoke; border-radius: 3px;font-size: smaller;" ng-show="showErrorFile"><i class="glyphicon glyphicon-remove-sign"></i>&nbsp;{{showErrorFile}}</p></label></div>',scope:{ngModel:"=",selector:"@",size:"=",ext:"="},controller:d,link:function(a,b,d){c(function(){var c=document.getElementById(d.selector);angular.element(c).on("change",function(c){a.$apply(function(){a.ngModel=c.currentTarget.files[0];var b=parseFloat(c.currentTarget.files[0].size/1024/1024).toFixed(2),d=c.currentTarget.files[0].name.split(".")[1];return-1==a.ext.indexOf(d)?void(a.showErrorFile="Este archivo no es valido"):b>a.size?void(a.showErrorFile="Archivo pesado! tamaño maximo "+a.size+"MB"):void(a.showErrorFile=!1)}),b.addClass("success")})}),b.on("dragover",function(a){a.preventDefault(),a.stopPropagation()}),b.on("dragenter",function(a){a.preventDefault(),a.stopPropagation()}),b.on("drop",function(c){return c.preventDefault(),c.stopPropagation(),c.originalEvent.dataTransfer&&c.originalEvent.dataTransfer.files.length>0&&a.$apply(function(){var d=parseFloat(c.originalEvent.dataTransfer.files[0].size/1024/1024).toFixed(2),e=c.originalEvent.dataTransfer.files[0].name.split(".")[1];return-1==a.ext.indexOf(e)?void(a.showErrorFile="Este archivo no es valido"):d>a.size?void(a.showErrorFile="Archivo pesado! tamaño maximo "+a.size+"MB"):(a.showErrorFile=!1,b.addClass("success"),void(a.ngModel=c.originalEvent.dataTransfer.files[0]))}),!1})}}}]),angular.module("shoplyApp").directive("departamentoField",function(){function a(a,b,c){a.records=b.departamentos,a.myConfig={valueField:"name",labelField:"name",placeholder:"Departamento",searchField:["name"],selectOnTab:!0,maxItems:1,allowEmptyOption:a.emptyOption,onChange:function(b){angular.forEach(a.records,function(d){return d.name==b?(c.$emit("departamentoField::changed",d.code),void a.$apply()):void 0})}}}return a.$inject=["$scope","$window","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"=",emptyOption:"@"},controller:a,link:function(a,b,c){console.log(b)}}}),angular.module("shoplyApp").directive("ciudadField",["$window",function(a){function b(b,c,d){b.records=a.municipios,c.$on("departamentoField::changed",function(c,d){b.records=angular.copy(a.municipios).filter(function(a){return a.code_dpto==d}),b.$apply()}),b.myConfig={valueField:"name",labelField:"name",searchField:["name"],placeholder:"Ciudad",selectOnTab:!0,maxItems:1,allowEmptyOption:b.emptyOption}}return b.$inject=["$scope","$rootScope","$filter"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"=",emptyOption:"@"},controller:b,link:function(a,b,c){}}}]),angular.module("shoplyApp").directive("rutasField",function(){function a(a,b,c,d){b.rutas().get().success(function(b){a.records=b.map(function(a){var b=a.data;return b._id=a._id,b})}),a.myConfig={valueField:a.key,labelField:a.label,placeholder:"Elijas las rutas",selectOnTab:!0,maxItems:1,allowEmptyOption:a.emptyOption}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",key:"@",label:"@",emptyOption:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("pageTitle",pageTitle),angular.module("shoplyApp").directive("icheck",icheck),pageTitle.$inject=["$rootScope","$timeout"],icheck.$inject=["$timeout"],angular.module("shoplyApp").directive("vendedorField",function(){function a(a,b,c,d){b.user().get().success(function(b){a.records=b.filter(function(a){return"SELLER"==a.type||"EMPLOYE"==a.type})}),a.myConfig={valueField:a.key,labelField:a.label,placeholder:"Vendedor",maxItems:1,allowEmptyOption:a.emptyOption}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",key:"@",label:"@",emptyOption:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("perfilField",function(){function a(a,b,c){c.permiso().get().success(function(b){a.records=b.map(function(a){var b=a.data;return b._id=a._id,b})}),a.myConfig={valueField:a.key,labelField:a.label,placeholder:"Entidad",maxItems:1,selectOnTab:!0,onItemAdd:function(b,c){angular.forEach(a.records,function(c,d){return c.value==b?void(a.setObject=a.records[d]):void 0})}}}return a.$inject=["$scope","constants","api"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"=",setObject:"=",key:"@",label:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("casaComercial",function(){function a(a,b,c){c.casa_comercial().get().success(function(b){a.records=b.map(function(a){var b=new Object;return b.name=a.data.descripcion_corta,b._id=a._id,b})||[]}),a.myConfig={valueField:a.key,labelField:a.label,placeholder:a.placeholder,maxItems:1,allowEmptyOption:a.emptyOption}}return a.$inject=["$scope","constants","api"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"E",scope:{ngModel:"=",key:"@",label:"@",emptyOption:"@",placeholder:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").filter("selectedItems",function(){return function(a,b){return console.log("inicial",b),b?a.filter(function(a){for(var c=0;c<a._route.length;c++)return a._route[c]._id==b?!0:!1;return!1}):a}}),angular.module("shoplyApp").filter("moment",function(){return function(a){return moment(a).fromNow()}}),window.departamentos=[{code:"5",name:"Antioquia"},{code:"8",name:"Atlántico"},{code:"11",name:"Bogotá D.C"},{code:"13",name:"Bolívar"},{code:"15",name:"Boyacá"},{code:"17",name:"Caldas"},{code:"18",name:"Caquetá"},{code:"19",name:"Cauca"},{code:"20",name:"Cesar"},{code:"23",name:"Córdoba"},{code:"25",name:"Cundinamarca"},{code:"27",name:"Chocó"},{code:"41",name:"Huila"},{code:"44",name:"La Guajira"},{code:"47",name:"Magdalena"},{code:"50",name:"Meta"},{code:"52",name:"Nariño"},{code:"54",name:"Norte de Santander"},{code:"63",name:"Quindio"},{code:"66",name:"Risaralda"},{code:"68",name:"Santander"},{code:"70",name:"Sucre"},{code:"73",name:"Tolima"},{code:"76",name:"Valle del Cauca"},{code:"81",name:"Arauca"},{code:"85",name:"Casanare"},{code:"86",name:"Putumayo"},{code:"88",name:"Archipiélago de San Andrés, Providencia y Santa Catalina"},{code:"91",name:"Amazonas"},{code:"94",name:"Guainía"},{code:"95",name:"Guaviare"},{code:"97",name:"Vaupés"},{code:"99",name:"Vichada"}],window.permisos={menus:[{nombre:"Ajustes",id:"mnuAjustes",icon:"fa-cogs"},{nombre:"Permisos",id:"mnuPermisos",icon:"fa-universal-access"},{nombre:"Usuarios",id:"mnuUsuarios",icon:"fa-users"},{nombre:"Productos",id:"mnuProductos",icon:"fa-shopping-bag"},{nombre:"Rutas",id:"mnuRutas",icon:"fa-street-view"},{nombre:"Categorias",id:"mnuCategorias",icon:"fa-folder-open"},{nombre:"Pedidos",id:"mnuPedidos",icon:"fa-shopping-cart"},{nombre:"Facturacion",id:"mnuFacturacion",icon:"fa-credit-card"},{nombre:"Arqueos",id:"mnuArqueos",icon:"fa-calculator"},{nombre:"Apps",id:"mnuApps",icon:"fa-android"},{nombre:"Empresa",id:"mnuEmpresas",icon:"fa-building-o"}],forms:[{parent:"mnuAjustes",nombre:"Ivas",id:"frmIvas"},{parent:"mnuAjustes",nombre:"Formas de Pago",id:"frmFormaPagos"},{parent:"mnuAjustes",nombre:"Consecutivos",id:"frmConsecutivos"},{parent:"mnuAjustes",nombre:"Casas Comerciales",id:"frmCasaComercial"},{parent:"mnuUsuarios",nombre:"Usuarios",id:"frmUsuarios"},{parent:"mnuUsuarios",nombre:"Empleados",id:"frmEmpleados"},{parent:"mnuUsuarios",nombre:"Vendedores",id:"frmVendedores"},{parent:"mnuFacturacion",nombre:"Nueva Facturacion",id:"frmNuevaFacturacion"},{parent:"mnuFacturacion",nombre:"Buscar Facturacion",id:"frmBuscarFacturacion"},{parent:"mnuFacturacion",nombre:"Devoluciones",id:"frmDevoluciones"}]},Selectize.define("no_match",function(a){var b=this;b.onNotMatch=function(){b.settings.noMatch()},b.refreshOptions=function(){var a=b.refreshOptions;return function(){a.apply(b,arguments),this.hasOptions||""==this.$control_input.val()||this.onNotMatch()}}()}),window.municipios=[{code_dpto:"5",code:"5001",name:"MEDELLÍN"},{code_dpto:"5",code:"5002",name:"ABEJORRAL"},{code_dpto:"5",code:"5004",name:"ABRIAQUÍ"},{code_dpto:"5",code:"5021",name:"ALEJANDRÍA"},{code_dpto:"5",code:"5030",name:"AMAGÁ"},{code_dpto:"5",code:"5031",name:"AMALFI"},{code_dpto:"5",code:"5034",name:"ANDES"},{code_dpto:"5",code:"5036",name:"ANGELÓPOLIS"},{code_dpto:"5",code:"5038",name:"ANGOSTURA"},{code_dpto:"5",code:"5040",name:"ANORÍ"},{code_dpto:"5",code:"5042",name:"SANTAFÉ DE ANTIOQUIA"},{code_dpto:"5",code:"5044",name:"ANZA"},{code_dpto:"5",code:"5045",name:"APARTADÓ"},{code_dpto:"5",code:"5051",name:"ARBOLETES"},{code_dpto:"5",code:"5055",name:"ARGELIA"},{code_dpto:"5",code:"5059",name:"ARMENIA"},{code_dpto:"5",code:"5079",name:"BARBOSA"},{code_dpto:"5",code:"5086",name:"BELMIRA"},{code_dpto:"5",code:"5088",name:"BELLO"},{code_dpto:"5",code:"5091",name:"BETANIA"},{code_dpto:"5",code:"5093",name:"BETULIA"},{code_dpto:"5",code:"5101",name:"CIUDAD BOLÍVAR"},{code_dpto:"5",code:"5107",name:"BRICEÑO"},{code_dpto:"5",code:"5113",name:"BURITICÁ"},{code_dpto:"5",code:"5120",name:"CÁCERES"},{code_dpto:"5",code:"5125",name:"CAICEDO"},{code_dpto:"5",code:"5129",name:"CALDAS"},{code_dpto:"5",code:"5134",name:"CAMPAMENTO"},{code_dpto:"5",code:"5138",name:"CAÑASGORDAS"},{code_dpto:"5",code:"5142",name:"CARACOLÍ"},{code_dpto:"5",code:"5145",name:"CARAMANTA"},{code_dpto:"5",code:"5147",name:"CAREPA"},{code_dpto:"5",code:"5148",name:"EL CARMEN DE VIBORAL"},{code_dpto:"5",code:"5150",name:"CAROLINA"},{code_dpto:"5",code:"5154",name:"CAUCASIA"},{code_dpto:"5",code:"5172",name:"CHIGORODÓ"},{code_dpto:"5",code:"5190",name:"CISNEROS"},{code_dpto:"5",code:"5197",name:"COCORNÁ"},{code_dpto:"5",code:"5206",name:"CONCEPCIÓN"},{code_dpto:"5",code:"5209",name:"CONCORDIA"},{code_dpto:"5",code:"5212",name:"COPACABANA"},{code_dpto:"5",code:"5234",name:"DABEIBA"},{code_dpto:"5",code:"5237",name:"DON MATÍAS"},{code_dpto:"5",code:"5240",name:"EBÉJICO"},{code_dpto:"5",code:"5250",name:"EL BAGRE"},{code_dpto:"5",code:"5264",name:"ENTRERRIOS"},{code_dpto:"5",code:"5266",name:"ENVIGADO"},{code_dpto:"5",code:"5282",name:"FREDONIA"},{code_dpto:"5",code:"5284",name:"FRONTINO"},{code_dpto:"5",code:"5306",name:"GIRALDO"},{code_dpto:"5",code:"5308",name:"GIRARDOTA"},{code_dpto:"5",code:"5310",name:"GÓMEZ PLATA"},{code_dpto:"5",code:"5313",name:"GRANADA"},{code_dpto:"5",code:"5315",name:"GUADALUPE"},{code_dpto:"5",code:"5318",name:"GUARNE"},{code_dpto:"5",code:"5321",name:"GUATAPE"},{code_dpto:"5",code:"5347",name:"HELICONIA"},{code_dpto:"5",code:"5353",name:"HISPANIA"},{code_dpto:"5",code:"5360",name:"ITAGUI"},{code_dpto:"5",code:"5361",name:"ITUANGO"},{code_dpto:"5",code:"5364",name:"JARDÍN"},{code_dpto:"5",code:"5368",name:"JERICÓ"},{code_dpto:"5",code:"5376",name:"LA CEJA"},{code_dpto:"5",code:"5380",name:"LA ESTRELLA"},{code_dpto:"5",code:"5390",name:"LA PINTADA"},{code_dpto:"5",code:"5400",name:"LA UNIÓN"},{code_dpto:"5",code:"5411",name:"LIBORINA"},{code_dpto:"5",code:"5425",name:"MACEO"},{code_dpto:"5",code:"5440",name:"MARINILLA"},{code_dpto:"5",code:"5467",name:"MONTEBELLO"},{code_dpto:"5",code:"5475",name:"MURINDÓ"},{code_dpto:"5",code:"5480",name:"MUTATÁ"},{code_dpto:"5",code:"5483",name:"NARIÑO"},{code_dpto:"5",code:"5490",name:"NECOCLÍ"},{code_dpto:"5",code:"5495",name:"NECHÍ"},{code_dpto:"5",code:"5501",name:"OLAYA"},{code_dpto:"5",code:"5541",name:"PEÑOL"},{code_dpto:"5",code:"5543",name:"PEQUE"},{code_dpto:"5",code:"5576",name:"PUEBLORRICO"},{code_dpto:"5",code:"5579",name:"PUERTO BERRÍO"},{code_dpto:"5",code:"5585",name:"PUERTO NARE"},{code_dpto:"5",code:"5591",name:"PUERTO TRIUNFO"},{code_dpto:"5",code:"5604",name:"REMEDIOS"},{code_dpto:"5",code:"5607",name:"RETIRO"},{code_dpto:"5",code:"5615",name:"RIONEGRO"},{code_dpto:"5",code:"5628",name:"SABANALARGA"},{code_dpto:"5",code:"5631",name:"SABANETA"},{code_dpto:"5",code:"5642",name:"SALGAR"},{code_dpto:"5",code:"5647",name:"SAN ANDRÉS DE CUERQUÍA"},{code_dpto:"5",code:"5649",name:"SAN CARLOS"},{code_dpto:"5",code:"5652",name:"SAN FRANCISCO"},{code_dpto:"5",code:"5656",name:"SAN JERÓNIMO"},{code_dpto:"5",code:"5658",name:"SAN JOSÉ DE LA MONTAÑA"},{code_dpto:"5",code:"5659",name:"SAN JUAN DE URABÁ"},{code_dpto:"5",code:"5660",name:"SAN LUIS"},{code_dpto:"5",code:"5664",name:"SAN PEDRO"},{code_dpto:"5",code:"5665",name:"SAN PEDRO DE URABA"},{code_dpto:"5",code:"5667",name:"SAN RAFAEL"},{code_dpto:"5",code:"5670",name:"SAN ROQUE"},{code_dpto:"5",code:"5674",name:"SAN VICENTE"},{code_dpto:"5",code:"5679",name:"SANTA BÁRBARA"},{code_dpto:"5",code:"5686",name:"SANTA ROSA DE OSOS"},{code_dpto:"5",code:"5690",name:"SANTO DOMINGO"},{code_dpto:"5",code:"5697",name:"EL SANTUARIO"},{code_dpto:"5",code:"5736",name:"SEGOVIA"},{code_dpto:"5",code:"5756",name:"SONSON"},{code_dpto:"5",code:"5761",name:"SOPETRÁN"},{code_dpto:"5",code:"5789",name:"TÁMESIS"},{code_dpto:"5",code:"5790",name:"TARAZÁ"},{code_dpto:"5",code:"5792",name:"TARSO"},{code_dpto:"5",code:"5809",name:"TITIRIBÍ"},{code_dpto:"5",code:"5819",name:"TOLEDO"},{code_dpto:"5",code:"5837",name:"TURBO"},{code_dpto:"5",code:"5842",name:"URAMITA"},{code_dpto:"5",code:"5847",name:"URRAO"},{code_dpto:"5",code:"5854",name:"VALDIVIA"},{code_dpto:"5",code:"5856",name:"VALPARAÍSO"},{code_dpto:"5",code:"5858",name:"VEGACHÍ"},{code_dpto:"5",code:"5861",name:"VENECIA"},{code_dpto:"5",code:"5873",name:"VIGÍA DEL FUERTE"},{code_dpto:"5",code:"5885",name:"YALÍ"},{code_dpto:"5",code:"5887",name:"YARUMAL"},{code_dpto:"5",code:"5890",name:"YOLOMBÓ"},{code_dpto:"5",code:"5893",name:"YONDÓ"},{code_dpto:"5",code:"5895",name:"ZARAGOZA"},{code_dpto:"8",code:"8001",name:"BARRANQUILLA"},{code_dpto:"8",code:"8078",name:"BARANOA"},{code_dpto:"8",code:"8137",name:"CAMPO DE LA CRUZ"},{code_dpto:"8",code:"8141",name:"CANDELARIA"},{code_dpto:"8",code:"8296",name:"GALAPA"},{code_dpto:"8",code:"8372",name:"JUAN DE ACOSTA"},{code_dpto:"8",code:"8421",name:"LURUACO"},{code_dpto:"8",code:"8433",name:"MALAMBO"},{code_dpto:"8",code:"8436",name:"MANATÍ"},{code_dpto:"8",code:"8520",name:"PALMAR DE VARELA"},{code_dpto:"8",code:"8549",name:"PIOJÓ"},{code_dpto:"8",code:"8558",name:"POLONUEVO"},{code_dpto:"8",code:"8560",name:"PONEDERA"},{code_dpto:"8",code:"8573",name:"PUERTO COLOMBIA"},{code_dpto:"8",code:"8606",name:"REPELÓN"},{code_dpto:"8",code:"8634",name:"SABANAGRANDE"},{code_dpto:"8",code:"8638",name:"SABANALARGA"},{code_dpto:"8",code:"8675",name:"SANTA LUCÍA"},{code_dpto:"8",code:"8685",name:"SANTO TOMÁS"},{code_dpto:"8",code:"8758",name:"SOLEDAD"},{code_dpto:"8",code:"8770",name:"SUAN"},{code_dpto:"8",code:"8832",name:"TUBARÁ"},{code_dpto:"8",code:"8849",name:"USIACURÍ"},{code_dpto:"11",code:"11001",name:"BOGOTÁ"},{code_dpto:"13",code:"13001",name:"CARTAGENA"},{code_dpto:"13",code:"13006",name:"ACHÍ"},{code_dpto:"13",code:"13030",name:"ALTOS DEL ROSARIO"},{code_dpto:"13",code:"13042",name:"ARENAL"},{code_dpto:"13",code:"13052",name:"ARJONA"},{code_dpto:"13",code:"13062",name:"ARROYOHONDO"},{code_dpto:"13",code:"13074",name:"BARRANCO DE LOBA"},{code_dpto:"13",code:"13140",name:"CALAMAR"},{code_dpto:"13",code:"13160",name:"CANTAGALLO"},{code_dpto:"13",code:"13188",name:"CICUCO"},{code_dpto:"13",code:"13212",name:"CÓRDOBA"},{code_dpto:"13",code:"13222",name:"CLEMENCIA"},{code_dpto:"13",code:"13244",name:"EL CARMEN DE BOLÍVAR"},{code_dpto:"13",code:"13248",name:"EL GUAMO"},{code_dpto:"13",code:"13268",name:"EL PEÑÓN"},{code_dpto:"13",code:"13300",name:"HATILLO DE LOBA"},{code_dpto:"13",code:"13430",name:"MAGANGUÉ"},{code_dpto:"13",code:"13433",name:"MAHATES"},{code_dpto:"13",code:"13440",name:"MARGARITA"},{code_dpto:"13",code:"13442",name:"MARÍA LA BAJA"},{code_dpto:"13",code:"13458",name:"MONTECRISTO"},{code_dpto:"13",code:"13468",name:"MOMPÓS"},{code_dpto:"13",code:"13473",name:"MORALES"},{code_dpto:"13",code:"13549",name:"PINILLOS"},{code_dpto:"13",code:"13580",name:"REGIDOR"},{code_dpto:"13",code:"13600",name:"RÍO VIEJO"},{code_dpto:"13",code:"13620",name:"SAN CRISTÓBAL"},{code_dpto:"13",code:"13647",name:"SAN ESTANISLAO"},{code_dpto:"13",code:"13650",name:"SAN FERNANDO"},{code_dpto:"13",code:"13654",name:"SAN JACINTO"},{code_dpto:"13",code:"13655",name:"SAN JACINTO DEL CAUCA"},{code_dpto:"13",code:"13657",name:"SAN JUAN NEPOMUCENO"},{code_dpto:"13",code:"13667",name:"SAN MARTÍN DE LOBA"},{code_dpto:"13",code:"13670",name:"SAN PABLO"},{code_dpto:"13",code:"13673",name:"SANTA CATALINA"},{code_dpto:"13",code:"13683",name:"SANTA ROSA"},{code_dpto:"13",code:"13688",name:"SANTA ROSA DEL SUR"},{code_dpto:"13",code:"13744",name:"SIMITÍ"},{code_dpto:"13",code:"13760",name:"SOPLAVIENTO"},{code_dpto:"13",code:"13780",name:"TALAIGUA NUEVO"},{code_dpto:"13",code:"13810",name:"TIQUISIO"},{code_dpto:"13",code:"13836",name:"TURBACO"},{code_dpto:"13",code:"13838",name:"TURBANÁ"},{code_dpto:"13",code:"13873",name:"VILLANUEVA"},{code_dpto:"13",code:"13894",name:"ZAMBRANO"},{code_dpto:"15",code:"15001",name:"TUNJA"},{code_dpto:"15",code:"15022",name:"ALMEIDA"},{code_dpto:"15",code:"15047",name:"AQUITANIA"},{code_dpto:"15",code:"15051",name:"ARCABUCO"},{code_dpto:"15",code:"15087",name:"BELÉN"},{code_dpto:"15",code:"15090",name:"BERBEO"},{code_dpto:"15",code:"15092",name:"BETÉITIVA"},{code_dpto:"15",code:"15097",name:"BOAVITA"},{code_dpto:"15",code:"15104",name:"BOYACÁ"},{code_dpto:"15",code:"15106",name:"BRICEÑO"},{code_dpto:"15",code:"15109",name:"BUENAVISTA"},{code_dpto:"15",code:"15114",name:"BUSBANZÁ"},{code_dpto:"15",code:"15131",name:"CALDAS"},{code_dpto:"15",code:"15135",name:"CAMPOHERMOSO"},{code_dpto:"15",code:"15162",name:"CERINZA"},{code_dpto:"15",code:"15172",name:"CHINAVITA"},{code_dpto:"15",code:"15176",name:"CHIQUINQUIRÁ"},{code_dpto:"15",code:"15180",name:"CHISCAS"},{code_dpto:"15",code:"15183",name:"CHITA"},{code_dpto:"15",code:"15185",name:"CHITARAQUE"},{code_dpto:"15",code:"15187",name:"CHIVATÁ"},{code_dpto:"15",code:"15189",name:"CIÉNEGA"},{code_dpto:"15",code:"15204",name:"CÓMBITA"},{code_dpto:"15",code:"15212",name:"COPER"},{code_dpto:"15",code:"15215",name:"CORRALES"},{code_dpto:"15",code:"15218",name:"COVARACHÍA"},{code_dpto:"15",code:"15223",name:"CUBARÁ"},{code_dpto:"15",code:"15224",name:"CUCAITA"},{code_dpto:"15",code:"15226",name:"CUÍTIVA"},{code_dpto:"15",code:"15232",name:"CHÍQUIZA"},{code_dpto:"15",code:"15236",name:"CHIVOR"},{code_dpto:"15",code:"15238",name:"DUITAMA"},{code_dpto:"15",code:"15244",name:"EL COCUY"},{code_dpto:"15",code:"15248",name:"EL ESPINO"},{code_dpto:"15",code:"15272",name:"FIRAVITOBA"},{code_dpto:"15",code:"15276",name:"FLORESTA"},{code_dpto:"15",code:"15293",name:"GACHANTIVÁ"},{code_dpto:"15",code:"15296",name:"GAMEZA"},{code_dpto:"15",code:"15299",name:"GARAGOA"},{code_dpto:"15",code:"15317",name:"GUACAMAYAS"},{code_dpto:"15",code:"15322",name:"GUATEQUE"},{code_dpto:"15",code:"15325",name:"GUAYATÁ"},{code_dpto:"15",code:"15332",name:"GÜICÁN"},{code_dpto:"15",code:"15362",name:"IZA"},{code_dpto:"15",code:"15367",name:"JENESANO"},{code_dpto:"15",code:"15368",name:"JERICÓ"},{code_dpto:"15",code:"15377",name:"LABRANZAGRANDE"},{code_dpto:"15",code:"15380",name:"LA CAPILLA"},{code_dpto:"15",code:"15401",name:"LA VICTORIA"},{code_dpto:"15",code:"15403",name:"LA UVITA"},{code_dpto:"15",code:"15407",name:"VILLA DE LEYVA"},{code_dpto:"15",code:"15425",name:"MACANAL"},{code_dpto:"15",code:"15442",name:"MARIPÍ"},{code_dpto:"15",code:"15455",name:"MIRAFLORES"},{code_dpto:"15",code:"15464",name:"MONGUA"},{code_dpto:"15",code:"15466",name:"MONGUÍ"},{code_dpto:"15",code:"15469",name:"MONIQUIRÁ"},{code_dpto:"15",code:"15476",name:"MOTAVITA"},{code_dpto:"15",code:"15480",name:"MUZO"},{code_dpto:"15",code:"15491",name:"NOBSA"},{code_dpto:"15",code:"15494",name:"NUEVO COLÓN"},{code_dpto:"15",code:"15500",name:"OICATÁ"},{code_dpto:"15",code:"15507",name:"OTANCHE"},{code_dpto:"15",code:"15511",name:"PACHAVITA"},{code_dpto:"15",code:"15514",name:"PÁEZ"},{code_dpto:"15",code:"15516",name:"PAIPA"},{code_dpto:"15",code:"15518",name:"PAJARITO"},{code_dpto:"15",code:"15522",name:"PANQUEBA"},{code_dpto:"15",code:"15531",name:"PAUNA"},{code_dpto:"15",code:"15533",name:"PAYA"},{code_dpto:"15",code:"15537",name:"PAZ DE RÍO"},{code_dpto:"15",code:"15542",name:"PESCA"},{code_dpto:"15",code:"15550",name:"PISBA"},{code_dpto:"15",code:"15572",name:"PUERTO BOYACÁ"},{code_dpto:"15",code:"15580",name:"QUÍPAMA"},{code_dpto:"15",code:"15599",name:"RAMIRIQUÍ"},{code_dpto:"15",code:"15600",name:"RÁQUIRA"},{code_dpto:"15",code:"15621",name:"RONDÓN"},{code_dpto:"15",code:"15632",name:"SABOYÁ"},{code_dpto:"15",code:"15638",name:"SÁCHICA"},{code_dpto:"15",code:"15646",name:"SAMACÁ"},{code_dpto:"15",code:"15660",name:"SAN EDUARDO"},{code_dpto:"15",code:"15664",name:"SAN JOSÉ DE PARE"},{code_dpto:"15",code:"15667",name:"SAN LUIS DE GACENO"},{code_dpto:"15",code:"15673",name:"SAN MATEO"},{code_dpto:"15",code:"15676",name:"SAN MIGUEL DE SEMA"},{code_dpto:"15",code:"15681",name:"SAN PABLO DE BORBUR"},{code_dpto:"15",code:"15686",name:"SANTANA"},{code_dpto:"15",code:"15690",name:"SANTA MARÍA"},{code_dpto:"15",code:"15693",name:"SANTA ROSA DE VITERBO"},{code_dpto:"15",code:"15696",name:"SANTA SOFÍA"},{code_dpto:"15",code:"15720",name:"SATIVANORTE"},{code_dpto:"15",code:"15723",name:"SATIVASUR"},{code_dpto:"15",code:"15740",name:"SIACHOQUE"},{code_dpto:"15",code:"15753",name:"SOATÁ"},{code_dpto:"15",code:"15755",name:"SOCOTÁ"},{code_dpto:"15",code:"15757",name:"SOCHA"},{code_dpto:"15",code:"15759",name:"SOGAMOSO"},{code_dpto:"15",code:"15761",name:"SOMONDOCO"},{code_dpto:"15",code:"15762",name:"SORA"},{code_dpto:"15",code:"15763",name:"SOTAQUIRÁ"},{code_dpto:"15",code:"15764",name:"SORACÁ"},{code_dpto:"15",code:"15774",name:"SUSACÓN"},{code_dpto:"15",code:"15776",name:"SUTAMARCHÁN"},{code_dpto:"15",code:"15778",name:"SUTATENZA"},{code_dpto:"15",code:"15790",name:"TASCO"},{code_dpto:"15",code:"15798",name:"TENZA"},{code_dpto:"15",code:"15804",name:"TIBANÁ"},{code_dpto:"15",code:"15806",name:"TIBASOSA"},{code_dpto:"15",code:"15808",name:"TINJACÁ"},{code_dpto:"15",code:"15810",name:"TIPACOQUE"},{code_dpto:"15",code:"15814",name:"TOCA"},{code_dpto:"15",code:"15816",name:"TOGÜÍ"},{code_dpto:"15",code:"15820",name:"TÓPAGA"},{code_dpto:"15",code:"15822",name:"TOTA"},{code_dpto:"15",code:"15832",name:"TUNUNGUÁ"},{code_dpto:"15",code:"15835",name:"TURMEQUÉ"},{code_dpto:"15",code:"15837",name:"TUTA"},{code_dpto:"15",code:"15839",name:"TUTAZÁ"},{code_dpto:"15",code:"15842",name:"UMBITA"},{code_dpto:"15",code:"15861",name:"VENTAQUEMADA"},{code_dpto:"15",code:"15879",name:"VIRACACHÁ"},{code_dpto:"15",code:"15897",name:"ZETAQUIRA"},{code_dpto:"17",code:"17001",name:"MANIZALES"},{code_dpto:"17",code:"17013",name:"AGUADAS"},{code_dpto:"17",code:"17042",name:"ANSERMA"},{code_dpto:"17",code:"17050",name:"ARANZAZU"},{code_dpto:"17",code:"17088",name:"BELALCÁZAR"},{code_dpto:"17",code:"17174",name:"CHINCHINÁ"},{code_dpto:"17",code:"17272",name:"FILADELFIA"},{code_dpto:"17",code:"17380",name:"LA DORADA"},{code_dpto:"17",code:"17388",name:"LA MERCED"},{code_dpto:"17",code:"17433",name:"MANZANARES"},{code_dpto:"17",code:"17442",name:"MARMATO"},{code_dpto:"17",code:"17444",name:"MARQUETALIA"},{code_dpto:"17",code:"17446",name:"MARULANDA"},{code_dpto:"17",code:"17486",name:"NEIRA"},{code_dpto:"17",code:"17495",name:"NORCASIA"},{code_dpto:"17",code:"17513",name:"PÁCORA"},{code_dpto:"17",code:"17524",name:"PALESTINA"},{code_dpto:"17",code:"17541",name:"PENSILVANIA"},{code_dpto:"17",code:"17614",name:"RIOSUCIO"},{code_dpto:"17",code:"17616",name:"RISARALDA"},{code_dpto:"17",code:"17653",name:"SALAMINA"},{code_dpto:"17",code:"17662",name:"SAMANÁ"},{code_dpto:"17",code:"17665",name:"SAN JOSÉ"},{code_dpto:"17",code:"17777",name:"SUPÍA"},{code_dpto:"17",code:"17867",name:"VICTORIA"},{code_dpto:"17",code:"17873",name:"VILLAMARÍA"},{code_dpto:"17",code:"17877",name:"VITERBO"},{code_dpto:"18",code:"18001",name:"FLORENCIA"},{code_dpto:"18",code:"18029",name:"ALBANIA"},{code_dpto:"18",code:"18094",name:"BELÉN DE LOS ANDAQUIES"},{code_dpto:"18",code:"18150",name:"CARTAGENA DEL CHAIRÁ"},{code_dpto:"18",code:"18205",name:"CURILLO"},{code_dpto:"18",code:"18247",name:"EL DONCELLO"},{code_dpto:"18",code:"18256",name:"EL PAUJIL"},{code_dpto:"18",code:"18410",name:"LA MONTAÑITA"},{code_dpto:"18",code:"18460",name:"MILÁN"},{code_dpto:"18",code:"18479",name:"MORELIA"},{code_dpto:"18",code:"18592",name:"PUERTO RICO"},{code_dpto:"18",code:"18610",name:"SAN JOSÉ DEL FRAGUA"},{code_dpto:"18",code:"18753",name:"SAN VICENTE DEL CAGUÁN"},{code_dpto:"18",code:"18756",name:"SOLANO"},{code_dpto:"18",code:"18785",name:"SOLITA"},{code_dpto:"18",code:"18860",name:"VALPARAÍSO"},{code_dpto:"19",code:"19001",name:"POPAYÁN"},{code_dpto:"19",code:"19022",name:"ALMAGUER"},{code_dpto:"19",code:"19050",name:"ARGELIA"},{code_dpto:"19",code:"19075",name:"BALBOA"},{code_dpto:"19",code:"19100",name:"BOLÍVAR"},{code_dpto:"19",code:"19110",name:"BUENOS AIRES"},{code_dpto:"19",code:"19130",name:"CAJIBÍO"},{code_dpto:"19",code:"19137",name:"CALDONO"},{code_dpto:"19",code:"19142",name:"CALOTO"},{code_dpto:"19",code:"19212",name:"CORINTO"},{code_dpto:"19",code:"19256",name:"EL TAMBO"},{code_dpto:"19",code:"19290",name:"FLORENCIA"},{code_dpto:"19",code:"19318",name:"GUAPI"},{code_dpto:"19",code:"19355",name:"INZÁ"},{code_dpto:"19",code:"19364",name:"JAMBALÓ"},{code_dpto:"19",code:"19392",name:"LA SIERRA"},{code_dpto:"19",code:"19397",name:"LA VEGA"},{code_dpto:"19",code:"19418",name:"LÓPEZ"},{code_dpto:"19",code:"19450",name:"MERCADERES"},{code_dpto:"19",code:"19455",name:"MIRANDA"},{code_dpto:"19",code:"19473",name:"MORALES"},{code_dpto:"19",code:"19513",name:"PADILLA"},{code_dpto:"19",code:"19517",name:"PAEZ"},{code_dpto:"19",code:"19532",name:"PATÍA"},{code_dpto:"19",code:"19533",name:"PIAMONTE"},{code_dpto:"19",code:"19548",name:"PIENDAMÓ"},{code_dpto:"19",code:"19573",name:"PUERTO TEJADA"},{code_dpto:"19",code:"19585",name:"PURACÉ"},{code_dpto:"19",code:"19622",name:"ROSAS"},{code_dpto:"19",code:"19693",name:"SAN SEBASTIÁN"
},{code_dpto:"19",code:"19698",name:"SANTANDER DE QUILICHAO"},{code_dpto:"19",code:"19701",name:"SANTA ROSA"},{code_dpto:"19",code:"19743",name:"SILVIA"},{code_dpto:"19",code:"19760",name:"SOTARA"},{code_dpto:"19",code:"19780",name:"SUÁREZ"},{code_dpto:"19",code:"19785",name:"SUCRE"},{code_dpto:"19",code:"19807",name:"TIMBÍO"},{code_dpto:"19",code:"19809",name:"TIMBIQUÍ"},{code_dpto:"19",code:"19821",name:"TORIBIO"},{code_dpto:"19",code:"19824",name:"TOTORÓ"},{code_dpto:"19",code:"19845",name:"VILLA RICA"},{code_dpto:"20",code:"20001",name:"VALLEDUPAR"},{code_dpto:"20",code:"20011",name:"AGUACHICA"},{code_dpto:"20",code:"20013",name:"AGUSTÍN CODAZZI"},{code_dpto:"20",code:"20032",name:"ASTREA"},{code_dpto:"20",code:"20045",name:"BECERRIL"},{code_dpto:"20",code:"20060",name:"BOSCONIA"},{code_dpto:"20",code:"20175",name:"CHIMICHAGUA"},{code_dpto:"20",code:"20178",name:"CHIRIGUANÁ"},{code_dpto:"20",code:"20228",name:"CURUMANÍ"},{code_dpto:"20",code:"20238",name:"EL COPEY"},{code_dpto:"20",code:"20250",name:"EL PASO"},{code_dpto:"20",code:"20295",name:"GAMARRA"},{code_dpto:"20",code:"20310",name:"GONZÁLEZ"},{code_dpto:"20",code:"20383",name:"LA GLORIA"},{code_dpto:"20",code:"20400",name:"LA JAGUA DE IBIRICO"},{code_dpto:"20",code:"20443",name:"MANAURE"},{code_dpto:"20",code:"20517",name:"PAILITAS"},{code_dpto:"20",code:"20550",name:"PELAYA"},{code_dpto:"20",code:"20570",name:"PUEBLO BELLO"},{code_dpto:"20",code:"20614",name:"RÍO DE ORO"},{code_dpto:"20",code:"20621",name:"LA PAZ"},{code_dpto:"20",code:"20710",name:"SAN ALBERTO"},{code_dpto:"20",code:"20750",name:"SAN DIEGO"},{code_dpto:"20",code:"20770",name:"SAN MARTÍN"},{code_dpto:"20",code:"20787",name:"TAMALAMEQUE"},{code_dpto:"23",code:"23001",name:"MONTERÍA"},{code_dpto:"23",code:"23068",name:"AYAPEL"},{code_dpto:"23",code:"23079",name:"BUENAVISTA"},{code_dpto:"23",code:"23090",name:"CANALETE"},{code_dpto:"23",code:"23162",name:"CERETÉ"},{code_dpto:"23",code:"23168",name:"CHIMÁ"},{code_dpto:"23",code:"23182",name:"CHINÚ"},{code_dpto:"23",code:"23189",name:"CIÉNAGA DE ORO"},{code_dpto:"23",code:"23300",name:"COTORRA"},{code_dpto:"23",code:"23350",name:"LA APARTADA"},{code_dpto:"23",code:"23417",name:"LORICA"},{code_dpto:"23",code:"23419",name:"LOS CÓRDOBAS"},{code_dpto:"23",code:"23464",name:"MOMIL"},{code_dpto:"23",code:"23466",name:"MONTELÍBANO"},{code_dpto:"23",code:"23500",name:"MOÑITOS"},{code_dpto:"23",code:"23555",name:"PLANETA RICA"},{code_dpto:"23",code:"23570",name:"PUEBLO NUEVO"},{code_dpto:"23",code:"23574",name:"PUERTO ESCONDIDO"},{code_dpto:"23",code:"23580",name:"PUERTO LIBERTADOR"},{code_dpto:"23",code:"23586",name:"PURÍSIMA"},{code_dpto:"23",code:"23660",name:"SAHAGÚN"},{code_dpto:"23",code:"23670",name:"SAN ANDRÉS SOTAVENTO"},{code_dpto:"23",code:"23672",name:"SAN ANTERO"},{code_dpto:"23",code:"23675",name:"SAN BERNARDO DEL VIENTO"},{code_dpto:"23",code:"23678",name:"SAN CARLOS"},{code_dpto:"23",code:"23686",name:"SAN PELAYO"},{code_dpto:"23",code:"23807",name:"TIERRALTA"},{code_dpto:"23",code:"23855",name:"VALENCIA"},{code_dpto:"25",code:"25001",name:"AGUA DE DIOS"},{code_dpto:"25",code:"25019",name:"ALBÁN"},{code_dpto:"25",code:"25035",name:"ANAPOIMA"},{code_dpto:"25",code:"25040",name:"ANOLAIMA"},{code_dpto:"25",code:"25053",name:"ARBELÁEZ"},{code_dpto:"25",code:"25086",name:"BELTRÁN"},{code_dpto:"25",code:"25095",name:"BITUIMA"},{code_dpto:"25",code:"25099",name:"BOJACÁ"},{code_dpto:"25",code:"25120",name:"CABRERA"},{code_dpto:"25",code:"25123",name:"CACHIPAY"},{code_dpto:"25",code:"25126",name:"CAJICÁ"},{code_dpto:"25",code:"25148",name:"CAPARRAPÍ"},{code_dpto:"25",code:"25151",name:"CAQUEZA"},{code_dpto:"25",code:"25154",name:"CARMEN DE CARUPA"},{code_dpto:"25",code:"25168",name:"CHAGUANÍ"},{code_dpto:"25",code:"25175",name:"CHÍA"},{code_dpto:"25",code:"25178",name:"CHIPAQUE"},{code_dpto:"25",code:"25181",name:"CHOACHÍ"},{code_dpto:"25",code:"25183",name:"CHOCONTÁ"},{code_dpto:"25",code:"25200",name:"COGUA"},{code_dpto:"25",code:"25214",name:"COTA"},{code_dpto:"25",code:"25224",name:"CUCUNUBÁ"},{code_dpto:"25",code:"25245",name:"EL COLEGIO"},{code_dpto:"25",code:"25258",name:"EL PEÑÓN"},{code_dpto:"25",code:"25260",name:"EL ROSAL"},{code_dpto:"25",code:"25269",name:"FACATATIVÁ"},{code_dpto:"25",code:"25279",name:"FOMEQUE"},{code_dpto:"25",code:"25281",name:"FOSCA"},{code_dpto:"25",code:"25286",name:"FUNZA"},{code_dpto:"25",code:"25288",name:"FÚQUENE"},{code_dpto:"25",code:"25290",name:"FUSAGASUGÁ"},{code_dpto:"25",code:"25293",name:"GACHALA"},{code_dpto:"25",code:"25295",name:"GACHANCIPÁ"},{code_dpto:"25",code:"25297",name:"GACHETÁ"},{code_dpto:"25",code:"25299",name:"GAMA"},{code_dpto:"25",code:"25307",name:"GIRARDOT"},{code_dpto:"25",code:"25312",name:"GRANADA"},{code_dpto:"25",code:"25317",name:"GUACHETÁ"},{code_dpto:"25",code:"25320",name:"GUADUAS"},{code_dpto:"25",code:"25322",name:"GUASCA"},{code_dpto:"25",code:"25324",name:"GUATAQUÍ"},{code_dpto:"25",code:"25326",name:"GUATAVITA"},{code_dpto:"25",code:"25328",name:"GUAYABAL DE SIQUIMA"},{code_dpto:"25",code:"25335",name:"GUAYABETAL"},{code_dpto:"25",code:"25339",name:"GUTIÉRREZ"},{code_dpto:"25",code:"25368",name:"JERUSALÉN"},{code_dpto:"25",code:"25372",name:"JUNÍN"},{code_dpto:"25",code:"25377",name:"LA CALERA"},{code_dpto:"25",code:"25386",name:"LA MESA"},{code_dpto:"25",code:"25394",name:"LA PALMA"},{code_dpto:"25",code:"25398",name:"LA PEÑA"},{code_dpto:"25",code:"25402",name:"LA VEGA"},{code_dpto:"25",code:"25407",name:"LENGUAZAQUE"},{code_dpto:"25",code:"25426",name:"MACHETA"},{code_dpto:"25",code:"25430",name:"MADRID"},{code_dpto:"25",code:"25436",name:"MANTA"},{code_dpto:"25",code:"25438",name:"MEDINA"},{code_dpto:"25",code:"25473",name:"MOSQUERA"},{code_dpto:"25",code:"25483",name:"NARIÑO"},{code_dpto:"25",code:"25486",name:"NEMOCÓN"},{code_dpto:"25",code:"25488",name:"NILO"},{code_dpto:"25",code:"25489",name:"NIMAIMA"},{code_dpto:"25",code:"25491",name:"NOCAIMA"},{code_dpto:"25",code:"25506",name:"VENECIA"},{code_dpto:"25",code:"25513",name:"PACHO"},{code_dpto:"25",code:"25518",name:"PAIME"},{code_dpto:"25",code:"25524",name:"PANDI"},{code_dpto:"25",code:"25530",name:"PARATEBUENO"},{code_dpto:"25",code:"25535",name:"PASCA"},{code_dpto:"25",code:"25572",name:"PUERTO SALGAR"},{code_dpto:"25",code:"25580",name:"PULÍ"},{code_dpto:"25",code:"25592",name:"QUEBRADANEGRA"},{code_dpto:"25",code:"25594",name:"QUETAME"},{code_dpto:"25",code:"25596",name:"QUIPILE"},{code_dpto:"25",code:"25599",name:"APULO"},{code_dpto:"25",code:"25612",name:"RICAURTE"},{code_dpto:"25",code:"25645",name:"SAN ANTONIO DEL TEQUENDAMA"},{code_dpto:"25",code:"25649",name:"SAN BERNARDO"},{code_dpto:"25",code:"25653",name:"SAN CAYETANO"},{code_dpto:"25",code:"25658",name:"SAN FRANCISCO"},{code_dpto:"25",code:"25662",name:"SAN JUAN DE RÍO SECO"},{code_dpto:"25",code:"25718",name:"SASAIMA"},{code_dpto:"25",code:"25736",name:"SESQUILÉ"},{code_dpto:"25",code:"25740",name:"SIBATÉ"},{code_dpto:"25",code:"25743",name:"SILVANIA"},{code_dpto:"25",code:"25745",name:"SIMIJACA"},{code_dpto:"25",code:"25754",name:"SOACHA"},{code_dpto:"25",code:"25758",name:"SOPÓ"},{code_dpto:"25",code:"25769",name:"SUBACHOQUE"},{code_dpto:"25",code:"25772",name:"SUESCA"},{code_dpto:"25",code:"25777",name:"SUPATÁ"},{code_dpto:"25",code:"25779",name:"SUSA"},{code_dpto:"25",code:"25781",name:"SUTATAUSA"},{code_dpto:"25",code:"25785",name:"TABIO"},{code_dpto:"25",code:"25793",name:"TAUSA"},{code_dpto:"25",code:"25797",name:"TENA"},{code_dpto:"25",code:"25799",name:"TENJO"},{code_dpto:"25",code:"25805",name:"TIBACUY"},{code_dpto:"25",code:"25807",name:"TIBIRITA"},{code_dpto:"25",code:"25815",name:"TOCAIMA"},{code_dpto:"25",code:"25817",name:"TOCANCIPÁ"},{code_dpto:"25",code:"25823",name:"TOPAIPÍ"},{code_dpto:"25",code:"25839",name:"UBALÁ"},{code_dpto:"25",code:"25841",name:"UBAQUE"},{code_dpto:"25",code:"25843",name:"VILLA DE SAN DIEGO DE UBATE"},{code_dpto:"25",code:"25845",name:"UNE"},{code_dpto:"25",code:"25851",name:"ÚTICA"},{code_dpto:"25",code:"25862",name:"VERGARA"},{code_dpto:"25",code:"25867",name:"VIANÍ"},{code_dpto:"25",code:"25871",name:"VILLAGÓMEZ"},{code_dpto:"25",code:"25873",name:"VILLAPINZÓN"},{code_dpto:"25",code:"25875",name:"VILLETA"},{code_dpto:"25",code:"25878",name:"VIOTÁ"},{code_dpto:"25",code:"25885",name:"YACOPÍ"},{code_dpto:"25",code:"25898",name:"ZIPACÓN"},{code_dpto:"25",code:"25899",name:"ZIPAQUIRÁ"},{code_dpto:"27",code:"27001",name:"QUIBDÓ"},{code_dpto:"27",code:"27006",name:"ACANDÍ"},{code_dpto:"27",code:"27025",name:"ALTO BAUDO"},{code_dpto:"27",code:"27050",name:"ATRATO"},{code_dpto:"27",code:"27073",name:"BAGADÓ"},{code_dpto:"27",code:"27075",name:"BAHÍA SOLANO"},{code_dpto:"27",code:"27077",name:"BAJO BAUDÓ"},{code_dpto:"27",code:"27086",name:"BELÉN DE BAJIRÁ"},{code_dpto:"27",code:"27099",name:"BOJAYA"},{code_dpto:"27",code:"27135",name:"EL CANTÓN DEL SAN PABLO"},{code_dpto:"27",code:"27150",name:"CARMEN DEL DARIEN"},{code_dpto:"27",code:"27160",name:"CÉRTEGUI"},{code_dpto:"27",code:"27205",name:"CONDOTO"},{code_dpto:"27",code:"27245",name:"EL CARMEN DE ATRATO"},{code_dpto:"27",code:"27250",name:"EL LITORAL DEL SAN JUAN"},{code_dpto:"27",code:"27361",name:"ISTMINA"},{code_dpto:"27",code:"27372",name:"JURADÓ"},{code_dpto:"27",code:"27413",name:"LLORÓ"},{code_dpto:"27",code:"27425",name:"MEDIO ATRATO"},{code_dpto:"27",code:"27430",name:"MEDIO BAUDÓ"},{code_dpto:"27",code:"27450",name:"MEDIO SAN JUAN"},{code_dpto:"27",code:"27491",name:"NÓVITA"},{code_dpto:"27",code:"27495",name:"NUQUÍ"},{code_dpto:"27",code:"27580",name:"RÍO IRO"},{code_dpto:"27",code:"27600",name:"RÍO QUITO"},{code_dpto:"27",code:"27615",name:"RIOSUCIO"},{code_dpto:"27",code:"27660",name:"SAN JOSÉ DEL PALMAR"},{code_dpto:"27",code:"27745",name:"SIPÍ"},{code_dpto:"27",code:"27787",name:"TADÓ"},{code_dpto:"27",code:"27800",name:"UNGUÍA"},{code_dpto:"27",code:"27810",name:"UNIÓN PANAMERICANA"},{code_dpto:"41",code:"41001",name:"NEIVA"},{code_dpto:"41",code:"41006",name:"ACEVEDO"},{code_dpto:"41",code:"41013",name:"AGRADO"},{code_dpto:"41",code:"41016",name:"AIPE"},{code_dpto:"41",code:"41020",name:"ALGECIRAS"},{code_dpto:"41",code:"41026",name:"ALTAMIRA"},{code_dpto:"41",code:"41078",name:"BARAYA"},{code_dpto:"41",code:"41132",name:"CAMPOALEGRE"},{code_dpto:"41",code:"41206",name:"COLOMBIA"},{code_dpto:"41",code:"41244",name:"ELÍAS"},{code_dpto:"41",code:"41298",name:"GARZÓN"},{code_dpto:"41",code:"41306",name:"GIGANTE"},{code_dpto:"41",code:"41319",name:"GUADALUPE"},{code_dpto:"41",code:"41349",name:"HOBO"},{code_dpto:"41",code:"41357",name:"IQUIRA"},{code_dpto:"41",code:"41359",name:"ISNOS"},{code_dpto:"41",code:"41378",name:"LA ARGENTINA"},{code_dpto:"41",code:"41396",name:"LA PLATA"},{code_dpto:"41",code:"41483",name:"NÁTAGA"},{code_dpto:"41",code:"41503",name:"OPORAPA"},{code_dpto:"41",code:"41518",name:"PAICOL"},{code_dpto:"41",code:"41524",name:"PALERMO"},{code_dpto:"41",code:"41530",name:"PALESTINA"},{code_dpto:"41",code:"41548",name:"PITAL"},{code_dpto:"41",code:"41551",name:"PITALITO"},{code_dpto:"41",code:"41615",name:"RIVERA"},{code_dpto:"41",code:"41660",name:"SALADOBLANCO"},{code_dpto:"41",code:"41668",name:"SAN AGUSTÍN"},{code_dpto:"41",code:"41676",name:"SANTA MARÍA"},{code_dpto:"41",code:"41770",name:"SUAZA"},{code_dpto:"41",code:"41791",name:"TARQUI"},{code_dpto:"41",code:"41797",name:"TESALIA"},{code_dpto:"41",code:"41799",name:"TELLO"},{code_dpto:"41",code:"41801",name:"TERUEL"},{code_dpto:"41",code:"41807",name:"TIMANÁ"},{code_dpto:"41",code:"41872",name:"VILLAVIEJA"},{code_dpto:"41",code:"41885",name:"YAGUARÁ"},{code_dpto:"44",code:"44001",name:"RIOHACHA"},{code_dpto:"44",code:"44035",name:"ALBANIA"},{code_dpto:"44",code:"44078",name:"BARRANCAS"},{code_dpto:"44",code:"44090",name:"DIBULLA"},{code_dpto:"44",code:"44098",name:"DISTRACCIÓN"},{code_dpto:"44",code:"44110",name:"EL MOLINO"},{code_dpto:"44",code:"44279",name:"FONSECA"},{code_dpto:"44",code:"44378",name:"HATONUEVO"},{code_dpto:"44",code:"44420",name:"LA JAGUA DEL PILAR"},{code_dpto:"44",code:"44430",name:"MAICAO"},{code_dpto:"44",code:"44560",name:"MANAURE"},{code_dpto:"44",code:"44650",name:"SAN JUAN DEL CESAR"},{code_dpto:"44",code:"44847",name:"URIBIA"},{code_dpto:"44",code:"44855",name:"URUMITA"},{code_dpto:"44",code:"44874",name:"VILLANUEVA"},{code_dpto:"47",code:"47001",name:"SANTA MARTA"},{code_dpto:"47",code:"47030",name:"ALGARROBO"},{code_dpto:"47",code:"47053",name:"ARACATACA"},{code_dpto:"47",code:"47058",name:"ARIGUANÍ"},{code_dpto:"47",code:"47161",name:"CERRO SAN ANTONIO"},{code_dpto:"47",code:"47170",name:"CHIBOLO"},{code_dpto:"47",code:"47189",name:"CIÉNAGA"},{code_dpto:"47",code:"47205",name:"CONCORDIA"},{code_dpto:"47",code:"47245",name:"EL BANCO"},{code_dpto:"47",code:"47258",name:"EL PIÑON"},{code_dpto:"47",code:"47268",name:"EL RETÉN"},{code_dpto:"47",code:"47288",name:"FUNDACIÓN"},{code_dpto:"47",code:"47318",name:"GUAMAL"},{code_dpto:"47",code:"47460",name:"NUEVA GRANADA"},{code_dpto:"47",code:"47541",name:"PEDRAZA"},{code_dpto:"47",code:"47545",name:"PIJIÑO DEL CARMEN"},{code_dpto:"47",code:"47551",name:"PIVIJAY"},{code_dpto:"47",code:"47555",name:"PLATO"},{code_dpto:"47",code:"47570",name:"PUEBLOVIEJO"},{code_dpto:"47",code:"47605",name:"REMOLINO"},{code_dpto:"47",code:"47660",name:"SABANAS DE SAN ANGEL"},{code_dpto:"47",code:"47675",name:"SALAMINA"},{code_dpto:"47",code:"47692",name:"SAN SEBASTIÁN DE BUENAVISTA"},{code_dpto:"47",code:"47703",name:"SAN ZENÓN"},{code_dpto:"47",code:"47707",name:"SANTA ANA"},{code_dpto:"47",code:"47720",name:"SANTA BÁRBARA DE PINTO"},{code_dpto:"47",code:"47745",name:"SITIONUEVO"},{code_dpto:"47",code:"47798",name:"TENERIFE"},{code_dpto:"47",code:"47960",name:"ZAPAYÁN"},{code_dpto:"47",code:"47980",name:"ZONA BANANERA"},{code_dpto:"50",code:"50001",name:"VILLAVICENCIO"},{code_dpto:"50",code:"50006",name:"ACACÍAS"},{code_dpto:"50",code:"50110",name:"BARRANCA DE UPÍA"},{code_dpto:"50",code:"50124",name:"CABUYARO"},{code_dpto:"50",code:"50150",name:"CASTILLA LA NUEVA"},{code_dpto:"50",code:"50223",name:"CUBARRAL"},{code_dpto:"50",code:"50226",name:"CUMARAL"},{code_dpto:"50",code:"50245",name:"EL CALVARIO"},{code_dpto:"50",code:"50251",name:"EL CASTILLO"},{code_dpto:"50",code:"50270",name:"EL DORADO"},{code_dpto:"50",code:"50287",name:"FUENTE DE ORO"},{code_dpto:"50",code:"50313",name:"GRANADA"},{code_dpto:"50",code:"50318",name:"GUAMAL"},{code_dpto:"50",code:"50325",name:"MAPIRIPÁN"},{code_dpto:"50",code:"50330",name:"MESETAS"},{code_dpto:"50",code:"50350",name:"LA MACARENA"},{code_dpto:"50",code:"50370",name:"URIBE"},{code_dpto:"50",code:"50400",name:"LEJANÍAS"},{code_dpto:"50",code:"50450",name:"PUERTO CONCORDIA"},{code_dpto:"50",code:"50568",name:"PUERTO GAITÁN"},{code_dpto:"50",code:"50573",name:"PUERTO LÓPEZ"},{code_dpto:"50",code:"50577",name:"PUERTO LLERAS"},{code_dpto:"50",code:"50590",name:"PUERTO RICO"},{code_dpto:"50",code:"50606",name:"RESTREPO"},{code_dpto:"50",code:"50680",name:"SAN CARLOS DE GUAROA"},{code_dpto:"50",code:"50683",name:"SAN JUAN DE ARAMA"},{code_dpto:"50",code:"50686",name:"SAN JUANITO"},{code_dpto:"50",code:"50689",name:"SAN MARTÍN"},{code_dpto:"50",code:"50711",name:"VISTAHERMOSA"},{code_dpto:"52",code:"52001",name:"PASTO"},{code_dpto:"52",code:"52019",name:"ALBÁN"},{code_dpto:"52",code:"52022",name:"ALDANA"},{code_dpto:"52",code:"52036",name:"ANCUYÁ"},{code_dpto:"52",code:"52051",name:"ARBOLEDA"},{code_dpto:"52",code:"52079",name:"BARBACOAS"},{code_dpto:"52",code:"52083",name:"BELÉN"},{code_dpto:"52",code:"52110",name:"BUESACO"},{code_dpto:"52",code:"52203",name:"COLÓN"},{code_dpto:"52",code:"52207",name:"CONSACA"},{code_dpto:"52",code:"52210",name:"CONTADERO"},{code_dpto:"52",code:"52215",name:"CÓRDOBA"},{code_dpto:"52",code:"52224",name:"CUASPUD"},{code_dpto:"52",code:"52227",name:"CUMBAL"},{code_dpto:"52",code:"52233",name:"CUMBITARA"},{code_dpto:"52",code:"52240",name:"CHACHAGÜÍ"},{code_dpto:"52",code:"52250",name:"EL CHARCO"},{code_dpto:"52",code:"52254",name:"EL PEÑOL"},{code_dpto:"52",code:"52256",name:"EL ROSARIO"},{code_dpto:"52",code:"52258",name:"EL TABLÓN DE GÓMEZ"},{code_dpto:"52",code:"52260",name:"EL TAMBO"},{code_dpto:"52",code:"52287",name:"FUNES"},{code_dpto:"52",code:"52317",name:"GUACHUCAL"},{code_dpto:"52",code:"52320",name:"GUAITARILLA"},{code_dpto:"52",code:"52323",name:"GUALMATÁN"},{code_dpto:"52",code:"52352",name:"ILES"},{code_dpto:"52",code:"52354",name:"IMUÉS"},{code_dpto:"52",code:"52356",name:"IPIALES"},{code_dpto:"52",code:"52378",name:"LA CRUZ"},{code_dpto:"52",code:"52381",name:"LA FLORIDA"},{code_dpto:"52",code:"52385",name:"LA LLANADA"},{code_dpto:"52",code:"52390",name:"LA TOLA"},{code_dpto:"52",code:"52399",name:"LA UNIÓN"},{code_dpto:"52",code:"52405",name:"LEIVA"},{code_dpto:"52",code:"52411",name:"LINARES"},{code_dpto:"52",code:"52418",name:"LOS ANDES"},{code_dpto:"52",code:"52427",name:"MAGÜI"},{code_dpto:"52",code:"52435",name:"MALLAMA"},{code_dpto:"52",code:"52473",name:"MOSQUERA"},{code_dpto:"52",code:"52480",name:"NARIÑO"},{code_dpto:"52",code:"52490",name:"OLAYA HERRERA"},{code_dpto:"52",code:"52506",name:"OSPINA"},{code_dpto:"52",code:"52520",name:"FRANCISCO PIZARRO"},{code_dpto:"52",code:"52540",name:"POLICARPA"},{code_dpto:"52",code:"52560",name:"POTOSÍ"},{code_dpto:"52",code:"52565",name:"PROVIDENCIA"},{code_dpto:"52",code:"52573",name:"PUERRES"},{code_dpto:"52",code:"52585",name:"PUPIALES"},{code_dpto:"52",code:"52612",name:"RICAURTE"},{code_dpto:"52",code:"52621",name:"ROBERTO PAYÁN"},{code_dpto:"52",code:"52678",name:"SAMANIEGO"},{code_dpto:"52",code:"52683",name:"SANDONÁ"},{code_dpto:"52",code:"52685",name:"SAN BERNARDO"},{code_dpto:"52",code:"52687",name:"SAN LORENZO"},{code_dpto:"52",code:"52693",name:"SAN PABLO"},{code_dpto:"52",code:"52694",name:"SAN PEDRO DE CARTAGO"},{code_dpto:"52",code:"52696",name:"SANTA BÁRBARA"},{code_dpto:"52",code:"52699",name:"SANTACRUZ"},{code_dpto:"52",code:"52720",name:"SAPUYES"},{code_dpto:"52",code:"52786",name:"TAMINANGO"},{code_dpto:"52",code:"52788",name:"TANGUA"},{code_dpto:"52",code:"52835",name:"TUMACO"},{code_dpto:"52",code:"52838",name:"TÚQUERRES"},{code_dpto:"52",code:"52885",name:"YACUANQUER"},{code_dpto:"54",code:"54001",name:"CÚCUTA"},{code_dpto:"54",code:"54003",name:"ABREGO"},{code_dpto:"54",code:"54051",name:"ARBOLEDAS"},{code_dpto:"54",code:"54099",name:"BOCHALEMA"},{code_dpto:"54",code:"54109",name:"BUCARASICA"},{code_dpto:"54",code:"54125",name:"CÁCOTA"},{code_dpto:"54",code:"54128",name:"CACHIRÁ"},{code_dpto:"54",code:"54172",name:"CHINÁCOTA"},{code_dpto:"54",code:"54174",name:"CHITAGÁ"},{code_dpto:"54",code:"54206",name:"CONVENCIÓN"},{code_dpto:"54",code:"54223",name:"CUCUTILLA"},{code_dpto:"54",code:"54239",name:"DURANIA"},{code_dpto:"54",code:"54245",name:"EL CARMEN"},{code_dpto:"54",code:"54250",name:"EL TARRA"},{code_dpto:"54",code:"54261",name:"EL ZULIA"},{code_dpto:"54",code:"54313",name:"GRAMALOTE"},{code_dpto:"54",code:"54344",name:"HACARÍ"},{code_dpto:"54",code:"54347",name:"HERRÁN"},{code_dpto:"54",code:"54377",name:"LABATECA"},{code_dpto:"54",code:"54385",name:"LA ESPERANZA"},{code_dpto:"54",code:"54398",name:"LA PLAYA"},{code_dpto:"54",code:"54405",name:"LOS PATIOS"},{code_dpto:"54",code:"54418",name:"LOURDES"},{code_dpto:"54",code:"54480",name:"MUTISCUA"},{code_dpto:"54",code:"54498",name:"OCAÑA"},{code_dpto:"54",code:"54518",name:"PAMPLONA"},{code_dpto:"54",code:"54520",name:"PAMPLONITA"},{code_dpto:"54",code:"54553",name:"PUERTO SANTANDER"},{code_dpto:"54",code:"54599",name:"RAGONVALIA"},{code_dpto:"54",code:"54660",name:"SALAZAR"},{code_dpto:"54",code:"54670",name:"SAN CALIXTO"},{code_dpto:"54",code:"54673",name:"SAN CAYETANO"},{code_dpto:"54",code:"54680",name:"SANTIAGO"},{code_dpto:"54",code:"54720",name:"SARDINATA"},{code_dpto:"54",code:"54743",name:"SILOS"},{code_dpto:"54",code:"54800",name:"TEORAMA"},{code_dpto:"54",code:"54810",name:"TIBÚ"},{code_dpto:"54",code:"54820",name:"TOLEDO"},{code_dpto:"54",code:"54871",name:"VILLA CARO"},{code_dpto:"54",code:"54874",name:"VILLA DEL ROSARIO"},{code_dpto:"63",code:"63001",name:"ARMENIA"},{code_dpto:"63",code:"63111",name:"BUENAVISTA"},{code_dpto:"63",code:"63130",name:"CALARCA"},{code_dpto:"63",code:"63190",name:"CIRCASIA"},{code_dpto:"63",code:"63212",name:"CÓRDOBA"},{code_dpto:"63",code:"63272",name:"FILANDIA"},{code_dpto:"63",code:"63302",name:"GÉNOVA"},{code_dpto:"63",code:"63401",name:"LA TEBAIDA"},{code_dpto:"63",code:"63470",name:"MONTENEGRO"},{code_dpto:"63",code:"63548",name:"PIJAO"},{code_dpto:"63",code:"63594",name:"QUIMBAYA"},{code_dpto:"63",code:"63690",name:"SALENTO"},{code_dpto:"66",code:"66001",name:"PEREIRA"},{code_dpto:"66",code:"66045",name:"APÍA"},{code_dpto:"66",code:"66075",name:"BALBOA"},{code_dpto:"66",code:"66088",name:"BELÉN DE UMBRÍA"},{code_dpto:"66",code:"66170",name:"DOSQUEBRADAS"},{code_dpto:"66",code:"66318",name:"GUÁTICA"},{code_dpto:"66",code:"66383",name:"LA CELIA"},{code_dpto:"66",code:"66400",name:"LA VIRGINIA"},{code_dpto:"66",code:"66440",name:"MARSELLA"},{code_dpto:"66",code:"66456",name:"MISTRATÓ"},{code_dpto:"66",code:"66572",name:"PUEBLO RICO"},{code_dpto:"66",code:"66594",name:"QUINCHÍA"},{code_dpto:"66",code:"66682",name:"SANTA ROSA DE CABAL"},{code_dpto:"66",code:"66687",name:"SANTUARIO"},{code_dpto:"68",code:"68001",name:"BUCARAMANGA"},{code_dpto:"68",code:"68013",name:"AGUADA"},{code_dpto:"68",code:"68020",name:"ALBANIA"},{code_dpto:"68",code:"68051",name:"ARATOCA"},{code_dpto:"68",code:"68077",name:"BARBOSA"},{code_dpto:"68",code:"68079",name:"BARICHARA"},{code_dpto:"68",code:"68081",name:"BARRANCABERMEJA"},{code_dpto:"68",code:"68092",name:"BETULIA"},{code_dpto:"68",code:"68101",name:"BOLÍVAR"},{code_dpto:"68",code:"68121",name:"CABRERA"},{code_dpto:"68",code:"68132",name:"CALIFORNIA"},{code_dpto:"68",code:"68147",name:"CAPITANEJO"},{code_dpto:"68",code:"68152",name:"CARCASÍ"},{code_dpto:"68",code:"68160",name:"CEPITÁ"},{code_dpto:"68",code:"68162",name:"CERRITO"},{code_dpto:"68",code:"68167",name:"CHARALÁ"},{code_dpto:"68",code:"68169",name:"CHARTA"},{code_dpto:"68",code:"68176",name:"CHIMA"},{code_dpto:"68",code:"68179",name:"CHIPATÁ"},{code_dpto:"68",code:"68190",name:"CIMITARRA"},{code_dpto:"68",code:"68207",name:"CONCEPCIÓN"},{code_dpto:"68",code:"68209",name:"CONFINES"},{code_dpto:"68",code:"68211",name:"CONTRATACIÓN"},{code_dpto:"68",code:"68217",name:"COROMORO"},{code_dpto:"68",code:"68229",name:"CURITÍ"},{code_dpto:"68",code:"68235",name:"EL CARMEN DE CHUCURÍ"},{code_dpto:"68",code:"68245",name:"EL GUACAMAYO"},{code_dpto:"68",code:"68250",name:"EL PEÑÓN"},{code_dpto:"68",code:"68255",name:"EL PLAYÓN"},{code_dpto:"68",code:"68264",name:"ENCINO"},{code_dpto:"68",code:"68266",name:"ENCISO"},{code_dpto:"68",code:"68271",name:"FLORIÁN"},{code_dpto:"68",code:"68276",name:"FLORIDABLANCA"},{code_dpto:"68",code:"68296",name:"GALÁN"},{code_dpto:"68",code:"68298",name:"GAMBITA"},{code_dpto:"68",code:"68307",name:"GIRÓN"},{code_dpto:"68",code:"68318",name:"GUACA"},{code_dpto:"68",code:"68320",name:"GUADALUPE"},{code_dpto:"68",code:"68322",name:"GUAPOTÁ"},{code_dpto:"68",code:"68324",name:"GUAVATÁ"},{code_dpto:"68",code:"68327",name:"GÜEPSA"},{code_dpto:"68",code:"68344",name:"HATO"},{code_dpto:"68",code:"68368",name:"JESÚS MARÍA"},{code_dpto:"68",code:"68370",name:"JORDÁN"},{code_dpto:"68",code:"68377",name:"LA BELLEZA"},{code_dpto:"68",code:"68385",name:"LANDÁZURI"},{code_dpto:"68",code:"68397",name:"LA PAZ"},{code_dpto:"68",code:"68406",name:"LEBRÍJA"},{code_dpto:"68",code:"68418",name:"LOS SANTOS"},{code_dpto:"68",code:"68425",name:"MACARAVITA"},{code_dpto:"68",code:"68432",name:"MÁLAGA"},{code_dpto:"68",code:"68444",name:"MATANZA"},{code_dpto:"68",code:"68464",name:"MOGOTES"},{code_dpto:"68",code:"68468",name:"MOLAGAVITA"},{code_dpto:"68",code:"68498",name:"OCAMONTE"},{code_dpto:"68",code:"68500",name:"OIBA"},{code_dpto:"68",code:"68502",name:"ONZAGA"},{code_dpto:"68",code:"68522",name:"PALMAR"},{code_dpto:"68",code:"68524",name:"PALMAS DEL SOCORRO"},{code_dpto:"68",code:"68533",name:"PÁRAMO"},{code_dpto:"68",code:"68547",name:"PIEDECUESTA"},{code_dpto:"68",code:"68549",name:"PINCHOTE"},{code_dpto:"68",code:"68572",name:"PUENTE NACIONAL"},{code_dpto:"68",code:"68573",name:"PUERTO PARRA"},{code_dpto:"68",code:"68575",name:"PUERTO WILCHES"},{code_dpto:"68",code:"68615",name:"RIONEGRO"},{code_dpto:"68",code:"68655",name:"SABANA DE TORRES"},{code_dpto:"68",code:"68669",name:"SAN ANDRÉS"},{code_dpto:"68",code:"68673",name:"SAN BENITO"},{code_dpto:"68",code:"68679",name:"SAN GIL"},{code_dpto:"68",code:"68682",name:"SAN JOAQUÍN"},{code_dpto:"68",code:"68684",name:"SAN JOSÉ DE MIRANDA"},{code_dpto:"68",code:"68686",name:"SAN MIGUEL"},{code_dpto:"68",code:"68689",name:"SAN VICENTE DE CHUCURÍ"},{code_dpto:"68",code:"68705",name:"SANTA BÁRBARA"},{code_dpto:"68",code:"68720",name:"SANTA HELENA DEL OPÓN"},{code_dpto:"68",code:"68745",name:"SIMACOTA"},{code_dpto:"68",code:"68755",name:"SOCORRO"},{code_dpto:"68",code:"68770",name:"SUAITA"},{code_dpto:"68",code:"68773",name:"SUCRE"},{code_dpto:"68",code:"68780",name:"SURATÁ"},{code_dpto:"68",code:"68820",name:"TONA"},{code_dpto:"68",code:"68855",name:"VALLE DE SAN JOSÉ"},{code_dpto:"68",code:"68861",name:"VÉLEZ"},{code_dpto:"68",code:"68867",name:"VETAS"},{code_dpto:"68",code:"68872",name:"VILLANUEVA"},{code_dpto:"68",code:"68895",name:"ZAPATOCA"},{code_dpto:"70",code:"70001",name:"SINCELEJO"},{code_dpto:"70",code:"70110",name:"BUENAVISTA"},{code_dpto:"70",code:"70124",name:"CAIMITO"},{code_dpto:"70",code:"70204",name:"COLOSO"},{code_dpto:"70",code:"70215",name:"COROZAL"},{code_dpto:"70",code:"70221",name:"COVEÑAS"},{code_dpto:"70",code:"70230",name:"CHALÁN"},{code_dpto:"70",code:"70233",name:"EL ROBLE"},{code_dpto:"70",code:"70235",name:"GALERAS"},{code_dpto:"70",code:"70265",name:"GUARANDA"},{code_dpto:"70",code:"70400",name:"LA UNIÓN"},{code_dpto:"70",code:"70418",name:"LOS PALMITOS"},{code_dpto:"70",code:"70429",name:"MAJAGUAL"},{code_dpto:"70",code:"70473",name:"MORROA"},{code_dpto:"70",code:"70508",name:"OVEJAS"},{code_dpto:"70",code:"70523",name:"PALMITO"},{code_dpto:"70",code:"70670",name:"SAMPUÉS"},{code_dpto:"70",code:"70678",name:"SAN BENITO ABAD"},{code_dpto:"70",code:"70702",name:"SAN JUAN DE BETULIA"},{code_dpto:"70",code:"70708",name:"SAN MARCOS"},{code_dpto:"70",code:"70713",name:"SAN ONOFRE"},{code_dpto:"70",code:"70717",name:"SAN PEDRO"},{code_dpto:"70",code:"70742",name:"SAN LUIS DE SINCÉ"},{code_dpto:"70",code:"70771",name:"SUCRE"},{code_dpto:"70",code:"70820",name:"SANTIAGO DE TOLÚ"},{code_dpto:"70",code:"70823",name:"TOLÚ VIEJO"},{code_dpto:"73",code:"73001",name:"IBAGUÉ"},{code_dpto:"73",code:"73024",name:"ALPUJARRA"},{code_dpto:"73",code:"73026",name:"ALVARADO"},{code_dpto:"73",code:"73030",name:"AMBALEMA"},{code_dpto:"73",code:"73043",name:"ANZOÁTEGUI"},{code_dpto:"73",code:"73055",name:"ARMERO"},{code_dpto:"73",code:"73067",name:"ATACO"},{code_dpto:"73",code:"73124",name:"CAJAMARCA"},{code_dpto:"73",code:"73148",name:"CARMEN DE APICALÁ"},{code_dpto:"73",code:"73152",name:"CASABIANCA"},{code_dpto:"73",code:"73168",name:"CHAPARRAL"},{code_dpto:"73",code:"73200",name:"COELLO"},{code_dpto:"73",code:"73217",name:"COYAIMA"},{code_dpto:"73",code:"73226",name:"CUNDAY"},{code_dpto:"73",code:"73236",name:"DOLORES"},{code_dpto:"73",code:"73268",name:"ESPINAL"},{code_dpto:"73",code:"73270",name:"FALAN"},{code_dpto:"73",code:"73275",name:"FLANDES"},{code_dpto:"73",code:"73283",name:"FRESNO"},{code_dpto:"73",code:"73319",name:"GUAMO"},{code_dpto:"73",code:"73347",name:"HERVEO"},{code_dpto:"73",code:"73349",name:"HONDA"},{code_dpto:"73",code:"73352",name:"ICONONZO"},{code_dpto:"73",code:"73408",name:"LÉRIDA"},{code_dpto:"73",code:"73411",name:"LÍBANO"},{code_dpto:"73",code:"73443",name:"MARIQUITA"},{code_dpto:"73",code:"73449",name:"MELGAR"},{code_dpto:"73",code:"73461",name:"MURILLO"},{code_dpto:"73",code:"73483",name:"NATAGAIMA"},{code_dpto:"73",code:"73504",name:"ORTEGA"},{code_dpto:"73",code:"73520",name:"PALOCABILDO"},{code_dpto:"73",code:"73547",name:"PIEDRAS"},{code_dpto:"73",code:"73555",name:"PLANADAS"},{code_dpto:"73",code:"73563",name:"PRADO"},{code_dpto:"73",code:"73585",name:"PURIFICACIÓN"},{code_dpto:"73",code:"73616",name:"RIOBLANCO"},{code_dpto:"73",code:"73622",name:"RONCESVALLES"},{code_dpto:"73",code:"73624",name:"ROVIRA"},{code_dpto:"73",code:"73671",name:"SALDAÑA"},{code_dpto:"73",code:"73675",name:"SAN ANTONIO"},{code_dpto:"73",code:"73678",name:"SAN LUIS"},{code_dpto:"73",code:"73686",name:"SANTA ISABEL"},{code_dpto:"73",code:"73770",name:"SUÁREZ"},{code_dpto:"73",code:"73854",name:"VALLE DE SAN JUAN"},{code_dpto:"73",code:"73861",name:"VENADILLO"},{code_dpto:"73",code:"73870",name:"VILLAHERMOSA"},{code_dpto:"73",code:"73873",name:"VILLARRICA"},{code_dpto:"76",code:"76001",name:"CALI"},{code_dpto:"76",code:"76020",name:"ALCALÁ"},{code_dpto:"76",code:"76036",name:"ANDALUCÍA"},{code_dpto:"76",code:"76041",name:"ANSERMANUEVO"},{code_dpto:"76",code:"76054",name:"ARGELIA"},{code_dpto:"76",code:"76100",name:"BOLÍVAR"},{code_dpto:"76",code:"76109",name:"BUENAVENTURA"},{code_dpto:"76",code:"76111",name:"GUADALAJARA DE BUGA"},{code_dpto:"76",code:"76113",name:"BUGALAGRANDE"},{code_dpto:"76",code:"76122",name:"CAICEDONIA"},{code_dpto:"76",code:"76126",name:"CALIMA"},{code_dpto:"76",code:"76130",name:"CANDELARIA"},{code_dpto:"76",code:"76147",name:"CARTAGO"},{code_dpto:"76",code:"76233",name:"DAGUA"},{code_dpto:"76",code:"76243",name:"EL ÁGUILA"},{code_dpto:"76",code:"76246",name:"EL CAIRO"},{code_dpto:"76",code:"76248",name:"EL CERRITO"},{code_dpto:"76",code:"76250",name:"EL DOVIO"},{code_dpto:"76",code:"76275",name:"FLORIDA"},{code_dpto:"76",code:"76306",name:"GINEBRA"},{code_dpto:"76",code:"76318",name:"GUACARÍ"},{code_dpto:"76",code:"76364",name:"JAMUNDÍ"},{code_dpto:"76",code:"76377",name:"LA CUMBRE"},{code_dpto:"76",code:"76400",name:"LA UNIÓN"},{code_dpto:"76",code:"76403",name:"LA VICTORIA"},{code_dpto:"76",code:"76497",name:"OBANDO"},{code_dpto:"76",code:"76520",name:"PALMIRA"},{code_dpto:"76",code:"76563",name:"PRADERA"},{code_dpto:"76",code:"76606",name:"RESTREPO"},{code_dpto:"76",code:"76616",name:"RIOFRÍO"},{code_dpto:"76",code:"76622",name:"ROLDANILLO"},{code_dpto:"76",code:"76670",name:"SAN PEDRO"},{code_dpto:"76",code:"76736",name:"SEVILLA"},{code_dpto:"76",code:"76823",name:"TORO"},{code_dpto:"76",code:"76828",name:"TRUJILLO"},{code_dpto:"76",code:"76834",name:"TULUÁ"},{code_dpto:"76",code:"76845",name:"ULLOA"},{code_dpto:"76",code:"76863",name:"VERSALLES"},{code_dpto:"76",code:"76869",name:"VIJES"},{code_dpto:"76",code:"76890",name:"YOTOCO"},{code_dpto:"76",code:"76892",name:"YUMBO"},{code_dpto:"76",code:"76895",name:"ZARZAL"},{code_dpto:"81",code:"81001",name:"ARAUCA"},{code_dpto:"81",code:"81065",name:"ARAUQUITA"},{code_dpto:"81",code:"81220",name:"CRAVO NORTE"},{code_dpto:"81",code:"81300",name:"FORTUL"},{code_dpto:"81",code:"81591",name:"PUERTO RONDÓN"},{code_dpto:"81",code:"81736",name:"SARAVENA"},{code_dpto:"81",code:"81794",name:"TAME"},{code_dpto:"85",code:"85001",name:"YOPAL"},{code_dpto:"85",code:"85010",name:"AGUAZUL"},{code_dpto:"85",code:"85015",name:"CHAMEZA"},{code_dpto:"85",code:"85125",name:"HATO COROZAL"},{code_dpto:"85",code:"85136",name:"LA SALINA"},{code_dpto:"85",code:"85139",name:"MANÍ"},{code_dpto:"85",code:"85162",name:"MONTERREY"},{code_dpto:"85",code:"85225",name:"NUNCHÍA"},{code_dpto:"85",code:"85230",name:"OROCUÉ"},{code_dpto:"85",code:"85250",name:"PAZ DE ARIPORO"},{code_dpto:"85",code:"85263",name:"PORE"},{code_dpto:"85",code:"85279",name:"RECETOR"},{code_dpto:"85",code:"85300",name:"SABANALARGA"},{code_dpto:"85",code:"85315",name:"SÁCAMA"},{code_dpto:"85",code:"85325",name:"SAN LUIS DE PALENQUE"},{code_dpto:"85",code:"85400",name:"TÁMARA"},{code_dpto:"85",code:"85410",name:"TAURAMENA"},{code_dpto:"85",code:"85430",name:"TRINIDAD"},{code_dpto:"85",code:"85440",name:"VILLANUEVA"},{code_dpto:"86",code:"86001",name:"MOCOA"},{code_dpto:"86",code:"86219",name:"COLÓN"},{code_dpto:"86",code:"86320",name:"ORITO"},{code_dpto:"86",code:"86568",name:"PUERTO ASÍS"},{code_dpto:"86",code:"86569",name:"PUERTO CAICEDO"},{code_dpto:"86",
code:"86571",name:"PUERTO GUZMÁN"},{code_dpto:"86",code:"86573",name:"LEGUÍZAMO"},{code_dpto:"86",code:"86749",name:"SIBUNDOY"},{code_dpto:"86",code:"86755",name:"SAN FRANCISCO"},{code_dpto:"86",code:"86757",name:"SAN MIGUEL"},{code_dpto:"86",code:"86760",name:"SANTIAGO"},{code_dpto:"86",code:"86865",name:"VALLE DEL GUAMUEZ"},{code_dpto:"86",code:"86885",name:"VILLAGARZÓN"},{code_dpto:"88",code:"88001",name:"SAN ANDRÉS"},{code_dpto:"88",code:"88564",name:"PROVIDENCIA"},{code_dpto:"91",code:"91001",name:"LETICIA"},{code_dpto:"91",code:"91263",name:"EL ENCANTO"},{code_dpto:"91",code:"91405",name:"LA CHORRERA"},{code_dpto:"91",code:"91407",name:"LA PEDRERA"},{code_dpto:"91",code:"91430",name:"LA VICTORIA"},{code_dpto:"91",code:"91460",name:"MIRITI - PARANÁ"},{code_dpto:"91",code:"91530",name:"PUERTO ALEGRÍA"},{code_dpto:"91",code:"91536",name:"PUERTO ARICA"},{code_dpto:"91",code:"91540",name:"PUERTO NARIÑO"},{code_dpto:"91",code:"91669",name:"PUERTO SANTANDER"},{code_dpto:"91",code:"91798",name:"TARAPACÁ"},{code_dpto:"94",code:"94001",name:"INÍRIDA"},{code_dpto:"94",code:"94343",name:"BARRANCO MINAS"},{code_dpto:"94",code:"94663",name:"MAPIRIPANA"},{code_dpto:"94",code:"94883",name:"SAN FELIPE"},{code_dpto:"94",code:"94884",name:"PUERTO COLOMBIA"},{code_dpto:"94",code:"94885",name:"LA GUADALUPE"},{code_dpto:"94",code:"94886",name:"CACAHUAL"},{code_dpto:"94",code:"94887",name:"PANA PANA"},{code_dpto:"94",code:"94888",name:"MORICHAL"},{code_dpto:"95",code:"95001",name:"SAN JOSÉ DEL GUAVIARE"},{code_dpto:"95",code:"95015",name:"CALAMAR"},{code_dpto:"95",code:"95025",name:"EL RETORNO"},{code_dpto:"95",code:"95200",name:"MIRAFLORES"},{code_dpto:"97",code:"97001",name:"MITÚ"},{code_dpto:"97",code:"97161",name:"CARURU"},{code_dpto:"97",code:"97511",name:"PACOA"},{code_dpto:"97",code:"97666",name:"TARAIRA"},{code_dpto:"97",code:"97777",name:"PAPUNAUA"},{code_dpto:"97",code:"97889",name:"YAVARATÉ"},{code_dpto:"99",code:"99001",name:"PUERTO CARREÑO"},{code_dpto:"99",code:"99524",name:"LA PRIMAVERA"},{code_dpto:"99",code:"99624",name:"SANTA ROSALÍA"},{code_dpto:"99",code:"99773",name:"CUMARIBO"}],angular.module("shoplyApp").controller("CategoriaCtrl",["$scope","$rootScope","modal","api","sweetAlert",function(a,b,c,d,e){a.Records=!1,a.load=function(){d.categoria().get().success(function(b){a.records=b,a.Records=!0})},a.addIcon=function(){window.modal=c.show({templateUrl:"views/categorias/agregar-icono.html",size:"md",scope:a},function(a){})},a.setIcon=function(){console.log(this)},a.create=function(){window.modal=c.show({templateUrl:"views/categorias/agregar-categoria.html",size:"md",scope:a,backdrop:!0},function(a){return a.formCategoria.$invalid?void c.incompleteForm():(b.selectedNode&&(a.form.parent=b.selectedNode.node.id),void d.categoria().post(a.form).success(function(c){c&&(a.records.push(c),e.swal("Registro completado.","has registrado una nueva categoria.","success"),a.$close(),delete a.form.data,delete b.selectedNode)}))})},a["delete"]=function(){var e=angular.copy(a.records.filter(function(a){return a.id==b.selectedNode.node.id})[0]);c.removeConfirm({closeOnConfirm:!0},function(c){c&&d.categoria(e._id)["delete"]().success(function(c){c&&(a.records.splice(a.records.indexOf(e),1),delete b.selectedNode)})})},a.edit=function(){a.formEdit=angular.copy(a.records.filter(function(a){return a.id==b.selectedNode.node.id})[0]),window.modal=c.show({templateUrl:"views/categorias/editar_categoria.html",size:"md",scope:a,backdrop:!0},function(a){return a.formEditCategoria.$invalid?void c.incompleteForm():void d.categoria(a.formEdit._id).put(a.formEdit).success(function(c){c&&(e.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit,delete b.selectedNode)})})}}]),angular.module("shoplyApp").directive("categoria",function(){function a(a,b,c,d){b.categoria().get().success(function(b){a.records=b}),a.myConfig={valueField:a.key,labelField:a.label,placeholder:"Categoria",maxItems:1,allowEmptyOption:a.emptyOption},a.$on("setCategoria",function(b,c){a.ngModel=c}),a.explorer=function(){c.show({templateUrl:"views/fields/categoria-popup.html",size:"md",scope:a},function(a){a.$emit("setCategoria",a.selectedNode.node.original._id),a.$close()})}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<div class="input-group"><selectize config="myConfig" options="records" ng-model="ngModel"></selectize><span class="input-group-btn"><button ng-click="explorer()" class="btn custom-btn-primary" style="top: -3px;padding:4px 12px;!important" type="button">Seleccionar</button></span></div>',restrict:"EA",scope:{ngModel:"=",key:"@",label:"@",emptyOption:"@"},controller:a,link:function(a,b,c){}}}),angular.module("shoplyApp").directive("productoField",function(){function a(a,b,c,d){b.producto().get().success(function(b){a.records=b.map(function(a){var b=new Object;return b=a.data,b.iva=a._iva,b._reference=a._reference,b._category=a._category,b._id=a._id,b.idcomposed=a.idcomposed,b.refMixed=a._reference.reference.join(""),b})||[]}),a.myConfig={plugins:["no_match"],loadingClass:"selectizeLoading",noResultText:"No existe un producto con esa referencia.",noMatch:function(){toastr.options={preventDuplicates:!0},toastr.warning("no existe un producto con esa referencia")},create:!1,valueField:a.key,labelField:a.label,placeholder:a.placeholder||"Producto",maxItems:1,searchField:a.searchBy,maxOptions:1,openOnFocus:!1,selectOnTab:!0,setFocus:a.setFocus,render:{option:function(a,b){return'<div><img style="border:2px solid #efefef;width:50px;height:50px;margin-right:5px;" src="'+a.gallery[0].URL+'" /><span>'+b(a.producto)+"</span></div>"}},onItemAdd:function(b,c){angular.forEach(a.records,function(c,d){return c._id==b?void(a.setObject=a.records[d]):void 0})}}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",setObject:"=",setFocus:"=",key:"@",label:"@",searchBy:"=",placeholder:"@"},controller:a,link:function(a,b,c){a.$root.$on("focusOn",function(a,c){c&&b[0].firstChild.selectize.focus()}),b[0].firstChild.selectize.focus()}}}),angular.module("shoplyApp").directive("serviceField",function(){function a(a,b,c,d){b.producto().add("servicios").get().success(function(b){a.records=b.map(function(a){var b=new Object;return b=a.data,b.iva=a._iva,b._reference=a._reference,b._category=a._category,b._id=a._id,b.idcomposed=a.idcomposed,b.refMixed=a._reference.reference.join(""),b})||[]}),a.myConfig={plugins:["no_match"],loadingClass:"selectizeLoading",noResultText:"No existe un servicio con esa referencia.",noMatch:function(){toastr.options={preventDuplicates:!0},toastr.warning("no existe un servicio con esa referencia")},create:!1,valueField:a.key,labelField:a.label,placeholder:"Servicio",maxItems:1,searchField:a.searchBy,maxOptions:1,openOnFocus:!1,selectOnTab:!0,setFocus:a.setFocus,onItemAdd:function(b,c){angular.forEach(a.records,function(c,d){return c._id==b?void(a.setObject=a.records[d]):void 0})}}}return a.$inject=["$scope","api","modal","$rootScope"],{template:'<selectize config="myConfig" options="records" ng-model="ngModel"></selectize>',restrict:"EA",scope:{ngModel:"=",setObject:"=",setFocus:"=",key:"@",label:"@",searchBy:"="},controller:a,link:function(a,b,c){a.$root.$on("focusOn",function(a,c){c&&b[0].firstChild.selectize.focus()}),b[0].firstChild.selectize.focus()}}}),angular.module("shoplyApp").controller("CategorydetailCtrl",["$scope","$stateParams","api",function(a,b,c){a.load=function(){b.categoria&&c.categoria(b.categoria).get().success(function(b){a.record=b})}}]),angular.module("shoplyApp").controller("DashboardCtrl",["$scope","api","modal","storage","$state","$rootScope","$timeout","permission","sweetAlert",function(a,b,c,d,e,f,g,h,i){a.records=[],a.load=function(){b.pedido().get().success(function(b){a.records=b||[]})},a.Remove=function(){var d=this.record||f.grid.value;c.removeConfirm({closeOnConfirm:!0},function(c){c&&b.pedido(d._id)["delete"]().success(function(b){a.records.splice(a.records.indexOf(d),1)})})},a.OnRoad=function(){var c=angular.copy(this.record);c.data.status="En Camino",c._user=c._user._id,b.pedido(c._id).put(c).success(function(b){b&&(i.swal("En Camino","Una patrulla ya se dirije al lugar de la incidencia.","success"),a.load())})},a.Pending=function(){angular.copy(this.record)},f.$on("incoming_request",function(b,c){a.records.push(c)}),a.alert_types=[{HOMBRE_ARMADO:"Hombre Armado"},{HOMBRE_SOSPECHOSO:"Hombre Sospechoso"},{OBJETO_SOSPECHOSO:"Objeto Sospechoso"},{HOMICIDIO:"Homicidio"},{HURTO:"Hurto"},{SECUESTRO:"Secuestro"},{CONTIENDA_DISCUCION_PELEA:"Contienda"},{VECINO_RUIDOSO:"Vecino Ruidoso"},{ALTA_PRIORIDAD:"Alta Prioridad"}],a.showMarker=function(){f.$broadcast("ADD_MARKER",this.record.data)}}]),angular.module("shoplyApp").controller("HeaderCtrl",["$scope","api","$state","modal","$timeout","$window","$rootScope","storage",function(a,b,c,d,e,f,g,h){a.logout=function(){h["delete"]("token"),h["delete"]("user"),delete g.isLogged,delete g.user,delete g.grid,c.go("login")},a.cambiarEmpresa=function(){window.modal=d.show({templateUrl:"views/company/conectar.html",size:"sm",scope:a,backdrop:"static"},function(a){g.user;a.loading=!0,b.empresa(a.$parent.company._id).get().success(function(b){e(function(){return b._parent?(g.user._company=b._parent,g.user._company=b,h.update("user",g.user),toastr.success("Conectado con: "+b.data.empresa,{timeOut:1e4}),a.loading=!1,a.$close(),void c.go("dashboard")):(g.user._company=b,h.update("user",g.user),toastr.success("Conectado con: "+b.data.empresa,{timeOut:1e4}),a.loading=!1,a.$close(),void c.go("dashboard"))},5e3)})})}}]),angular.module("shoplyApp").controller("ChangepasswordCtrl",["$scope","sweetAlert","account","storage","$state",function(a,b,c,d,e){a.changePassword=function(){if(a.changePasswordForm.$valid){if(a.form.data.newpwd!=a.form.data.confirmpwd)return void b.swal({title:"Formulario incompleto",text:"Las Contraseñas no coinciden",type:"error"});c.usuario().password_reset(angular.extend(a.form.data,{id:angular.fromJson(d.get("user"))._id})).then(function(a){a&&(b.swal("Cambio de clave!","se ha cambiado correctamente","success"),$storage["delete"]("user"),$storage["delete"]("token"),delete scope.form,e.go("login"))},function(a){400==a&&b.swal({title:"Formulario no completado",text:"Las Contraseñas no coinciden",type:"error"}),404==a&&b.swal({title:"Formulario no completado",text:"El usuario no existe",type:"error"})})}else b.swal({title:"Formulario no completado",text:"Por favor rellene los campos",type:"error"})}}]),angular.module("shoplyApp").controller("CompanyCtrl",["$scope","$timeout","$rootScope","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i){a.Records=!1,a.load=function(){h.empresa().add("user/"+angular.fromJson(i.get("user"))._id).get().success(function(b){a.records=b||[],a.Records=!0})},a.connectCompany=function(){c.user;h.empresa(this.record._id).get().success(function(a){b(function(){return a._parent?(c.user._company=a._parent,i.update("user",c.user),toastr.success("Conectado con: "+a.data.empresa,{timeOut:1e4}),void f.go("dashboard")):(c.user._company=a,i.update("user",c.user),void toastr.success("Conectado con: "+a.data.empresa,{timeOut:1e3}))},1e3)})},a.create=function(){window.modal=g.show({templateUrl:"views/company/agregar_empresa.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEmpresa.$invalid?void g.incompleteForm():void h.empresa().post(angular.extend(a.form,{_user:angular.fromJson(window.localStorage.user)._id})).success(function(c){c&&(d.swal("Registro completado.","has registrado una nueva empresa.","success"),b(a.load()),a.$close(),delete a.form)})})},a.edit=function(){a.formEdit=angular.copy(this.record),a.formEdit._parent=a.formEdit._parent?a.formEdit._parent._id:null,window.modal=g.show({templateUrl:"views/company/editar_empresa.html",size:"md",scope:a,backdrop:"static"},function(a){return a.formEditarEmpresa.$invalid?void g.incompleteForm():void h.empresa(a.formEdit._id).put(a.formEdit).success(function(b){b&&(d.swal("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit.data)})})},a["delete"]=function(b){var e=b||this.record;return e._id==c.user._company._id?void d.swal("Ups!!","No puedes eliminar una empresa en uso.","warning"):void g.removeConfirm({closeOnConfirm:!0},function(b){b&&h.empresa(e._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(e),1)})})}}]),angular.module("shoplyApp").controller("FacturacionCtrl",["$scope","hotkeys","shoppingCart","modal","api","constants","sweetAlert","$rootScope","$http","$filter","$stateParams","storage","$timeout","$state",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.records=[],a.total=0,a.$watch("records",function(b,c){a.totalize(b),a.totalizeBases(b),a.totalizeDiscount(b),a.totalizeIva(b)},!0),a.totalize=function(b){for(var d=0,e=0;e<c.totalize(b).length;e++)d+=c.totalize(b)[e];a.total=d},a.totalizeIva=function(b){for(var d=0,e=0;e<c.totalizeIva(b).length;e++)d+=c.totalizeIva(b)[e];a.TotalIva=d},a.totalizeBases=function(b){for(var d=0,e=0;e<c.totalizeBases(b).length;e++)d+=c.totalizeBases(b)[e];a.subTotal=d},a.totalizeDiscount=function(b){for(var d=0,e=0;e<c.totalizeDiscount(b).length;e++)d+=c.totalizeDiscount(b)[e];a.descuento=d},a.load=function(){if(e.arqueos().add("find/").post({_seller:h.user._id,ini:moment(new Date).startOf("day").format()}).success(function(a){a.length>0&&(g.swal("Error","No puede facturar debido a que ya existe un arqueo para este dia","error"),n.go("dashboard"))}),a.records=[],k.facturacion)e.facturacion(k.facturacion).get().success(function(b){a.rs=b,a.records=a.rs._product,a.form._client=b._client});else if(k.pedido){e.pedido(k.pedido).get().success(function(b){a.pedido=b}),a.myGroceries=h.user._grocery.map(function(a){var b=new Object;return b.name=a.data.bodega,b._id=a._id,b})||[],a.myConfig={valueField:"_id",labelField:"name",placeholder:"Bodega para descargar",selectOnTab:!0,allowEmptyOption:a.emptyOption,maxItems:1};var b=a;d.show({templateUrl:"views/facturacion/selectGrocery.html",size:"sm",scope:a,backdrop:"static",windowClass:"modal-center"},function(a){a._grocery&&(e.pedido(k.pedido).get().success(function(c){console.log(a),b.grocery=a.myGroceries.filter(function(b){return b._id==a._grocery})[0].name,toastr.success("descargando de : "+a.myGroceries.filter(function(b){return b._id==a._grocery})[0].name),b.pedido=c,b.records=c.shoppingCart||[],b.form._client=c._client._id}),a.$close())})}else a.setDefault=l.get("defaultClient")||null,h.$emit("focusOn",!0),a.myGroceries=h.user._grocery.map(function(a){var b=new Object;return b.name=a.data.bodega,b._id=a._id,b})||[],a.selectGrocery()},a.selectGrocery=function(){a.myConfig={valueField:"_id",labelField:"name",placeholder:"Bodega para descargar",selectOnTab:!0,allowEmptyOption:a.emptyOption,maxItems:1},d.show({templateUrl:"views/facturacion/selectGrocery.html",size:"sm",scope:a,backdrop:"static",windowClass:"modal-center"},function(a){a._grocery&&(a.$parent.grocery=a.myGroceries.filter(function(b){return b._id==a._grocery})[0].name,toastr.success("descargando de : "+a.myGroceries.filter(function(b){return b._id==a._grocery})[0].name),a.$close())})},a.setDefaultClient=function(){this.defaultOption?l.save("defaultClient",a.form._client):l["delete"]("defaultClient")},a.printA=function(a,b){Handlebars.registerHelper("formatCurrency",function(a){return j("currency")(a)}),i.get("views/invoice/invoice_88mm.html").success(function(b){var c=Handlebars.compile(b),d=window.open("","_blank","scrollbars=yes,resizable=no,top=200,left=200,width=350");d.document.write(c(a)),d.print(),d.close()})},a.setReceived=function(){var b=0;angular.forEach(a.paymentMethods,function(a){a.data.value&&(b+=a.data.value)}),a.received=b;var c=a.totalParcial-a.received;0>c?a.change=-1*c:a.change=0,(this.method.data.requiredCode||this.method.data.card||this.method.data.credito)&&this.method.data.value>a.totalParcial&&(g.swal("Ups","Este metodo de pago no factura valores mayores al total.","warning"),delete this.method.data.value),this.method.data.requiredCode||this.method.data.card||this.method.data.credito||(this.method.data.totalEfectivo=this.method.data.value-a.change)},a.getPaymentMethods=function(){k.facturacion?(a.paymentMethods=a.rs._payments,a.loading=!1):(a.loading=!0,e.formas_pagos().get().success(function(b){a.$parent.paymentMethods=b||[],a.loading=!1}))},a.openBaseForm=function(b,c){a.totalCard=c,a.method=this.method,this.method.data.card&&13===b.which&&(window.modal=d.show({templateUrl:"views/facturacion/baseForm.html",size:"md",scope:a,backdrop:"static"},function(a){a.method.data.base=a.totalCard/1.16,a.method.data.Iva=a.totalCard-a.totalCard/1.16,a.$parent.$parent.form._payments=a.paymentMethods,a.$close()},function(){}))},a.$watch("gdiscount",function(b,c){(b||c)&&(a.vgdescuento=a.total*a.gdiscount/100,a.totalParcial=angular.copy(a.total)-a.vgdescuento)}),a.getExistencias=function(){a.record=this.record,e.cantidades().add("stock/"+a._grocery).add("/"+a.record._id).get().success(function(b){console.log("response",b);for(var c=0;c<b.length;c++)a.record.existencias=(a.record.existencias||0)+b[c].amount})},a.facturar=function(b){0!=a.records&&(window.modal=d.show({templateUrl:"views/facturacion/agregar_facturacion.html",size:"md",scope:a,backdrop:"static"},function(a){a.form.data=new Object,a.form._seller=h.user._id,a.form.data.TotalIva=a.TotalIva,a.form.data.total=a.totalParcial,a.form.data.subtotal=a.subTotal,a.form.data.change=a.$$childTail.change,a.form.data.received=a.$$childTail.received,a.form.data._grocery=a._grocery,a.form.data.descuentoGlobal=a.gdiscount||0,a.form.data.valorDescuentoGlobal=a.vgdescuento,a.form._payments=a.paymentMethods,a.form.data.descuento=0,a.form._product=a.records.map(function(b){return delete b.$order,b.descuento||(b.descuento=0),a.form.data.descuento=a.form.data.descuento+parseInt(b.descuento||0),b}),e.ivas().get().success(function(c){var d=[];a.form.data.ivadetails=[],angular.forEach(c,function(b){d.push(a.form._product.filter(function(a){return a.iva||(a.iva=new Object,a.iva.data=new Object,a.iva.data.valor=0),a.iva.data.valor==b.data.valor}))}),angular.forEach(d,function(b){if(b.length>0){var c=new Object;c.total=0,c.viva=0,angular.forEach(b,function(a){c.tipo=a.iva.data.valor,c.total=a.precio_venta*a.cantidad-(a.descuento||0*a.cantidad)+c.total});var d=c.tipo/100+1;c.base=c.total/d,c.viva=c.total-c.base,a.form.data.ivadetails.push(c)}}),k.pedido?(a.form._seller=h.user._id,a.form.data.TotalIva=a.TotalIva,a.form.data.total=a.totalParcial,a.form.data.subtotal=a.subTotal,a.form.data.change=a.$$childTail.change,a.form.data.received=a.$$childTail.received,a.form.data._grocery=a._grocery,a.form.data.descuentoGlobal=a.gdiscount||0,a.form.data.valorDescuentoGlobal=a.vgdescuento,a.form._payments=a.paymentMethods,a.form.data.descuento=0,a.form.data.tipo=a.pedido.data.tipo,a.form.data.estado=b,e.facturacion().post(a.form).success(function(b){b&&(delete a.form,delete a.rs,a.records.length=0,b.createdAt=moment(new Date(b.createdAt)).format("lll"),a.printA(b),a.$close(),g.swal("Listo.","Venta realizada correctamente.","success"),h.$emit("focusOn",!0),e.pedido(k.pedido).add("/facturado").put().success(function(a){console.log(a),toastr.success("Pedido Actualizado")}))})):(a.form.data.estado=b,e.facturacion().post(a.form).success(function(b){b&&(delete a.form,a.records.length=0,b.createdAt=moment(new Date(b.createdAt)).format("lll"),console.log("response",b),a.printA(b),a.$close(),g.swal("Listo.","Venta realizada correctamente.","success"),h.$emit("focusOn",!0))}))})}))},a.agregarCantidad=function(){a._record=this.record,window.modal=d.show({templateUrl:"views/facturacion/agregar-cantidad.html",size:"sm",scope:a,backdrop:"static",windowClass:"modal-center"},function(a){if(a.cantidadModel){if(a.cantidadModel>a._record.existencias)return void toastr.warning("No existe esta cantidad en bodega para esta venta");a._record.cantidad=parseInt(a.cantidadModel),a._record.precio_baseFacturado=(a._record.precio+a._record.valor_utilidad)*a.cantidadModel,a._record.precio_VentaFacturado=a._record.precio_venta*a.cantidadModel,a._record.ivaFacturado=a._record.precio_VentaFacturado-a._record.precio_baseFacturado,a._record.descuento=a._record.precio_venta*parseInt(a._record.porcentajeDTO)*a._record.cantidad/100,a._record.precio_VentaFacturado=a._record.precio_VentaFacturado||a._record.precio_venta-a._record.descuento,a.$close()}})},a.agregarDescuento=function(){a.descuentoRecord=this.record,window.modal=d.show({templateUrl:"views/facturacion/descuento.html",size:"sm",scope:a,backdrop:"static"},function(a){a.pdiscount&&(a.descuentoRecord.porcentajeDTO=a.pdiscount,a.descuentoRecord.descuento=a.descuentoRecord.precio_venta*parseInt(a.pdiscount)*a.descuentoRecord.cantidad/100,a.descuentoRecord.precio_VentaFacturado=a.descuentoRecord.precio_VentaFacturado-a.descuentoRecord.descuento,a.descuentoRecord.precio_baseVlFacturado=(a.descuentoRecord.precio_baseFacturado||(a.descuentoRecord.precio+a.descuentoRecord.valor_utilidad)*a.pdiscount)/100,a.descuentoRecord.ivaFacturado=a.descuentoRecord.ivaFacturado-a.descuentoRecord.ivaFacturado*a.pdiscount/100,a.descuentoRecord.precio_baseFacturado=(a.descuentoRecord.precio_baseFacturado||a.descuentoRecord.precio+a.descuentoRecord.valor_utilidad)-(a.descuentoRecord.precio_baseFacturado||a.descuentoRecord.precio+a.descuentoRecord.valor_utilidad)*a.pdiscount/100,a.descuentoRecord.vlUnicoD=a.descuentoRecord.total*a.pdiscount/100,a.descuentoRecord.vlUnicoP=a.descuentoRecord.total-a.descuentoRecord.vlUnicoD,a.$close()),a.pdiscountPesos&&(a.descuentoRecord.pesosDTO=a.pdiscountPesos,a.descuentoRecord.descuento=a.pdiscountPesos,a.descuentoRecord.precio_VentaFacturado=a.descuentoRecord.precio_VentaFacturado-a.descuentoRecord.descuento,a.descuentoRecord.precio_baseFacturado=a.descuentoRecord.precio_VentaFacturado/(a.descuentoRecord.iva.data.valor/100+1),a.descuentoRecord.ivaFacturado=a.descuentoRecord.precio_VentaFacturado-a.descuentoRecord.precio_baseFacturado,a.$close())})},a.agregarDescuentoGlobal=function(){window.modal=d.show({templateUrl:"views/facturacion/descuento.html",size:"sm",scope:a,backdrop:"static"},function(a){a.pdiscount&&(a.$parent.descuentoGlobal=a.$parent.$parent.total*a.pdiscount/100,console.log("descuentoGloabl",a.$parent.descuentoGloabal),a.total=a.total-a.$parent.$parent.descuentoGlobal,console.log("total",a.$parent.$parent.total),a.$close()),a.pdiscountPesos&&a.$close()})},a.$watch("_product",function(b,c){if(b){if(a._productObj.negativo)return a.records.push(angular.copy(angular.extend(a._productObj,{cantidad:1,precio_baseFacturado:a._productObj.precio+a._productObj.valor_utilidad,precio_VentaFacturado:a._productObj.precio_venta,ivaFacturado:a._productObj.precio_venta-(a._productObj.precio+a._productObj.valor_utilidad),total:a._productObj.precio_venta,descuento:0,vlUnicoD:0,vlUnicoP:a._productObj.precio_venta}))),void delete a._product;e.cantidades().add("stock/"+a._grocery).add("/"+b).get().success(function(b){0==b.length?(toastr.warning("este producto no esta disponible en bodega"),delete a._product):(a.records.push(angular.copy(angular.extend(a._productObj,{cantidad:1,precio_baseFacturado:a._productObj.precio+a._productObj.valor_utilidad,precio_VentaFacturado:a._productObj.precio_venta,ivaFacturado:a._productObj.precio_venta-(a._productObj.precio+a._productObj.valor_utilidad),total:a._productObj.precio_venta,descuento:0,vlUnicoD:0,vlUnicoP:a._productObj.precio_venta}))),delete a._product)})}}),a["delete"]=function(){var b=this.record;a.records.splice(a.records.indexOf(b),1)}}]),angular.module("shoplyApp").controller("DevolucionesCtrl",["$scope","storage","shoppingCart","modal","api","constants","sweetAlert","$rootScope","$http","$filter",function(a,b,c,d,e,f,g,h,i,j){a.records=[],a.findByCode=function(b){(13==b.keyCode||13==b.which)&&(a.Records=!0,e.facturacion().add("find").post(a.form.data).success(function(b){0==b.length&&(g.swal("0 Resultado.","No se encontro esta factura.","success"),delete a.form),a.devolucionesRecords=b||[],a.Records=!1}))},a.remove=function(){var b=this.record;a.devolucionesRecords.splice(a.devolucionesRecords.indexOf(b),1)},a.find=function(){a.devolucionesRecords=[],a.Records=!0,a.form=a.form||{},a.form.data=a.form.data||{},a.form.data.ini=a.form.data.ini?moment(a.form.data.ini).startOf("day").format():void 0,a.form.data.end=a.form.data.end?moment(a.form.data.end).endOf("day").format():void 0,e.facturacion().add("find").post(a.form.data).success(function(b){0==b.length&&g.swal("Oops...","No se encontraron resultados en esta busqueda!","error"),a.devolucionesRecords=b||[],a.Records=!1})},a.verFormaDePago=function(){a.records=this.record._payments,window.modal=d.show({templateUrl:"views/facturacion/verFormasDePago.html",size:"md",scope:a,backdrop:"static"},function(a){a.$close()})},a.$watch("records",function(b,d){b.length>0&&(a.total=c.totalize(b)-c.totalizeDiscount(b)||0,a.TotalIva=c.totalizeIva(b),a.subTotal=a.total-a.TotalIva,a.descuento=c.totalizeDiscount(b))},!0),a.load=function(){},a.printA=function(a,b){Handlebars.registerHelper("formatCurrency",function(a){return j("currency")(a)}),i.get("views/invoice/invoice_88mm.html").success(function(b){var c=Handlebars.compile(b),d=window.open("","_blank","scrollbars=yes,resizable=no,top=200,left=200,width=350");d.document.write(c(a)),d.print(),d.close()})},a.setReceived=function(){var b=0;angular.forEach(a.paymentMethods,function(a){a.data.value&&(b+=a.data.value)}),a.received=b;var c=a.totalParcial-a.received;0>c?a.change=-1*c:a.change=0},a.getPaymentMethods=function(){a.loading=!0,e.formas_pagos().get().success(function(b){a.paymentMethods=b||[],a.loading=!1})},a.openBaseForm=function(b,c){a.totalCard=c,a.method=this.method,this.method.data.card&&13===b.which&&(window.modal=d.show({templateUrl:"views/facturacion/baseForm.html",size:"md",scope:a,backdrop:"static"},function(a){a.method.data.base=a.totalCard/1.16,a.method.data.Iva=a.totalCard-a.totalCard/1.16,a.$parent.$parent.form._payments=a.paymentMethods,a.$close()},function(){alert(1)}))},a.$watch("gdiscount",function(b,c){(b||c)&&(a.vgdescuento=a.total*a.gdiscount/100,a.totalParcial=angular.copy(a.total)-a.vgdescuento)}),a.facturar=function(){window.modal=d.show({templateUrl:"views/facturacion/agregar_facturacion.html",size:"md",scope:a,backdrop:"static"},function(a){a.form.data=new Object,a.form._seller=h.user._id,a.form.data.TotalIva=a.TotalIva,a.form.data.total=a.totalParcial,a.form.data.subtotal=a.subTotal,a.form.data.descuentoGlobal=a.gdiscount||0,a.form.data.valorDescuentoGlobal=a.vgdescuento,a.form._product=a.records.map(function(a){return delete a.$order,a}),e.ivas().get().success(function(b){var c=[];a.form.data.ivadetails=[],angular.forEach(b,function(b){c.push(a.form._product.filter(function(a){return a.iva||(a.iva=new Object,a.iva.data=new Object,a.iva.data.valor=0),a.iva.data.valor==b.data.valor}))}),angular.forEach(c,function(b){var c=new Object;c.total=0,c.viva=0,angular.forEach(b,function(a){c.tipo=a.iva.data.valor,c.total=c.total+a.precio_venta,c.viva=c.viva+a.valor_iva||0}),c.base=c.total-c.viva,a.form.data.ivadetails.push(c)}),e.facturacion().post(a.form).success(function(b){b&&(delete a.form,a.records.length=0,a.printA(b),a.$close(),g.swal("Listo.","Venta realizada correctamente.","success"),h.$emit("focusOn",!0))})})})},a.agregarCantidad=function(){var b=this.record;g.swal({title:"Agregar Cantidad",type:"input",inputValue:1,showCancelButton:!1,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Cantidad"},function(c){a.records[a.records.indexOf(b)].cantidad=parseInt(c||1),window.swal.close()})},a.agregarDescuento=function(){var a=this.record;g.swal({title:"% de Descuento",type:"input",showCancelButton:!1,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"%"},function(b){a.descuento=parseInt(b)||0,a.valor_descuento=a.precio_venta*a.cantidad*(parseInt(a.descuento||0)/100),a.total=a.total-a.valor_descuento,window.swal.close()})},a.$watch("_product",function(b,c){if(b){var d=!1;angular.forEach(a.records,function(a){a._id==b&&(d=!0,a.cantidad=a.cantidad+1,a.total=a.precio_venta*a.cantidad)}),d||a.records.push(angular.copy(angular.extend(a._productObj,{cantidad:1,total:a._productObj.precio_venta}))),delete a._product}}),a.quitar=function(){var b=this.record;a.records.splice(a.records.indexOf(b),1)}}]),angular.module("shoplyApp").controller("ArqueoCtrl",["$scope","$http","$filter","$rootScope","$stateParams","sweetAlert","constants","$state","modal","api","storage",function(a,b,c,d,e,f,g,h,i,j,k){a.MainRecords=!1,a.form=new Object,a.form.metadata={},a.form.metadata.total_sistema=0,a.load=function(){e.employee&&(a._sellerParam=e.employee),e.highlight&&(a.highlight=e.highlight),e.arqueo?j.arqueos(e.arqueo).get().success(function(b){a.form._request=b._request||[],a.form.metadata=b.metadata,a.MainRecords=!0}):j.arqueos().get().success(function(b){a.records=b||[],a.MainRecords=!0})},a.totalizePayments=function(){this.record.total=0;for(var b=0;b<a.allPayments.length;b++)this.record.data.descripcion==a.allPayments[b].data.descripcion&&(a.allPayments[b].data.totalEfectivo?this.record.total=this.record.total+a.allPayments[b].data.totalEfectivo:this.record.total=this.record.total+a.allPayments[b].data.value)},a.totalizeBill=function(){a.allPayments=[];for(var b=0;b<a.$parent.form._billings.length;b++)console.log(a.$parent.form._billings),a.allPayments=a.allPayments.concat(a.$parent.form._billings[b]._payments.filter(function(a){return a.data.value}))},a.verArqueo=function(){a.payments=this.record.data.payments,window.modal=i.show({templateUrl:"views/arqueos/ver-arqueo.html",size:"md",scope:a,backdrop:"static"},function(a){a.$close()})},a.verFacturaciones=function(){a._billings=this.record._request,window.modal=i.show({templateUrl:"views/arqueos/ver-facturaciones.html",size:"lg",scope:a,backdrop:"static"},function(a){a.$close()})},a.guardarArqueo=function(){window.modal=i.show({templateUrl:"views/arqueos/guardar-arqueo.html",size:"md",scope:a,backdrop:"static"},function(a){f.swal({title:"Confirmar Movimiento!",text:"Escribe algo referente al movimiento.",type:"input",showCancelButton:!1,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Nombre del Movimiento"},function(b){if(b===!1)return!1;if(console.log(a),""===b)return swal.showInputError("You need to write something!"),!1;var c={};c.data={},c._seller=a.$parent.$parent.formData._seller,c.data.arqueo=b,c.data.payments=a.$parent.payments,c.ini=moment(a.$parent.$parent.formData.ini).startOf("day").format(),c.end=moment(a.$parent.$parent.formData.end).endOf("day").format(),c._request=a.$parent.form._billings.map(function(a){return a._id}),console.log("data para el arqueo",c),j.arqueos().post(c).success(function(b){b&&(f.swal("Registro Creado","Registro creado correctamente.","success"),a.form._billings=[],a.$close(),h.go("dashboard.arqueos",{highlight:b._id}))})})})},a.verImpuestos=function(b){a.records=this.record.data.ivadetails,window.modal=i.show({templateUrl:"views/iva/verIvas.html",size:"md",scope:a,backdrop:"static"},function(a){a.$close()})},a.create=function(){h.go("dashboard.crear-arqueo")},a.download=function(){alert(1)},a.downloadOnLIst=function(){a._schema=a.form._billings.map(function(a){var b=new Object;return b.vendedor=a._seller.full_name,b.fecha=new Date(a.createdAt).toISOString().substr(0,10),b.Cliente=a._client.full_name,b.total=a.data.total.toString(),b});var b=a._schema,c=[a.form.metadata],d=[{sheetid:"Pedidos",header:!0},{sheetid:"Facturacion",header:!1}];alasql('SELECT INTO XLSX("Arqueo.xlsx",?) FROM ?',[d,[b,c]])},a.find=function(){a.formData=a.formData||{},a.formData.ini=a.formData.ini?moment(a.formData.ini).startOf("day").format():void 0,a.formData.end=a.formData.end?moment(a.formData.end).endOf("day").format():void 0,j.arqueos().add("find/").post(a.formData).success(function(b){
b.length>0?(f.swal("Arqueo Existente","Ya existe un arqueo para este usuario en esta fecha","error"),delete a.formData,delete a.formD):0==b.length&&(a.Records=!0,a.formData=a.formData||{},a.formData.ini=moment(a.formData.ini).startOf("day").format(),a.formData.end=moment(a.formData.end).endOf("day").format(),j.facturacion().add("find/").post(a.formData).success(function(b){b.length>0?(a.form._billings=b||[],a.form.metadata.total_sistema=0,a.form.metadata.sobrante=0,a.form.metadata.faltante=0,a.totalize(),a.formasDePagos=[],a.ffp=[],a.Records=!1,delete a.formData,j.formas_pagos().get().success(function(b){a.payments=b,angular.forEach(b,function(b){angular.forEach(a.form._billings,function(c){a.formasDePagos.push({id:b.data.descripcion,values:c._payments.filter(function(a){return a._id==b._id&&a.data.value})})})})})):(f.swal("0 Resultados","No se encontraron registros para este usuario","error"),delete a.formData,a.form._billings=a.form._billings||[],a.Records=!1)}))})},a.print=function(d){Handlebars.registerHelper("formatCurrency",function(a){return a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}),Handlebars.registerHelper("DateShort",function(a){return c("date")(a,"yyyy-MM-dd")}),b.get("views/prints/arqueo.html").success(function(b){var c=Handlebars.compile(b),d=window.open("","_blank","scrollbars=yes,resizable=no,top=200,left=200,width=350");d.document.write(c(a.records)),d.print(),d.close()})},a.totalize=function(){angular.forEach(a.form._billings,function(b){a.form.metadata.total_sistema+=b.data.total||0})},a.$watch("form.metadata.total_efectivo",function(b,c){(a.form.metadata.total_sistema-a.form.metadata.total_efectivo||0)<0?(a.form.metadata.sobrante=-1*(a.form.metadata.total_sistema-a.form.metadata.total_efectivo),a.form.metadata.faltante=0):(a.form.metadata.faltante=a.form.metadata.total_sistema-a.form.metadata.total_efectivo||0,a.form.metadata.sobrante=0)}),a.borrar=function(){var b=this.record;i.removeConfirm({closeOnConfirm:!0},function(c){c&&j.arqueos(b._id)["delete"]().success(function(c){c&&a.records.splice(a.records.indexOf(b),1)})})}}]),angular.module("shoplyApp").controller("forgotCtrl",["$scope","api","$state","modal","storage",function(a,b,c,d,e){a.recover=function(){return a.forgotForm.$invalid?void d.incompleteForm():void b.recover().post(a.form.data).success(function(b){b&&(a.success=!0)}).error(function(){a.failed=!0})}}]),angular.module("shoplyApp").controller("FormaDePagoCtrl",["$scope","modal","api",function(a,b,c){a.load=function(){a.loading=!0,c.formas_pagos().get().success(function(b){a.records=b||[],a.loading=!1})},a.agregar=function(){return a.formFormaPagos.$invalid?void b.incompleteForm():void c.formas_pagos().post(a.form).success(function(b){b&&(a.records.push(b),delete a.form.data)})},a.borrar=function(){var d=this.record;b.removeConfirm({closeOnConfirm:!0},function(b){b&&c.formas_pagos(d._id)["delete"]().success(function(b){b&&a.records.splice(a.records.indexOf(d),1)})})},a.edit=function(){a.formEdit=angular.copy(this.record),window.modal=b.show({templateUrl:"views/formaDePago/editar_forma_pago.html",size:"md",scope:a,backdrop:"static"},function(a){return a.$$childTail.formEditformaPago.$invalid?void b.incompleteForm():void c.formas_pagos(a.formEdit._id).put(a.formEdit).success(function(b){b&&(sweetAlert("Registro Modificado","Registro modificado correctamente.","success"),a.load(),a.$close(),delete a.formEdit)})})}}]),angular.module("shoplyApp").factory("sweetAlert",["$timeout","$window",function(a,b){var c=b.swal;return{swal:function(b,d,e){a(function(){"function"==typeof d?c(b,function(b){a(function(){d(b)})},e):c(b,d,e)},200)},success:function(b,d){a(function(){c(b,d,"success")},200)},error:function(b,d){a(function(){c(b,d,"error")},200)},warning:function(b,d){a(function(){c(b,d,"warning")},200)},info:function(b,d){a(function(){c(b,d,"info")},200)}}}]),angular.module("shoplyApp").controller("TransportadorCtrl",["$scope","api","modal",function(a,b,c){a.load=function(){b.transportador().get().success(function(b){a.records=b||[]})},a.agregar=function(){window.modal=c.show({templateUrl:"views/transportador/agregar-transportador.html",size:"md",scope:a},function(a){return a.formTransportador.$invalid?void c.incompleteForm():void b.transportador().post(a.form).success(function(b){b&&(a.load(),a.$close(),delete a.form.data)})})}}]),angular.module("shoplyApp").directive("iconPicker",function(){function a(a,b){a.selected=null,a.iconPickerForm=function(){b.show({templateUrl:"views/categorias/agregar-icono.html",size:"md",scope:a},function(a){a.$close()})},a.setIcon=function(b){a.ngModel=b.currentTarget.classList[1],a.selected=b.currentTarget.classList[1],a.$$childHead.$close()}}return a.$inject=["$scope","modal"],{template:'<a href="" ng-click="iconPickerForm()" >Elejir un Icono</a>',restrict:"E",scope:{ngModel:"="},link:function(a,b,c){},controller:a}}),angular.module("shoplyApp").run(["$templateCache",function(a){"use strict";a.put("views/aboutus/aboutus.html",'<div class="row page-about"> <div class="col-lg-12" style="top:50px;height:auto;float:left;width:100%;position:relative"> <div class="col-lg-12 text-center"> <div class="text-wrap" style="width:60%;margin:0 auto;padding: 10px;background-color: rgba(0, 0, 0, 0.3)!important"> <h3 class="text-white">¿Quienes Somos?</h3> <br> <p class="text-white text-justify">Al contrario del pensamiento popular, el texto de Lorem Ipsum no es simplemente texto aleatorio. Tiene sus raices en una pieza cl´sica de la literatura del Latin, que data del año 45 antes de Cristo, haciendo que este adquiera mas de 2000 años de antiguedad. Richard McClintock, un profesor de Latin de la Universidad de Hampden-Sydney en Virginia, encontró una de las palabras más oscuras de la lengua del latín, "consecteur", en un pasaje de Lorem Ipsum, y al seguir leyendo distintos textos del latín, descubrió la fuente indudable. Lorem Ipsum viene de las secciones 1.10.32 y 1.10.33 de "de Finnibus Bonorum et Malorum" (Los Extremos del Bien y El Mal) por Cicero, escrito en el año 45 antes de Cristo. Este libro es un tratado de teoría de éticas, muy popular durante el Renacimiento. La primera linea del Lorem Ipsum, "Lorem ipsum dolor sit amet..", viene de una linea en la sección 1.10.32 El trozo de texto estándar de Lorem Ipsum usado desde el año 1500 es reproducido debajo para aquellos interesados. Las secciones 1.10.32 y 1.10.33 de "de Finibus Bonorum et Malorum" por Cicero son también reproducidas en su forma original exacta, acompañadas por versiones en Inglés de la traducción realizada en 1914 por H. Rackham. Hay muchas variaciones de los pasajes de Lorem Ipsum disponibles, pero la mayoría sufrió alteraciones en alguna manera, ya sea porque se le agregó humor, o palabras aleatorias que no parecen ni un poco creíbles. Si vas a utilizar un pasaje de Lorem Ipsum, necesitás estar seguro de que no hay nada avergonzante escondido en el medio del texto. Todos los generadores de Lorem Ipsum que se encuentran en Internet tienden a repetir trozos predefinidos cuando sea necesario, haciendo a este el único generador verdadero (válido) en la Internet. Usa un diccionario de mas de 200 palabras provenientes del latín, combinadas con estructuras muy útiles de sentencias, para generar texto de Lorem Ipsum que parezca razonable. Este Lorem Ipsum generado siempre estará libre de repeticiones, humor agregado o palabras no características del lenguaje, etc. </p> <br> <p class="text-left text-white" style="font-weight: 300;font-style: oblique">Soply Inc team.</p> </div> </div> </div> </div> <div class="row"> <div class="col-lg-12 ng-scope" style="height: auto;background-color: #2D3A42"> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/corona@1x.02654514.jpg" style="padding:15px"> </div> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/critical-software@1x.38dee9c7.jpg" style="padding:15px"> </div> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/flow@1x.fb205505.jpg" style="padding:15px"> </div> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/labatt@1x.74fb45ea.jpg" style="padding:15px"> </div> </div> </div>'),a.put("views/dashboard/dashboard.html",'<div> <sp-sidebar-header></sp-sidebar-header> <div ui-view class="col-lg-9 no-padding" style="height:100vh"> <section id="map" ng-controller="locationCtrl" ng-init="load()"> <div style="height:100vh" ui-map="myMap" ui-options="mapOptions" class="map-canvas" ui-event="{\'map-click\': \'addMarker($event, $params)\', \'map-zoom_changed\': \'setZoomMessage(myMap.getZoom())\' }"></div> </section> </div> </div>'),a.put("views/devoluciones/devoluciones.html",'<div ng-init="load()"> <div class="row"> <div class="sp-sub-header" style="height:60px;background-color: #00232d;box-sizing: border-box;\r\npadding: 10px"> <div class="col-lg-3 row"> <input focus-on="true" type="text" ng-keypress="findByCode($event)" class="form-control input-sm" ng-model="form.data.factura" placeholder="Codigo de Factura"> </div> <div class="col-lg-3"> <ng-datepicker ng-model="form.data.ini" placeholder="Fecha Inicial" locale="ES" format="MM-DD-YYYY" view-format="YYYY-MM-DD"> </ng-datepicker></div> <div class="col-lg-3"> <ng-datepicker ng-model="form.data.end" placeholder="Fecha Final" locale="ES" format="MM-DD-YYYY" view-format="YYYY-MM-DD"> </ng-datepicker></div> <div class="col-lg-3"> <div class="input-group"> <cliente-field key="_id" ng-init="form.data._client = setDefault" label="full_name" ng-model="form.data._client"></cliente-field> <span class="input-group-btn" style="top: -3px;height: 37px"> <button ng-click="find()" class="btn custom-btn-primary" style="height:30px;!important" type="button"><i class="glyphicon glyphicon-search"></i></button> </span> </div> </div> </div> <div class="col-lg-12 content" ng-show="devolucionesRecords.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Codigo</th> <th>Cliente</th> <th>Cant.</th> <th>Total</th> <th>Iva</th> <th>Descuento</th> <th>V. Descuento</th> <th>Fecha</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in devolucionesRecords |filter:search | itemsPerPage: 5 " pagination-id="DevolucionEntity"> <td>{{record.idcomposed}}</td> <td>{{record._client.full_name.toLowerCase()}}</td> <td>{{record._product.length}}</td> <td>{{record.data.total | currency:"$ "}}</td> <td>{{record.data.TotalIva | currency:"$ "}}</td> <td>{{record.data.descuentoGlobal +\'%\'}}</td> <td>{{record.data.valorDescuentoGlobal | currency:"$ "}}</td> <td>{{record.createdAt | date:"MM-dd-yyyy \' \' h:mma"}}</td> <td><button ng-click="verFormaDePago()" type="button" class="btn btn-success btn-xs"><i class="fa fa-credit-card"></i>&nbsp;Forma de Pago</button></td> <td><button ng-click="printA(record)" type="button" class="btn btn-warning btn-xs"><i class="glyphicon glyphicon-print"></i>&nbsp;Imprimir</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="DevolucionEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Facturaciones </div> </div> </div> </div> <div class="content"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <p class="text-center" ng-show="Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> <h3 ng-hide="Records || devolucionesRecords.length > 0">0 Resultados debe iniciar una busqueda.</h3> </div> </div> </div> </div>'),a.put("views/empleado/agregar_empleado.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Empleado</h4> </div> <div class="modal-body"> <div class="alert alert-warning" ng-show="formEmploye.$valid && form.password != form.confirm"> <strong></strong>Las contraseñas no coinciden. </div> <div class="alert alert-warning" ng-show="formEmploye.$invalid"> <strong></strong>los campos con (*) son obligatorios. </div> <div> <form name="formEmploye" novalidate> <div class="row"> <div class="col-lg-12"> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Nombres * :</label> <input type="text" required name="firstname" ng-model="form.name" class="form-control input-sm" placeholder="Nombres"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Apellidos * :</label> <input type="text" required name="lastname" ng-model="form.last_name" class="form-control input-sm" placeholder="Apellidos"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Documento *:</label> <selectize config="{create:true, selectOnTab : true, maxItems:1, valueField: \'value\', labelField: \'text\', placeholder:\'Tipo de documento\'}" options="[{value:&quot;CC&quot;, text:&quot;Cedula de Ciudadania&quot;}, {value:&quot;CE&quot;, text:&quot;Cedula de Extranjeria&quot;},  {value:&quot;DI&quot;, text:&quot;Documento de Identidad&quot;}]" ng-model="form.metadata.documento"></selectize> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Numero de Documento * :</label> <input type="text" required name="numero_documento" ng-model="form.metadata.numero_documento" class="form-control input-sm" placeholder="Numero de Documento"> </div> </div> </div> <div class="form-group"> <label>Correo * :</label> <input type="email" required name="email" ng-model="form.email" class="form-control input-sm" placeholder="Correo electronico"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Celular:</label> <input type="text" class="form-control input-sm" international-phone-number ng-model="form.metadata.phone"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Fijo:</label> <input type="text" class="form-control input-sm" placeholder="Fijo" ng-model="form.metadata.fijo"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Departamento * :</label> <departamento-field required ng-model="form.metadata.departamento"></departamento-field> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Ciudad * :</label> <ciudad-field required ng-model="form.metadata.ciudad"></ciudad-field> </div> </div> <div class="col-lg-12"> <div class="form-group"> <label>Perfil * :</label> <perfil-field required key="_id" label="profile" ng-model="form._permission"></perfil-field> </div> </div> <div class="col-lg-12"> <div class="form-group"> <label>Bodega :</label> <bodega-field placeholder="Bodega" items-max="10" ng-model="form._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Contraseña * :</label> <input type="password" required name="password" ng-model="form.password" class="form-control input-sm" placeholder="Contraseña"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Confirmar Contraseña * :</label> <input type="password" required name="confirmPassowrd" ng-model="form.confirm" class="form-control input-sm" placeholder="Confirmar Contraseña"> </div> </div> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-header" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Agregar</button> </div> </div>'),a.put("views/empleado/editar_empleado.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Editar Empleado</h4> </div> <div class="modal-body"> <div class="alert alert-warning animated rubberBand" ng-show="formEditEmploye.$valid && formEdit.password != formEdit.confirm"> <strong></strong>Las contraseñas no coinciden. </div> <div class="alert alert-warning animated rubberBand" ng-show="formEditEmploye.$invalid"> <strong></strong>los campos con (*) son obligatorios. </div> <div> <form name="formEditEmploye" novalidate> <div class="row"> <div class="col-lg-12"> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Nombres * :</label> <input type="text" required name="firstname" ng-model="formEdit.name" class="form-control" placeholder="Nombres"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Apellidos * :</label> <input type="text" required name="lastname" ng-model="formEdit.last_name" class="form-control" placeholder="Apellidos"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Documento * :</label> <selectize config="{create:true, maxItems:1, valueField: \'value\', labelField: \'text\', placeholder:\'Tipo de documento\'}" options="[{value:&quot;CC&quot;, text:&quot;Cedula de Ciudadania&quot;}, {value:&quot;CE&quot;, text:&quot;Cedula de Extranjeria&quot;},  {value:&quot;DI&quot;, text:&quot;Documento de Identidad&quot;}]" ng-model="formEdit.metadata.documento"></selectize> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Numero de Documento * :</label> <input type="text" required name="numero_documento" ng-model="formEdit.metadata.numero_documento" class="form-control" placeholder="Numero de Documento"> </div> </div> </div> <div class="form-group"> <label>Correo * :</label> <input type="email" required name="email" ng-model="formEdit.email" class="form-control" placeholder="Correo electronico"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Celular:</label> <input type="text" class="form-control" international-phone-number ng-model="formEdit.metadata.phone"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Fijo:</label> <input type="text" class="form-control" placeholder="Fijo" ng-model="formEdit.metadata.fijo"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Departamento * :</label> <departamento-field required ng-model="formEdit.metadata.departamento"></departamento-field> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Ciudad * :</label> <ciudad-field required ng-model="formEdit.metadata.ciudad"></ciudad-field> </div> </div> <div class="col-lg-12"> <div class="form-group"> <label>Perfil * :</label> <perfil-field required key="_id" label="profile" required ng-model="formEdit._permission"></perfil-field> </div> </div> <div class="col-lg-12"> <div class="form-group"> <label>Bodega :</label> <bodega-field empty-option="true" items-max="10" placeholder="Bodega" ng-model="formEdit._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Contraseña * :</label> <input type="password" name="password" ng-model="formEdit.password" class="form-control" placeholder="Contraseña"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Confirmar Contraseña * :</label> <input type="password" name="confirmPassowrd" ng-model="formEdit.confirm" class="form-control" placeholder="Confirmar Contraseña"> </div> </div> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Actualizar</button> </div> </div>'),a.put("views/empleado/empleados.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <button ng-show="$root.grid.selected" type="button" ng-click="doTonnage()" class="btn custom-btn-primary"><i class="fa fa-calculator"></i>&nbsp;Crear Arqueo</button> </div> </div> </div> <div class="hpanel"> <div class="panel-body"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Documento</th> <th>Numero</th> <th>Nombres</th> <th>Apellidos</th> <th>Email</th> <th>Telefono</th> <th>Departamento</th> <th>Ciudad</th> <th>Permiso</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr choice="$root.grid.selected" class="sp-choice" value="record._id" dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="EmpleadoEntity"> <td>{{record.metadata.documento}}</td> <td>{{record.metadata.numero_documento}}</td> <td>{{record.name}}</td> <td>{{record.last_name}}</td> <td>{{record.email}}</td> <td>{{record.metadata.phone || \'no definido\' }}</td> <td>{{record.metadata.departamento.toLowerCase()}}</td> <td>{{record.metadata.ciudad.toLowerCase()}}</td> <td>{{record._permission.data.profile || \'sin perfil\'}}</td> <td><button ng-click="edit()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Borrar</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="EmpleadoEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Empleados </div> </div> </div> </div>'),a.put("views/entradas/agregar_entrada.html",'<div class="inmodal" ng-controller="EntradaCreateCtrl" ng-init="load()"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Entrada</h4> </div> <div class="modal-body"> <div> <form name="$parent.formCreateInput" novalidate> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <label for="name">Concepto*:</label> <input type="text" focus-on="true" required class="form-control input-sm" placeholder="Concepto" name="Concepto" ng-model="$parent.form.data.concepto"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label for="name">Bodega*:</label> <bodega-field items-max="1" placeholder="Bodega" required ng-model="$parent.form._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> <div class="col-lg-4"> <div class="form-group"> <label for="name">Responsable*:</label> <employee-field placeholder="Responsable" required ng-model="$parent.form._responsible" key="_id" label="name"><employee-field> </employee-field></employee-field></div> </div> </div> </form> </div> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <label>Producto:</label> <producto-field key="_id" id="product_field" label="producto" on-enter="isEmpty()" set-focus="focuset" search-by="[\'idcomposed\', \'refMixed\', \'producto\']" set-object="_productObj" ng-model="_product"> <producto-field> </producto-field></producto-field></div> </div> <div class="col-lg-12"> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <button ng-show="tasks.length > 0" type="button" ng-click="agregarCantidadMultiple()" class="btn btn-xs custom-btn-primary"><i class="fa fa-plus"></i>&nbsp;Agregar Cantidades</button> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Seleccionar</th> <th>Codigo</th> <th>Producto</th> <th>Cantidad</th> <th>Costo</th> <th>Precio de Venta</th> <th>V. Iva</th> <th>Total</th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr> <td ng-show="!recordsNew || recordsNew.length == 0" colspan="9" style="text-align:center!important"><i class="glyphicon glyphicon-info-sign"></i>&nbsp;sin resultados.</td> </tr> <tr dir-paginate="record in recordsNew |filter:search |itemsPerPage: 5 " pagination-id="productoEntradaEntity"> <td> <label class="text-dark"> <input ng-change="addToTask()" icheck type="checkbox" ng-model="task" class="info-bounce"> </label> </td> <td><span class="label label-primary">{{record.idcomposed}}</span></td> <td>{{record.producto}}</td> <td>{{record.cantidad}}</td> <td>{{record.precio | currency:"$ "}}</td> <td>{{record.precio_venta | currency:"$ "}}</td> <td>{{record.valor_iva | currency:"$ "}}</td> <td>{{record.total | currency:"$ "}}</td> <td><button ng-click="agregarCantidad()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i>&nbsp;Cantidad</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Quitar</button></td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button ng-disabled="formCreateInput.$invalid" type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Agregar</button> </div> </div>'),a.put("views/entradas/editar_entrada.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Editar Entrega</h4> </div> <div class="modal-body"> <div> <form name="formEditarBodega" novalidate> <div class="row"> <div class="col-lg-12"> <div class="form-group"> <label for="name">Bodega*:</label> <input type="text" required class="form-control" placeholder="Bodega" name="bodega" ng-model="formEdit.data.bodega"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Departamento:</label> <departamento-field required ng-model="formEdit.data.departamento"></departamento-field> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Ciudad:</label> <ciudad-field required ng-model="formEdit.data.ciudad"></ciudad-field> </div> </div> </div> <div class="form-group"> <label for="name">Dirección*:</label> <input type="text" required class="form-control" placeholder="Direccion" name="address" ng-model="formEdit.data.direccion"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Celuar:</label> <input type="text" class="form-control input-sm" name="celular" international-phone-number ng-model="formEdit.data.celular"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label for="text">Telefono:</label> <input type="text" required class="form-control input-sm" name="telefono" placeholder="Telefono" ng-model="formEdit.data.telefono"> </div> </div> </div> <div class="form-group"> <label for="name">Responsable*:</label> <employee-field placeholder="Responsable" ng-model="formEdit._responsible" key="_id" label="name"><employee-field> </employee-field></employee-field></div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Actualizar</button> </div> </div>'),a.put("views/entradas/entradas.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Fecha</th> <th>Concepto</th> <th>Bodega</th> <th>Responsable</th> <th>Cantidad</th> <th>Total Costo</th> <th>Total Precio Venta</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="bodegaEntity"> <td>{{record.createdAt | date:"MM-dd-yyyy \' \' h:mma"}}</td> <td>{{record.data.concepto}}</td> <td>{{record._grocery.data.bodega}}</td> <td>{{record._responsible.full_name}}</td> <td>{{record.data.cantidad}}</td> <td>{{record.data.totalCosto | currency:"$ "}}</td> <td>{{record.data.totalprecioVenta | currency:"$ "}}</td> <td><button ng-click="edit()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</button></td> <td><button ng-click="delete()" type="button" class="btn btn-warning btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Anular</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="bodegaEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Entradas </div> </div> </div> </div>'),a.put("views/existencias/existencias.html",'<div class="row"> <div class="sp-sub-header" style="height:60px;background-color: #00232d;box-sizing: border-box;\r\npadding: 10px"> <div class="col-lg-3 row"> <div class="form-group"> <producto-field key="_id" id="product_field" label="producto" on-enter="isEmpty()" set-focus="focuset" search-by="[\'idcomposed\', \'refMixed\', \'producto\']" set-object="_productObj" ng-model="form._product"> <producto-field> </producto-field></producto-field></div> </div> <div class="col-lg-2"> <div class="form-group"> <casa-comercial key="_id" placeholder="Casa Comercial" label="name" ng-model="form._commercial_home"></casa-comercial> </div> </div> <div class="col-lg-2"> <div class="form-group"> <bodega-field empty-option="true" placeholder="Bodega" ng-model="form._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> <div class="col-lg-2"> <estado-producto ng-model="form.estado"></estado-producto> </div> <div class="col-lg-2 text-center" style="position:relative;top:15%"> <label class="text-white"> <input icheck type="checkbox" ng-model="form.negativo" class="info-bounce"> Negativos. </label> </div> <div class="col-lg-1"> <button ng-click="getStockDetail()" style="width:80px" class="btn animated fadeInRight custom-btn-primary btn-block"><i class="fa fa-search"></i>&nbsp;Buscar</button> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Codigo</th> <th>Producto</th> <th>Bodega</th> <th>Cantidad</th> <th>Costo</th> <th>% Util.</th> <th>Utilidad</th> <th>Iva</th> <th>V. Iva</th> <th>Precio Venta</th> <th>Total Bases</th> <th>Total Venta</th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="productoExistenciasEntity"> <td><span class="label label-primary">{{record._product.idcomposed}}</span></td> <td>{{record._product.data.producto}}</td> <td>{{record._grocery.data.bodega}}</td> <td>{{record.amount}}</td> <td>{{record._product.data.precio | currency:"$ "}}</td> <td>{{record._product.data.utilidad + \'%\'}}</td> <td>{{record._product.data.valor_utilidad | currency:"$ "}}</td> <td>{{record._product._iva.data.valor + \'%\'}}</td> <td>{{record._product.data.valor_iva | currency:"$ "}}</td> <td>{{record._product.data.precio_venta | currency:"$ "}}</td> <td ng-init="totalizeBases()">{{(record._product.data.precio + record._product.data.valor_utilidad) * record.amount || 0 | currency:"$ "}}</td> <td ng-init="totalizeVentas()">{{(record._product.data.precio_venta * record.amount) | currency:"$ "}}</td> <td></td> </tr> <tr><td colspan="10" class="text-right"><strong>TOTALES:</strong></td> <td>{{totalBases | currency:"$ "}}</td><td>{{totalVentas | currency:"$ "}}</td></tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="productoExistenciasEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Existencias de productos por bodega </div> </div> </div> <div class="content" ng-show="records.length == 0"> <div ng-class="records.length == 0 ? \'table_wrap table_height\' : \'\'"> <div ng-class="records.length == 0 ? \'row table-responsive table_inner\' : \'row\'"> <div class="controls" ng-show="records.length == 0"> <h4>No hay registros para mostrar</h4> </div> </div> </div> </div> </div>'),
a.put("views/facturacion/agregar-cantidad.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Agregar Cantidad</h4> </div> <div class="modal-body"> <div> <form ng-submit="ok()" name="formCantidadFacturacion" novalidate> <div> <div class="form-group"> <label>Cantidad:</label> <input type="text" focus-on="true" tabindex="1" required class="form-control input-sm text-center" placeholder="Cantidad" name="Cantidad" ng-model="cantidadModel" autocomplete="off"> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button tabindex="1" style="height:40px" type="submit" tabindex="2" class="custom-btn custom-btn-primary btn-block" ng-click="ok()">OK</button> </div> </div>'),a.put("views/facturacion/agregar_facturacion.html",'<div class="inmodal" ng-controller="FacturacionCtrl" ng-init="getPaymentMethods()"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Nueva Factura</h4> </div> <div class="modal-body"> <div class="row"> <div class="file-wrap" style="height: 150px" ng-show="loading"> <div class="item-loading text-center" style="position:relative;top:25%"> <img style="height:30px" src="images/loading.23dd1f34.svg"> <p>cargando datos...</p> </div> </div> </div> <div ng-hide="loading"> <form name="formFacturacion" novalidate> <div class="row"> <div class="col-lg-12 hidden"> <button ng-click="agregarDescuentoGlobal()" type="button" class="btn btn-primary btn-md btn-block"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar descuento global</button> <div class="form-group"> <label>Descuento:</label> <input type="number" tabindex="0" placeholder="% Descuento" class="form-control text-center input-sm" ng-model="$parent.$parent.gdiscount"> </div> </div> <div ng-repeat="method in paymentMethods | orderBy:\'data.priority\'"> <div class="col-lg-12"> <div class="input-group form-group"> <span style="width: 30%" class="input-group-addon custom-btn-primary">{{method.data.descripcion}}</span> <input type="number" focus-on="method.data.priority" tabindex="{{($index + 1)}}" ng-change="setReceived(method.data)" ng-keypress="openBaseForm($event, method.data.value)" class="form-control text-center input-sm" ng-model="method.data.value" placeholder="Valor"> <span class="input-group-addon custom-btn-primary">.00</span> </div> <p class="animated slideInRight" style="color: #797676; padding: 4px;text-align: right" ng-show="method.data.cardCode"><i style="top: 2px" class="glyphicon glyphicon-credit-card"></i>&nbsp;Voucher : <span style="color: gray!important;font-weight: bold">{{method.data.cardCode}}</span></p> </div> </div> </div> </form> </div> <div class="row"> <hr> <div class="col-lg-6"> <label class="text-dark"> <input icheck type="checkbox" ng-init="printJob = true" ng-model="printJob" class="info-bounce"> Imprimir. </label> </div> <div class="col-lg-6"> <div class="form-group hidden"> <label>Enviar Factura a:</label> <selectize config="{plugins: [\'remove_button\'], create:true, maxItems:10, placeholder:\'Escriba cada email separado por coma (,)\'}" options="[]" ng-model="invoiceTo"></selectize> </div> </div> </div> </div> <div class="text-center" style="height: 100%;position: relative;float: left;\r\n    width: 100%;background-color:rgb(8, 8, 8)"> <div class="col-lg-3"> <label class="text-white" ng-init="$parent.$parent.totalParcial = $parent.$parent.total">Total:</label> <h5 style="color:#009ddc;!important;position: relative" class="no-margin monospace">{{(totalParcial - descuentoGlobal || 0)| currency:"COP $"}}</h5> </div> <div class="col-lg-3"> <label class="text-white">Descuento:</label> <h5 ng-init="$parent.$parent.vgdescuento = 0" style="color:#009ddc;!important;position: relative" class="no-margin monospace">{{descuentoGlobal || 0 | currency:"COP $"}}</h5> </div> <div class="col-lg-3"> <label class="text-white">Cambio:</label> <h5 style="color:#009ddc;!important;position: relative" class="no-margin monospace">{{change || 0 | currency:"COP $"}}</h5> </div> <div class="col-lg-3"> <label class="text-white">Valor recibido:</label> <h5 style="color:#009ddc;!important;position: relative" class="no-margin monospace">{{received || 0 | currency:"COP $"}}</h5> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button ng-show="rs" type="button" style="height:40px;margin-top:0px" tabindex="{{paymentMethods.length + 1}}" class="custom-btn custom-btn-primary btn-block" ng-click="ok()">Actualizar Factura</button> <button ng-disabled="!(received >= totalParcial)" ng-show="!rs" type="button" style="height:40px;margin-top:0px" tabindex="{{paymentMethods.length + 1}}" class="custom-btn custom-btn-primary btn-block" ng-click="ok()">Facturar</button> </div> </div>'),a.put("views/facturacion/baseForm.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Detalle Tarjeta</h4> </div> <div class="modal-body"> <div> <form name="formBaseFacturacion" novalidate> <div> <div class="form-group"> <label>Codigo Verificaciòn:</label> <input type="text" focus-on="true" tabindex="1" required class="form-control input-sm" placeholder="Codigo Verificaciòn" name="codigoTarjeta" ng-model="$parent.method.data.cardCode"> </div> </div> </form> </div> </div> <div style="background-color:rgb(8, 8, 8);position:relative;float:left;width:100%;height:100%"> <div class="col-lg-4"> <label class="text-white">Total Tarjeta:</label> <h5 style="color:#009ddc;!important;top: -9px;position: relative" class="no-margin monospace">{{totalCard| currency:"COP $"}}</h5> </div> <div class="col-lg-4"> <label class="text-white">Base:</label> <h5 style="color:#009ddc;!important;top: -9px;position: relative" class="no-margin monospace">{{( totalCard / 1.16) || 0 | currency:"COP $"}}</h5> </div> <div class="col-lg-4"> <label class="text-white">Iva:</label> <h5 style="color:#009ddc;!important;top: -9px;position: relative" class="no-margin monospace">{{(totalCard) - ( totalCard / 1.16) || 0 | currency:"COP $"}}</h5> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button tabindex="1" style="height:40px" type="button" tabindex="{{paymentMethods.length + 1}}" class="custom-btn custom-btn-primary btn-block" ng-click="ok()">Confirmar</button> </div> </div>'),a.put("views/facturacion/buscar-facturacion.html",'<div ng-controller="DevolucionesCtrl" ng-init="load()"> <div class="row"> <div class="sp-sub-header" style="height:60px;background-color: #00232d;box-sizing: border-box;\r\npadding: 10px"> <div class="col-lg-3"> <input focus-on="true" type="text" ng-keypress="findByCode($event)" class="form-control input-sm" ng-model="form.data.factura" placeholder="Codigo de Factura"> </div> <div class="col-lg-3"> <ng-datepicker ng-model="form.data.ini" placeholder="Fecha Inicial" locale="ES" format="MM-DD-YYYY" view-format="YYYY-MM-DD"> </ng-datepicker></div> <div class="col-lg-3"> <ng-datepicker ng-model="form.data.end" placeholder="Fecha Final" locale="ES" format="MM-DD-YYYY" view-format="YYYY-MM-DD"> </ng-datepicker></div> <div class="col-lg-3"> <div class="input-group"> <cliente-field key="_id" label="full_name" ng-model="form.data._client"></cliente-field> <span class="input-group-btn" style="top: -3px;height: 37px"> <button ng-click="find()" class="btn custom-btn-primary" type="button"><i class="glyphicon glyphicon-search"></i></button> </span> </div> </div> </div> <div class="col-lg-12 content" ng-show="devolucionesRecords.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Codigo</th> <th>Cliente</th> <th>Cant.</th> <th>Total</th> <th>Iva</th> <th>Descuento</th> <th>V. Descuento</th> <th>Fecha</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in devolucionesRecords |filter:search | itemsPerPage: 5 " pagination-id="DevolucionEntity"> <td>{{record.idcomposed}}</td> <td>{{record._client.full_name.toLowerCase()}}</td> <td>{{record._product.length}}</td> <td>{{record.data.total | currency:"$ "}}</td> <td>{{record.data.TotalIva | currency:"$ "}}</td> <td>{{record.data.descuentoGlobal +\'%\'}}</td> <td>{{record.data.valorDescuentoGlobal | currency:"$ "}}</td> <td>{{record.createdAt | date:"MM-dd-yyyy \' \' h:mma"}}</td> <td><button ng-click="verFormaDePago()" type="button" class="btn btn-success btn-xs"><i class="fa fa-credit-card"></i>&nbsp;Forma de Pago</button></td> <td><button ng-click="printA(record)" type="button" class="btn btn-warning btn-xs"><i class="glyphicon glyphicon-print"></i>&nbsp;Imprimir</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="DevolucionEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Facturaciones </div> </div> </div> </div> <div class="content"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <p class="text-center" ng-show="Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> <h3 ng-hide="Records || devolucionesRecords.length > 0">0 Resultados debe iniciar una busqueda.</h3> </div> </div> </div> </div>'),a.put("views/facturacion/descuento.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Descontar</h4> </div> <div class="modal-body"> <div> <form name="formBaseFacturacion" ng-submit="ok()" novalidate> <div> <div class="form-group"> <label>Descuento en Porcentaje:</label> <input type="number" focus-on="true" tabindex="1" required class="form-control input-sm text-center" placeholder="Descuento en %" name="descuento" ng-model="pdiscount" autocomplete="off"> </div> <div class="form-group"> <label>Descuento en Pesos:</label> <input type="number" tabindex="1" required class="form-control input-sm text-center" placeholder="Descuento en $" name="descuento" ng-model="$parent.pdiscountPesos" autocomplete="off"> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button tabindex="1" style="height:40px" type="submit" tabindex="2" class="custom-btn custom-btn-primary btn-block" ng-click="ok()">OK</button> </div> </div>'),a.put("views/facturacion/facturaciones.html",'<div ng-init="load()"> <div class="row"> <div class="sp-sub-header" style="height:60px;background-color: #00232d;box-sizing: border-box;\r\npadding: 10px"> <div class="col-lg-4 row"> <div class="form-group"> <producto-field key="_id" id="product_field" label="producto" on-enter="isEmpty()" set-focus="focuset" search-by="[\'idcomposed\', \'refMixed\', \'producto\']" set-object="_productObj" ng-model="_product"> <producto-field> </producto-field></producto-field></div> </div> <div class="col-lg-4"> <div class="form-group"> <cliente-field key="_id" ng-init="form._client = setDefault" label="full_name" ng-model="form._client"></cliente-field> </div> </div> <div class="col-lg-2" style="position:relative;top:15%"> <label class="text-white"> <input ng-change="setDefaultClient()" icheck type="checkbox" ng-model="defaultOption" class="info-bounce"> cliente por defecto. </label> </div> <div class="col-lg-2"> <div class="btn-group" ng-class="{open: open}"> <button ng-click="facturar(\'Facturado\')" class="btn custom-btn-primary">Facturar</button> <button class="btn custom-btn-primary dropdown-toggle" data-toggle="dropdown" ng-click="open=!open"><span class="caret"></span></button> <ul class="dropdown-menu"> <li><a ng-click="facturar(\'Remision\')" style="color:#fcfcfc!important">Remisión</a></li> </ul> </div> <button ng-show="records.length > 0 && rs" ng-click="facturar()" style="top:4px;position:relative;border-radius:5px" class="animated fadeInRight custom-btn btn-success btn-block"><i class="fa fa-credit-card"></i>&nbsp;Ver Pagos</button> </div> </div> <div class="content" ng-show="records.length == 0"> <div ng-class="records.length == 0 ? \'table_wrap table_height\' : \'\'"> <div ng-class="records.length == 0 ? \'row table-responsive table_inner\' : \'row\'"> <div class="controls" ng-show="records.length == 0"> <h4>No hay registros para mostrar</h4> </div> </div> </div> </div> <div ng-show="records.length > 0" style="background-color:  rgb(0, 13, 17);height: auto;width: 100%;\r\n    height: 50px"> <div class="col-lg-12"> <div class="col-lg-2"> <label class="text-white">Total IVA</label> <h4 class="no-margin" style="color:gray;!important;position: relative">{{TotalIva | currency:"$ "}}</h4> </div> <div class="col-lg-2"> <label class="text-white">Subtotal</label> <h4 class="text-white no-margin" style="color: gray!important;position: relative">{{subTotal | currency:"$ "}}</h4> </div> <div class="col-lg-2"> <label class="text-white">Descuento</label> <h4 class="text-white no-margin" style="color: gray!important;position: relative">{{descuento || 0 | currency:"$ "}}</h4> </div> <div class="col-lg-2"> <label class="text-white">Total</label> <h4 class="no-margin" style="position: relative;color:gray!important">{{total | currency:"$ "}}</h4> </div> <div class="col-lg-4 text-right" ng-show="grocery"> <label class="text-white">Descargando de</label> <h4 class="no-margin" style="position: relative;color: #1ab394!important">{{grocery}}</h4> </div> </div> </div> </div> <div class="row"> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Cantidad</th> <th>Codigo</th> <th>Producto</th> <th>Base</th> <th>V. Iva</th> <th>Descuento</th> <th>Precio de Venta</th> <th>Existencias</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="productoFacturacionEntity"> <td>{{record.cantidad}}</td> <td><span class="label label-primary">{{record.idcomposed}}</span></td> <td>{{record.producto}}</td> <td>{{record.precio_baseFacturado || (record.precio + record.valor_utilidad) | currency:"$ "}}</td> <td>{{record.ivaFacturado || record.valor_iva | currency:"$ "}}</td> <td>{{record.descuento || 0 | currency:"$ "}}</td> <td>{{record.precio_VentaFacturado || record.precio_venta | currency:"$ "}}</td> <td ng-init="getExistencias()">{{record.existencias || 0}}</td> <td><button ng-click="agregarCantidad()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i>&nbsp;Cantidad</button></td> <td><button ng-click="agregarDescuento()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i>&nbsp;Descuento</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Quitar</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="productoFacturacionEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Productos Para Facturar </div> </div> </div> </div> </div>'),a.put("views/facturacion/selectGrocery.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <h4 class="modal-title">Bodega de descargue</h4> </div> <div class="modal-body"> <div> <div class="row"> <div class="col-lg-12" ng-hide="loading"> <div id="form-container" style="background:none;!important"> <form name="selectGrocery"> <div style="margin-top:10px"> <div class="row"> <div class="col-lg-12"> <label>Bodega de descargue:</label> <selectize config="myConfig" required options="myGroceries" ng-model="$parent._grocery"></selectize> </div> </div> </div> </form> </div> </div> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px;!important"> <button ng-disabled="!selectGrocery.$valid" type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Ok.</button> </div> </div>'),a.put("views/facturacion/verFormasDePago.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Formas de Pago</h4> </div> <div class="modal-body"> <div class="table-responsive"> <table class="table table-hover"> <thead> <th>Forma de pago</th> <th>Valor</th> <th>Con tarjeta</th> <th>Voucher</th> </thead> <tbody> <tr ng-repeat="record in records" ng-show="record.data.value"> <td>{{record.data.descripcion}}</td> <td>{{record.data.value || 0 | currency:"$ "}}</td> <td>{{record.data.card ? \'SI\' : \'NO\'}}</td> <td>{{record.data.code ? record.data.code : \'NO\'}}</td> <td></td> </tr> </tbody> </table> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">OK</button> </div> </div>'),a.put("views/faq/faq.html",'<div class="row page-faq"> <div class="col-lg-12" style="top:50px;height:auto;float:left;width:100%;position:relative"> <div class="col-lg-12 text-center"> <div class="text-wrap" style="width:600px;margin:0 auto;padding: 10px;background-color: rgba(0, 0, 0, 0.3)!important"> <h3 class="text-white">FAQ</h3> <br> <p class="text-white text-justify">Al contrario del pensamiento popular, el texto de Lorem Ipsum no es simplemente texto aleatorio. Tiene sus raices en una pieza cl´sica de la literatura del Latin, que data del año 45 antes de Cristo, haciendo que este adquiera mas de 2000 años de antiguedad. Richard McClintock, un profesor de Latin de la Universidad de Hampden-Sydney en Virginia, encontró una de las palabras más oscuras de la lengua del latín, "consecteur", en un pasaje de Lorem Ipsum, y al seguir leyendo distintos textos del latín, descubrió la fuente indudable. Lorem Ipsum viene de las secciones 1.10.32 y 1.10.33 de "de Finnibus Bonorum et Malorum" (Los Extremos del Bien y El Mal) por Cicero, escrito en el año 45 antes de Cristo. Este libro es un tratado de teoría de éticas, muy popular durante el Renacimiento. La primera linea del Lorem Ipsum, "Lorem ipsum dolor sit amet..", viene de una linea en la sección 1.10.32 </p> <br> <p class="text-left text-white" style="font-weight: 300;font-style: oblique">Soply Inc team.</p> </div> </div> </div> </div> <div class="row"> <div class="col-lg-12 ng-scope" style="height: auto;background-color: #2D3A42"> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/corona@1x.02654514.jpg" style="padding:15px"> </div> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/critical-software@1x.38dee9c7.jpg" style="padding:15px"> </div> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/flow@1x.fb205505.jpg" style="padding:15px"> </div> <div class="col-lg-3 text-center" style="top: 20%"> <img src="images/labatt@1x.74fb45ea.jpg" style="padding:15px"> </div> </div> </div>'),a.put("views/fields/categoria-popup.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Categorias</h4> </div> <div class="modal-body"> <div> <form novalidate> <js-tree tree-data="scope" tree-model="records"></js-tree> </form> </div> </div> <div class="modal-footer custom-modal-header"> <button type="button" class="custom-btn btn-danger" ng-click="cancel()">Cancelar</button> <button type="button" class="custom-btn custom-btn-primary" ng-click="ok()">Aceptar</button> </div> </div>'),a.put("views/forgot/forgot.html",'<div class="row forgot-page" ng-controller="forgotCtrl"> <div class="wrap" style="position:relative;top:50px"> <h1 class="text-white text-center">Olvidaste tu contraseña?</h1> <div class="panel" style="background-color: rgba(0, 0, 0, 0.3)!important;width: 500px;margin: 0 auto;\r\n        position: relative;\r\n        float: none"> <div class="alert alert-success animated rubberBand" ng-show="success"> <a class="close" ng-click="success = false;">&times;</a> <strong>Listo!</strong> Se ha enviado un enlace de recuperación a su correo. </div> <div class="alert alert-danger" ng-show="failed"> <a class="close" ng-click="failed = false;">&times;</a> <strong>Error!</strong> Este usuario no existe. </div> <form name="forgotForm" novalidate> <div class="form-group"> <label class="text-white">Email * :</label> <input type="email" required name="email" ng-model="form.data.email" class="form-control" placeholder="Correo"> </div> <div class="form-group"> <button style="padding:10px;border-radius:5px" ng-click="recover()" class="custom-btn custom-btn-primary">Recuperar</button> </div> </form> </div> </div> </div>'),a.put("views/formaDePago/agregar_formaDePago.html",'<div class="inmodal" ng-controller="FormaDePagoCtrl" ng-init="load()"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Forma de pago</h4> </div> <div class="modal-body"> <div> <form name="formFormaPagos" novalidate ng-hide="loading"> <div class="row"> <div class="col-lg-12"> <div class="form-group"> <label>Forma de pago:</label> <input type="text" required placeholder="Descripcion" ng-model="form.data.descripcion" class="form-control"> </div> </div> <div class="col-lg-3 text-center"> <div class="form-group"> <label> <input icheck type="checkbox" ng-model="form.data.requiredCode" class="info-bounce"> Requerir Codigo: </label> </div> </div> <div class="col-lg-3 text-left"> <div class="form-group"> <label> <input icheck type="checkbox" ng-model="form.data.priority" class="info-bounce"> Prioritario: </label> </div> </div> <div class="col-lg-3 text-left"> <div class="form-group"> <label> <input icheck type="checkbox" ng-model="form.data.card" class="info-bounce"> Tarjeta: </label> </div> </div> <div class="col-lg-3 text-left"> <div class="form-group"> <label> <input icheck type="checkbox" ng-model="form.data.credito" class="info-bounce"> Credito: </label> </div> </div> <div class="col-lg-12 text-right"> <div class="form-group"> <button class="custom-btn custom-btn-primary" ng-click="agregar()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar</button> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <th>Descripcion</th> <th>Requiere Codigo</th> <th>Prioritario</th> <th>Tarjeta</th> <th>Credito</th> <th></th> <th></th> </thead> <tbody> <tr ng-repeat="record in records"> <td>{{record.data.descripcion}}</td> <td>{{record.data.requiredCode ? \'SI\' : \'NO\'}}</td> <td>{{record.data.priority ? \'SI\' : \'NO\'}}</td> <td>{{record.data.card ? \'SI\' : \'NO\'}}</td> <td>{{record.data.credito ? \'SI\' : \'NO\'}}</td> <td class="text-right"> <button style="width:auto" class="btn btn-primary btn-xs" ng-click="edit()"><i class="glyphicon glyphicon-edit"></i>Editar</button> </td> <td> <button style="width:auto" ng-click="borrar()" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-trash"></i>Quitar</button> </td> </tr> </tbody> </table> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Ok</button> </div> </div>'),a.put("views/formaDePago/editar_forma_pago.html",'<div class="inmodal" ng-controller="FormaDePagoCtrl"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Editar Forma de pago</h4> </div> <div class="modal-body"> <div> <form name="formEditformaPago" novalidate> <div class="row"> <div class="col-lg-8"> <div class="form-group"> <label>Forma de pago:</label> <input type="text" required placeholder="Descripcion" ng-model="formEdit.data.descripcion" class="form-control"> </div> </div> <div class="col-lg-4 text-left"> <br> <br> <div class="form-group"> <label> <input icheck type="checkbox" ng-model="formEdit.data.requiredCode" class="info-bounce"> Requerir Codigo: </label> </div> </div> <div class="col-lg-4 text-left"> <div class="form-group"> <label> <input icheck type="checkbox" ng-model="formEdit.data.priority" class="info-bounce"> Prioritario: </label> </div> </div> <div class="col-lg-4 text-left"> <div class="form-group"> <label> <input icheck type="checkbox" ng-model="formEdit.data.card" class="info-bounce"> Tarjeta: </label> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn custom-btn-primary btn-block" ng-click="ok()">Actualizar</button> </div> </div>'),a.put("views/home/content.html",'<div id="block-1" class="row home-page"> <div class="container block-1 no-margin no-padding"> <div class="container"> <div class="col-lg-12 text-center"> <div class="box-started" style="position:relative;top:60px"> <h1 class="text-white text-center">EMPIEZA A VENDER HOY.</h1> <p class="text-white text-center">Te ofrecemos el mejor servicio para el control de pedidos de la forma mas facil y manejable.</p> <img class="animated bounceInRight" style="position: relative;width: 400px" src="images/multi_devices.7d5dabf7.png"> <div class="col-lg-12 text-center"> <a href="#!login/" ui-sref="login()" class="custom-btn custom-btn-primary text-center" style="postion:relative;top:40px;display:inline-block;padding: 10px;border-radius: 4px"><i class="glyphicon glyphicon-triangle-right"></i>COMENZAR</a> </div> </div> </div> </div> </div> </div>'),a.put("views/home/footer.html",'<div class="row"> <div class="col-lg-12 text-center"> <div style="height: 50px;width: 100%;position: relative;float: left;background-color:#01190c"> <div class="meta-footer-wrap" style="position: relative;top: 10px"> <p class="no-margin">SnapWard Inc. 2016</p> <p style="color: white;margin: 0px;font-size: 10px">By Suiteapp</p> </div> </div> </div> </div>'),a.put("views/home/header.html",'<div class="row" ng-controller="HeaderCtrl"> <nav class="col-lg-12 dark nav-container" style="background-color:#01190c;!important"> <div class=""> <div class="row"> <div class="col-lg-4"> <div class="col-lg-4" style="left:20px"> <div class="row"> <img src="images/shoply.2e1c678d.png"> </div> </div> <div class="col-lg-4"> </div> <div class="col-lg-4"> </div> </div> <div class="col-lg-4"> <div class="nav-container-fluid"> <div class="nav-items animated bounce"> <ul class="menu-list"> <li class="menu-item"><a sref="home" href="#/" class="smooth strong text-white">Inicio</a></li> <li class="menu-item"><a sref="login" href="#/login" class="smooth strong text-white">Ingresar</a></li> <li class="menu-item hidden"><a sref="register" href="#/" class="smooth strong text-white">Registrate</a></li> <li class="menu-item"><a sref="aboutus" href="#/about" class="smooth strong text-white">Conocenos</a></li> <li class="menu-item"><a sref="faq" href="#/faq" class="smooth strong text-white">FAQ</a></li> <li ng-show="isLogged" class="menu-item"><a href="#/dashboard" class="smooth strong text-white">Administración</a></li> </ul> </div> </div> </div> <div class="col-lg-4 text-right"> <div style="padding:5px; padding-right: 20px" ng-show="isLogged"> <span uib-dropdown="" on-toggle="toggled(open)" class="dropdown"> <a href="" id="userOption" uib-dropdown-toggle="" class="dropdown-toggle text-white" aria-haspopup="true" aria-expanded="false"> {{($root.user.name + " "+ $root.user.last_name).toLowerCase()}} </a> <a ng-click="cambiarEmpresa()" ng-show="$root.user._company" href="" style="font-size: 10px;color: #ff5e1b;position: absolute;top: 11px;right: 1px;text-align: right;display: block;width: 100%;white-space: nowrap;overflow: hidden; text-overflow: ellipsis"><i class="glyphicon glyphicon-triangle-right"></i>{{$root.user._company.data.empresa}}</a> <ul class="dropdown-menu pull-right" uib-dropdown-menu="" aria-labelledby="userOption"> <li> <a ui-sref="dashboard.perfil" href="#/perfil"><i class="fa fa fa-picture-o"></i>&nbsp;Perfil</a> <a ui-sref="dashboard.change-password" href="#/change-password"><i class="fa fa-cogs"></i>&nbsp;Cambiar Contraseña</a> <a href="#" ng-click="logout()"><i class="fa fa-power-off"></i>&nbsp;Salir</a> </li> </ul> </span> <a href="#!profile" ui-sref="dashboard.perfil"><img preload-image ng-src="{{$root.user.data.gallery[0].URL}}" default-image="images/no-user-image.684462bf.gif" fallback-image="images/loading.23dd1f34.svg" class="img-circle thumb-photo"></a> </div> </div> </div> </div> </nav> </div>'),a.put("views/invoice/invoice_88mm.html",'<p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{_company.data.empresa}}</p> <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">DIRECCION:{{_company.data.direccion}}</p> <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">NIT:{{_company.data.nit}}</p> <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">REGIMEN COMUN</p> <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">FACTURA DE VENTA Nº:{{id}}</p> <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">FECHA:{{createdAt}}</p> {{#if _client.full_name}} <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">CLIENTE:{{_client.full_name}}</p> {{else}} <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">CLIENTE:{{_client.data.razon_social}}</p> {{/if}} <p style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">VENDEDOR:{{_seller.full_name}}</p> <hr> <table> <thead> <tr> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">PLU.</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">CANT.</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">PROD.</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">V. UNI.</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">V. DTO</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">TOTAL</td> </tr> </thead> <tbody> {{#each _product}} <tr> <td style="font-size:10px;font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{idcomposed}}</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{cantidad}}</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{producto}}</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency vlUnicoP}}</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency vlUnicoD}}</td> <td style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency precio_VentaFacturado}}</td> </tr> {{/each}} </tbody> </table> <table style="width:100%"> <tbody> <tr> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">SUBTOTAL:</td> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency data.subtotal}}</td> </tr> <tr> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">DESCUENTO P.:</td> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency data.descuento}}</td> </tr> <tr> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">DESCUENTO G.:</td> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency 0}}</td> </tr> <tr> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">IVA:</td> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency data.TotalIva}}</td> </tr> <tr> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">TOTAL:</td> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency data.total}}</td> </tr> <tr> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">CANCELO:</td> <td style="font-size:10px;text-align:right;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency data.received}}</td> </tr> </tbody> </table> <hr> <p style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">MED DE PAGO</p> <table style="width:100%"> <thead> <tr> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">TIPO.</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px;text-align:right">TOTAL</td> </tr> </thead> <tbody> {{#each _payments}} {{#if data.value}} <tr> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">{{data.descripcion}}</td> {{#if data.totalEfectivo}} <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px;text-align:right">{{formatCurrency data.totalEfectivo}}</td> {{else}} <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px;text-align:right">{{formatCurrency data.value}}</td> {{/if}} </tr> {{/if}} {{/each}} <tr> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">CAMBIO.</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px;text-align:right">{{formatCurrency data.change}}</td> </tr> </tbody> </table> <hr> <p style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">DISCRIMINACION IVAS</p> <table style="width:100%"> <thead> <tr> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">IVA.</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">VLR IVA.</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">BASE/IMP</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">TOTAL</td> </tr> </thead> <tbody> {{#each data.ivadetails}} <tr> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">{{tipo}}</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency viva}}</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency base}}</td> <td style="font-size:10px;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency total}}</td> </tr> {{/each}} </tbody> </table> <br> <br> <br> <p style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">Impreso por :</p> <p style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">www.shoply.com.co.</p> <p style="font-size:10px;text-align:center;font-family: monospace;margin: 0px;padding: 0px">Nit : 1103102286</p> <br> <br> <br>'),
a.put("views/invoice/request_invoice.html",'<div class="container"> <div class="row"> <div class="col-xs-12"> <div class="invoice-title"> <h2>Invoice</h2><h3 class="pull-right">Order # 1</h3> </div> <small>Code 8 Technologies, LCC</small> <hr> <div class="row"> <div class="col-xs-6"> <address> <strong>Billed To:</strong><br> Anthony Reyes<br> 1720 S 14th St.<br> Mercer Island, WA 98040 </address> </div> <div class="col-xs-6 text-right"> <address> <strong>Shipped To:</strong><br> Anthony Reyes<br> 1720 S 14th St.<br> Mercer Island, WA 98040 </address> </div> </div> <div class="row"> <div class="col-xs-6"> <address> <strong>Payment Method:</strong><br> Visa ending **** 4242<br> C8T@code8technologies.com </address> </div> <div class="col-xs-6 text-right"> <address> <strong>Order Date:</strong><br> December 17, 2014<br><br> </address> </div> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"><strong>Order summary</strong></h3> </div> <div class="panel-body"> <div class="table-responsive"> <table class="table table-condensed"> <thead> <tr> <td><strong>Item</strong></td> <td class="text-center"><strong>Price</strong></td> <td class="text-center"><strong>Quantity</strong></td> <td class="text-right"><strong>Totals</strong></td> </tr> </thead> <tbody> <!-- foreach ($order->lineItems as $line) or some such thing here --> <tr> <td>Web Creation</td> <td class="text-center">$50.00</td> <td class="text-center">1</td> <td class="text-right">$50.00</td> </tr> <tr> <td class="thick-line"></td> <td class="thick-line"></td> <td class="thick-line text-center"><strong>Subtotal</strong></td> <td class="thick-line text-right">$50.00</td> </tr> <tr> <td class="no-line"></td> <td class="no-line"></td> <td class="no-line text-center"><strong>Shipping</strong></td> <td class="no-line text-right">N/A</td> </tr> <tr> <td class="no-line"></td> <td class="no-line"></td> <td class="no-line text-center"><strong>Total</strong></td> <td class="no-line text-right">$50.00</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div>'),a.put("views/iva/agregar_ivas.html",'<div class="inmodal" ng-controller="IvasCtrl" ng-init="load()"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Iva</h4> </div> <div class="modal-body"> <div> <form name="formIva" novalidate> <div class="row"> <div class="col-lg-7"> <div class="form-group"> <label>Descripcion:</label> <input type="text" focus-on="true" required placeholder="Descripcion" ng-model="form.data.descripcion" class="form-control"> </div> </div> <div class="col-lg-5"> <div class="form-group"> <label>Valor:</label> <input type="number" required placeholder="Valor" ng-model="form.data.valor" class="form-control"> </div> </div> <div class="col-lg-12 text-right"> <div class="form-group"> <button style="border-radius: 5px; border-bottom: 1px solid #f1f1f1;padding-bottom: 5px" class="custom-btn custom-btn-primary" ng-click="agregar()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar</button> </div> </div> </div> </form> <div class="row"> <div class="file-wrap" style="height: 150px" ng-show="loading"> <div class="item-loading text-center" style="position:relative;top:25%"> <img style="height:30px" src="images/loading.66a334eb.gif"> <p>cargando datos...</p> </div> </div> </div> <div class="table-responsive" ng-hide="loading"> <table class="table table-hover"> <thead> <th>Descripcion</th> <th>Valor</th> <th></th> </thead> <tbody> <tr ng-repeat="record in records"> <td>{{record.data.descripcion}}</td> <td>{{record.data.valor }}</td> <td class="text-right"> <a style="width:auto" class="custom-btn-tiny btn-block btn-primary" ng-click="edit()"><i class="glyphicon glyphicon-edit"></i>Editar</a> <a style="width:auto" ng-click="borrar()" class="custom-btn-tiny btn-block btn-danger"><i class="glyphicon glyphicon-trash"></i>Quitar</a> </td> </tr> </tbody> </table> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">OK</button> </div> </div>'),a.put("views/iva/editar_ivas.html",'<div class="inmodal" ng-controller="IvasCtrl"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Editar Iva</h4> </div> <div class="modal-body"> <div> <form name="formEditIva" novalidate> <div class="row"> <div class="col-lg-7"> <div class="form-group"> <label>Descripcion:</label> <input type="text" focus-on="true" required placeholder="Descripcion" ng-model="formEdit.data.descripcion" class="form-control"> </div> </div> <div class="col-lg-5"> <div class="form-group"> <label>Valor:</label> <input type="number" required placeholder="Valor" ng-model="formEdit.data.valor" class="form-control"> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Actualizar</button> </div> </div>'),a.put("views/iva/verIvas.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Ivas</h4> </div> <div class="modal-body"> <div class="table-responsive"> <table class="table table-hover"> <thead> <th>Tipo</th> <th>Valor</th> <th>Base</th> <th>Total</th> <th></th> </thead> <tbody> <tr ng-repeat="record in records"> <td>{{record.tipo +\'%\' || 0 + \'%\'}}</td> <td>{{record.viva | currency:"$ " }}</td> <td>{{record.base | currency:"$ " }}</td> <td>{{record.total | currency:"$ "}}</td> <td></td> </tr> </tbody> </table> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">OK</button> </div> </div>'),a.put("views/login/login.html",'<div class="row login-page"> <div class="login-content"> <div class="col-lg-6" style="height:560px;background-color: #01190c"> <div class="content-section col-lg-12 text-center"> <h3 class="text-white">Ingresar a SnapWard</h3> <p style="font-size:14px;color:white">Recibe y controla alertas de panico en tu ciudad...</p> </div> <div class="col-lg-12 text-center" style="margin-bottom:20px"> <img src="images/md-login.7d5dabf7.png"> </div> <div class="col-lg-12 text-center" style="position:relative"> <a ng-show="$root.state.current.name ==\'login.quickstart\'" ui-sref="login" href="#!/login" style="padding:10px;border-radius: 4px" class="custom-btn custom-btn-primary">Ingresar</a> <a ng-show="$root.state.current.name ==\'login\'" ui-sref=".quickstart" href="#!/quickstart" style="padding:10px;border-radius: 4px" class="custom-btn custom-btn-primary">Registrarse</a> </div> <div class="col-lg-12 text-center" style="top:20px"> <a style="color:#c09e05" href="">Aprende como funciona...</a> </div> </div> <div ui-view class="col-lg-6" style="background-size: contain;height:560px;background-color:white;background-image: url(images/login-section.cabf5052.jpeg)"> <div class="wrap"> <div class="row"> <div class="col-lg-12"> <h3 class="text-dark">Iniciar Sesión.</h3> </div> </div> <form name="loginForm" ng-controller="LoginCtrl" ng-init="load()" novalidate> <div class="panel animated bounceInLeft" style="background-color: rgba(0, 0, 0, 0.3)!important"> <div class="alert alert-warning animated rubberBand" ng-show="unprivileged"> <a class="close" ng-click="unprivileged = false;">&times;</a> <strong></strong>Usted no tiene privilegios para ingresar. </div> <div class="alert alert-danger" ng-show="failed"> <a class="close" ng-click="failed = false;">&times;</a> <strong></strong> Email y Contraseña incorrectos. </div> <div class="form-group"> <label class="text-white">Email*:</label> <input type="email" required name="email" ng-model="form.data.email" class="form-control" placeholder="Correo"> </div> <div class="form-group"> <label class="text-white">Contraseña*:</label> <input type="password" required name="password" ng-model="form.data.password" class="form-control" placeholder="Contraseña"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <button ng-click="login()" style="width:30%;margin:0 auto;paddin:5px;border-radius:4px" class="custom-btn custom-btn-primary">Entrar</button> </div> </div> <div class="col-lg-6 text-right" ng-show="loginForm.email.$valid"> <div class="form-group"> <label class="text-white"> <input ng-init="app.remenber = fromStore" ng-change="remember(app.remenber)" icheck type="checkbox" ng-model="app.remenber" class="info-bounce"> Recordar Email: </label> </div> </div> </div> <div class="col-lg-6 text-center" style="margin-top: 40px"> <a href="#/forgot" sref="forgot" class="text-white"> Recuperar Contraseña?</a> </div> <div class="col-lg-6 last text-center" style="margin-top: 40px"> <a ui-sref=".quickstart" href="#/quickstart" class="text-white">No eres miembro aun?</a> </div> </div> </form> </div> </div> <div class="row col-lg-12"> <p style="color:#ffd100"><span class="text-white">Shoply</span> 2015, Todos los derechos reservados.</p> </div> </div> </div>'),a.put("views/ordenes/detalle-pedido.html",'<div ng-controller="RequestdetailCtrl" ng-init="load()"> <div class="content" ng-show="!record || record.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="record.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="row"> <div class="sub-header" style="height:60px;background-color: #00232d;box-sizing: border-box;\r\npadding: 10px"> <div class="col-lg-4"> <h2 class="no-margin text-white">Pedido # <span style="color:#f95c07">{{record.id}}</span></h2> </div> <div class="col-lg-4"> </div> <div class="col-lg-4 text-right"> <button ng-click="facturar()" style="border-radius:5px" class="custom-btn custom-btn-primary"><i class="fa fa-credit-card"></i>&nbsp;Facturar</button> </div> </div> <div class="col-xs-12"> <hr> <img style="float: left;width: 70px;height: 70px;position: relative;top: -6px;margin-right: 15px" class="img-circle thumb-photo" ng-src="{{record._company.data.gallery[0].URL}}"> <h3>{{record._company.data.empresa}},</h3> <h5 class="no-margin">{{record._company.data.descripcion}}</h5> <hr> <div class="row"> <div class="col-xs-6"> <address> <strong>CLIENTE:</strong><br> {{(record._client.full_name)}}<br> {{record.metadata.direccion}}.<br> {{record.metadata.ciudad}}, {{record.metadata.barrio}} </address> </div> <div class="col-xs-6 text-right"> <address> <strong>VENDEDOR:</strong><br> {{record._seller.full_name}}<br> {{record._seller.metadata.departamento}}, {{record._seller.metadata.ciudad}}<br> </address> </div> </div> <div class="row"> <div class="col-xs-6 text-left"> <address> <strong>Fecha de la Orden:</strong><br> {{record.createdAt | date:"yyyy-MM-dd hh:mm:ss a"}}<br><br> </address> </div> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"><strong>Resumen de la Orden</strong></h3> </div> <div class="panel-body"> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <td><strong>Codigo</strong></td> <td><strong>Producto</strong></td> <td class=""><strong>Cantidad</strong></td> <td class=""><strong>Precio</strong></td> <td class=""><strong>% Iva</strong></td> <td class=""><strong>% Descuento</strong></td> <td class=""><strong>V. Descuento</strong></td> <td class="text-right"><strong>Total</strong></td> </tr> </thead> <tbody> <!-- foreach ($order->lineItems as $line) or some such thing here --> <tr ng-repeat="record in record.shoppingCart"> <td>{{record.idcomposed}}</td> <td>{{record.producto}}</td> <td>{{record.cantidad}}</td> <td>{{(record.precio + record.valor_utilidad) | currency :"$ "}}</td> <td>{{record._iva.data.valor}}</td> <td>{{record.porcentajeDTO || 0}}</td> <td>{{record.vlUnicoD | currency :"$ "}}</td> <td class="text-right">{{record.precio_VentaFacturado | currency :"$ "}}</td> </tr> <tr> <td class="thick-line"></td> <td class="thick-line"></td> <td colspan="4" class="thick-line text-right"><strong>Subtotal</strong></td> <td colspan="2" class="thick-line text-right">{{record.data.subtotal | currency: "$ "}}</td> </tr> <tr> <td class="thick-line"></td> <td class="thick-line"></td> <td colspan="4" class="thick-line text-right"><strong>Iva</strong></td> <td colspan="2" class="thick-line text-right">{{record.data.TotalIva | currency: "$ "}}</td> </tr> <tr> <td class="thick-line"></td> <td class="thick-line"></td> <td colspan="4" class="thick-line text-right"><strong>Descuento</strong></td> <td colspan="2" class="thick-line text-right">{{record.data.descuento || 0 | currency: "$ "}}</td> </tr> <tr> <td class="thick-line"></td> <td class="thick-line"></td> <td colspan="4" class="thick-line text-right"><strong>Descuento Global</strong></td> <td colspan="2" class="thick-line text-right">{{record.data.descuentoGlobal || 0 | currency: "$ "}}</td> </tr> <tr> <td class="thick-line"></td> <td class="thick-line"></td> <td colspan="4" class="thick-line text-right"><strong>Total</strong></td> <td colspan="2" class="thick-line text-right">{{record.data.total | currency: "$ "}}</td> </tr> <tr ng-repeat="iva in record.metadata.ivadetails | orderBy:\'-tipo\'"> <td class="no-line"></td> <td class="no-line"></td> <td class="no-line text-center"><strong>Iva del {{iva.tipo || 0}}%</strong></td> <td class="no-line text-right">{{iva.viva | currency: "$ "}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div>'),a.put("views/ordenes/localizacion.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Localizacion</h4> </div> <div class="modal-body" style="padding:0px!important"> <section id="map" ng-controller="locationCtrl" ng-init="load()"> <div style="height:400px" ui-map="myMap" ui-options="mapOptions" class="map-canvas" ui-event="{\'map-click\': \'addMarker($event, $params)\', \'map-zoom_changed\': \'setZoomMessage(myMap.getZoom())\' }"></div> </section> </div> <div class="modal-footer custom-modal-footer" style="padding:0px;margin-top:0px!important"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">OK</button> </div> </div>'),a.put("views/ordenes/ordenes.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="row"> <div class="col-lg-3"> <div class="form-group"> <label for="name">Tipo:</label> <request-field empty-option="true" ng-model="filter._type"><request-field> </request-field></request-field></div> </div> <div class="col-lg-3"> <div class="form-group"> <label for="name">Vendedor:</label> <vendedor-field empty-option="true" placeholder="Vendedor" ng-model="filter._seller" key="_id" label="name"><vendedor-field> </vendedor-field></vendedor-field></div> </div> <div class="col-lg-3"> <div class="form-group"> <label for="name">Cliente:</label> <cliente-field empty-option="true" placeholder="Vendedor" ng-model="filter._client" key="_id" label="name"><cliente-field> </cliente-field></cliente-field></div> </div> <div class="col-lg-3"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Codigo</th> <th>Tipo</th> <th>Vendedor</th> <th>Cliente.</th> <th>Ciudad.</th> <th>Barrio</th> <th>Dir.</th> <th>Total</th> <th>Fecha</th> <th>Estado</th> <th></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr ng-show="!records || records.length == 0"><td class="text-center" colspan="9"><p class="text-center"><i class="glyphicon glyphicon-info-sign"></i>&nbsp;No existen registros.</p></td></tr> <tr pagination-id="OrdenesEntity" dir-paginate="record in records \r\n                  | filter:search \r\n                  | filter:{_client : { _id : filter._client}} \r\n                  | filter:{_seller : { _id : filter._seller}} \r\n                  | filter:{data : { tipo : filter._type}} \r\n                  | orderBy:\'-createdAt\' \r\n                  | itemsPerPage: 5 "> <td>{{record.id}}</td> <td> <span ng-show="record.data.tipo == \'Orden de Pedido\' " class="label label-info">{{record.data.tipo}}</span> <span ng-show="record.data.tipo == \'Remisión\'" class="label label-primary">{{record.data.tipo}}</span> </td> <td>{{record._seller.full_name.toLowerCase()}}</td> <td>{{record._client.full_name.toLowerCase()}}</td> <td>{{record.metadata.ciudad.toLowerCase()}}</td> <td>{{record.metadata.barrio.toLowerCase()}}</td> <td>{{record.metadata.direccion.toLowerCase()}}</td> <td>{{record.data.total | currency:"$ "}}</td> <td>{{record.createdAt | date:"MM-dd-yyyy \' \' h:mma"}}</td> <td>{{record.data.estado || \'Pendiente\'}}</td> <td></td> <td><button ng-click="detail()" type="button" class="btn btn-success btn-xs"><i class="glyphicon glyphicon-eye-open"></i>&nbsp;Detalle</button></td> <td><button ng-click="location()" type="button" class="btn custom-btn-primary btn-xs"><i class="glyphicon glyphicon-map-marker"></i>&nbsp;Ubicación</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Borrar</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="OrdenesEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Ordenes </div> </div> </div> <div class="row" ng-show="records.length > 0"> </div></div>'),a.put("views/permisos/agregar_permiso.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <h4 class="modal-title">Agregar Permiso</h4> </div> <div class="modal-body"> <div class="row"> <div class="file-wrap" style="height: 150px" ng-show="loading"> <div class="item-loading text-center" style="position:relative;top:25%"> <img style="height:30px" src="images/loading.23dd1f34.svg"> <p>Esto puede tardar unos minutos por favor espere...</p> </div> </div> </div> <div> <div class="row" ng-hide="loading"> <form name="permisoForm"> <div class="col-lg-6"> <label>Menu:</label> <selectize config="{valueField: &quot;id&quot;, labelField:&quot;nombre&quot;, maxItems: 1, placeholder:&quot;Menu&quot;}" options="menus" ng-model="$parent.form.data._menu"></selectize> </div> <div class="col-lg-6"> <label>Formularios:</label> <selectize config="{valueField: &quot;id&quot;, labelField:&quot;nombre&quot;, maxItems: 1, placeholder:&quot;Formularios&quot;}" options="formsCollection" ng-model="form.data._form"></selectize> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="form.data.access.view" class="info-bounce"> Ver </label> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="form.data.access.create" class="info-bounce"> Crear </label> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="form.data.access.update" class="info-bounce"> Editar </label> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="form.data.access.delete" class="info-bounce"> Borrar </label> </div> <div class="col-lg-12 form-group text-right" style="border-bottom: 1px solid #f1f1f1;padding-bottom: 5px"> <button style="border-radius: 5px" type="button" class="custom-btn custom-btn-primary" ng-click="addMenu()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar</button> </div> <div class="row"> <div class="col-lg-12"> <h4 class="text-center" ng-show="!permission || permission.length == 0"><i class="fa fa-exclamation-triangle"></i>&nbsp;no hay menus configurados</h4> <ul class="sp-list"> <li class="sp-list-item sp-choice" dir-paginate="record in permission |filter:search | itemsPerPage: 3 " pagination-id="permissionCreateEntity"> <div class="sp-item-image text-center"> <i style="font-size: 50px;position: relative;top: 15%" class="fa {{record.menuIcon}}"></i> </div> <a class="trash" ng-click="removeFromList()" href=""><i class="glyphicon glyphicon-trash"></i></a> <h4>{{record.menuText}}</h4> <p class="sp-text" style="top: -3px!important">Formulario:&nbsp;{{record.formText.toLowerCase() || \'Sin Formulario\'}}&nbsp;&nbsp;</p> <p><span ng-show="record.access.view" style="margin-right:5px" class="label label-primary ng-binding">Ver : Permitido</span><span ng-show="record.access.create" style="margin-right:5px" class="label label-primary">Crear : Permitido</span><span ng-show="record.access.update" style="margin-right:5px" class="label label-primary ng-binding">Editar : Permitido</span><span ng-show="record.access.delete" style="margin-right:5px" class="label label-primary ng-binding">Borrar : Permitido</span></p> {{barrio}} <div class="row"> <div class="sp-footer"> </div> </div> </li> </ul> </div> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="permissionCreateEntity"></dir-pagination-controls> </div> <div class="col-lg-12" ng-hide="true"> <div class="table-responsive"> <table class="table table-hover"> <thead> <th>Menu</th> <th>Formulario</th> <th>Ver</th> <th>Crear</th> <th>Editar</th> <th>Borrar</th> <th></th> </thead> <tbody> <tr dir-paginate="record in permission | itemsPerPage: 5 " pagination-id="permissionEntity"> <td>{{record._menu}}</td> <td>{{record._form || \'Sin formulario\'}}</td> <td>{{record.access.view ? \'SI\' : \'NO\'}}</td> <td>{{record.access.create ? \'SI\' : \'NO\'}}</td> <td>{{record.access.update ? \'SI\' : \'NO\'}}</td> <td>{{record.access.delete ? \'SI\' : \'NO\'}}</td> <td class="text-right"> <a style="width:auto" ng-click="removeFromList()" class="custom-btn-tiny btn-block btn-danger"><i class="glyphicon glyphicon-trash"></i>Quitar</a> </td> </tr> </tbody> </table> </div> <div class="row"> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="permissionEntity"></dir-pagination-controls> </div> </div> </div> </form> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Crear</button> </div> </div>'),a.put("views/permisos/editar_permiso.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <h4 class="modal-title">Editar Permiso</h4> </div> <div class="modal-body"> <div class="row"> <div class="file-wrap" style="height: 150px" ng-show="loading"> <div class="item-loading text-center" style="position:relative;top:25%"> <img style="height:30px" src="images/loading.23dd1f34.svg"> <p>Esto puede tardar unos minutos por favor espere...</p> </div> </div> </div> <div> <div class="row" ng-hide="loading"> <form name="formEditarPermiso"> <div class="col-lg-6"> <label>Menu:</label> <selectize config="{valueField: &quot;id&quot;, labelField:&quot;nombre&quot;, maxItems: 1, placeholder:&quot;Menu&quot;}" options="menus" ng-model="formEdit.data._menu"></selectize> </div> <div class="col-lg-6"> <label>Formularios:</label> <selectize config="{valueField: &quot;id&quot;, labelField:&quot;nombre&quot;, maxItems: 1, placeholder:&quot;Formularios&quot;}" options="formsCollectionEdit" ng-model="formEdit.data._form"></selectize> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="formEdit.data.access.view" class="info-bounce"> Ver Listado </label> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="formEdit.data.access.create" class="info-bounce"> Crear </label> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="formEdit.data.access.update" class="info-bounce"> Editar </label> </div> <div class="col-lg-3"> <label> <input icheck type="checkbox" ng-model="formEdit.data.access.delete" class="info-bounce"> Borrar </label> </div> <div class="col-lg-12 text-right form-group"> <button style="border-radius: 5px" type="button" style="border-radius: 5px" class="custom-btn custom-btn-primary" ng-click="addMenuEdit()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar</button> </div> <div class="row"> <div class="col-lg-12"> <h4 class="text-center" ng-show="!formEdit.data.permission || formEdit.data.permission.length == 0"><i class="fa fa-exclamation-triangle"></i>&nbsp;no hay menus configurados</h4> <ul class="sp-list"> <li class="sp-list-item sp-choice" dir-paginate="record in formEdit.data.permission |filter:search | itemsPerPage: 3 " pagination-id="permissionEditEntity"> <div class="sp-item-image text-center"> <i style="font-size: 50px;position: relative;top: 15%" class="fa {{record.menuIcon}}"></i> </div> <a class="trash" ng-click="removeFromListEdit()" href=""><i class="glyphicon glyphicon-trash"></i></a> <h4>{{record.menuText}}</h4> <p class="sp-text" style="top: -3px!important">Formulario:&nbsp;{{record.formText.toLowerCase() || \'Sin Formulario\'}}&nbsp;&nbsp;</p> <p><span ng-show="record.access.view" style="margin-right:5px" class="label label-primary ng-binding">Ver : Permitido</span><span ng-show="record.access.create" style="margin-right:5px" class="label label-primary">Crear : Permitido</span><span ng-show="record.access.update" style="margin-right:5px" class="label label-primary ng-binding">Editar : Permitido</span><span ng-show="record.access.delete" style="margin-right:5px" class="label label-primary ng-binding">Borrar : Permitido</span></p> {{barrio}} <div class="row"> <div class="sp-footer"> </div> </div> </li> </ul> </div> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="permissionEditEntity"></dir-pagination-controls> </div> </form> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Actualizar</button> </div> </div>'),a.put("views/permisos/permisos.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content"> <div class="hpanel"> <div class="panel-body"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Permiso</th> <th>Numero de formularios</th> <th>Formularios</th> <th>Empresa</th> <th>Fecha</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="permisoEntity"> <td>{{record.data.profile}}</td> <td>{{record.data.permission.length}}</td> <td><button ng-click="verFormularios()" type="button" class="btn btn-success btn-xs"><i class="glyphicon glyphicon-eye-open"></i>&nbsp;Ver Formularios</button>{{record._category.text}}</td> <td>{{record._company.data.empresa}}</td> <td>{{record.createdAt | date:"MM-dd-yyyy \' \' h:mma"}}</td> <td><button ng-click="edit()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-eye-open"></i>&nbsp;Editar</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Borrar</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="permisoEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Permisos </div> </div> </div> </div>'),a.put("views/permisos/verFormularios.html","<div class=\"inmodal\"> <div class=\"modal-header text-center custom-modal-header\"> <!--<i class=\"fa fa-sliders color-success h-modal-icon\"></i>--> <h4 class=\"modal-title\">Formularios</h4> </div> <div class=\"modal-body\"> <div class=\"table-responsive\"> <table class=\"table table-hover\"> <thead> <th>Menu</th> <th>Formulario</th> <th>Ver</th> <th>Crear</th> <th>Actualizar</th> <th>Eliminar</th> </thead> <tbody> <tr ng-repeat=\"record in record\"> <td>{{record._menu.split('mnu')[1] || 'no definido'}}</td> <td>{{record._form.split('frm')[1] || 'no definido'}}</td> <td>{{record.access.view ? 'Permitido' : 'No'|| 'no definido' }}</td> <td>{{record.access.create ? 'Permitido' : 'No' || 'no definido' }}</td> <td>{{record.access.update ? 'Permitido' : 'No' || 'no definido'}}</td> <td>{{record.access.delete ? 'Permitido' : 'No' || 'no definido'}}</td> <td></td> </tr> </tbody> </table> </div> </div> <div class=\"modal-footer custom-modal-footer\" style=\"padding:0px\"> <button type=\"button\" style=\"height:40px\" class=\"custom-btn btn-block custom-btn-primary\" ng-click=\"ok()\">OK</button> </div> </div>"),a.put("views/prints/arqueo.html",'<h3 style="margin:0;padding:0px;text-align:center">{{_company.data.empresa}}<h3> <br> <h4 style="margin:0;padding:0px;text-align:left">Arqueo # {{id}}</h4> <h4 style="margin:0;padding:0px;text-align:left">{{metadata.arqueo}}</h4> <br> <table style="width:100%"> <thead> <th>Fecha</th> <th>Vendedor</th> <th>Cliente</th> <th>Cantidad</th> <th>Total</th> </thead> <tfoot> <tr> <td style="text-align:right;font-family: monospace;margin: 0px;padding: 0px" colspan="4"><p style="font-weight: bold;padding:4px;text-decoration: underline">Total Sistema</p></td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px" colspan="5"><p>{{formatCurrency metadata.total_sistema}}</p></td> <td></td> <td></td> <td></td> </tr> <tr> <td style="text-align:right;font-family: monospace;margin: 0px;padding: 0px" colspan="4"><p style="font-weight: bold;padding:4px;text-decoration: underline">Total Efectivo</p></td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px" colspan="5"><p>{{formatCurrency metadata.total_efectivo}}</p></td> <td></td> <td></td> <td></td> </tr> <tr> <td style="text-align:right;font-family: monospace;margin: 0px;padding: 0px" colspan="4"><p style="font-weight: bold;padding:4px;text-decoration: underline">Dinero Sobrante</p></td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px" colspan="5"><p>{{formatCurrency metadata.sobrante}}</p></td> <td></td> <td></td> <td></td> </tr> <tr> <td style="text-align:right;font-family: monospace;margin: 0px;padding: 0px" colspan="4"><p style="font-weight: bold;padding:4px;text-decoration: underline">Dinero Faltante</p></td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px" colspan="5"><p>{{formatCurrency metadata.faltante}}</p></td> <td></td> <td></td> <td></td> </tr> </tfoot> <tbody> {{#each _request}} <tr> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{DateShort createdAt}}</td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{_seller.full_name}}</td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{_client.full_name}}</td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{shoppingCart.length}}</td> <td style="text-align:center;font-family: monospace;margin: 0px;padding: 0px">{{formatCurrency metadata.total}}</td> </tr> {{/each}} </tbody> </table></h3></h3>'),
a.put("views/productos/agregar-producto.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Agregar Producto</h4> </div> <div class="modal-body" ng-init="selected =\'basic\'"> <div class="row"> <div class="file-wrap" style="height: 150px" ng-show="loading"> <div class="item-loading text-center" style="position:relative;top:25%"> <img style="height:30px" src="images/loading.23dd1f34.svg"> <p>cargando datos...</p> </div> </div> </div> <div class="row"> <div class="col-lg-2"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'basic\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'basic\'" class="custom-btn btn-block">Información</button> </div> </div> <div class="col-lg-2"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'prices\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'prices\';" class="custom-btn btn-block">Precios</button> </div> </div> <div class="col-lg-2"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'stock\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'stock\';" class="custom-btn btn-block">Inventario</button> </div> </div> <div class="col-lg-2"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'album\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'album\';" class="custom-btn btn-block">Apariencia</button> </div> </div> <div class="col-lg-2"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'Component\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'Component\';" class="custom-btn btn-block">Componentes</button> </div> </div> </div> <div class="row" ng-show="selected == \'album\'"> <fieldset class="col-lg-12 no-margin"> <legend class="text-center" style="font-size:14px!important;margin-bottom:5px">Caracteristicas</legend> <div class="col-lg-6"> <div class="form-group"> <label>Color: </label> <color-picker color="color" options="options" on-color-changed="colorChanged(newColor, oldColor)"></color-picker> </div> </div> <div class="col-lg-6"> <div class="form-group"> </div> </div> </fieldset> <image-uploader area="square" title="Galeria del producto" button-text="Cargar imagenes" ng-model="form.data.gallery"><image-uploader> </image-uploader></image-uploader></div> <div class="row" ng-show="selected == \'stock\'"> <div class="col-lg-6"> <div class="form-group"> <label>Stock minimo:</label> <input type="number" placeholder="Stock minimo" required class="form-control input-sm" ng-model="$parent.form.data.stockMin"> <span class="form-input-message">Define la cantidad minima en inventario.</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Stock Maximo:</label> <input type="number" placeholder="Stock maximo" required class="form-control input-sm" ng-model="$parent.form.data.stockMax"> <span class="form-input-message">Define la cantidad maxima en inventario.</span> </div> </div> <div class="col-lg-12"> <label class="text-dark"> <input icheck type="checkbox" ng-model="$parent.form.data.negativo" class="info-bounce"> Vender en negativo. </label> </div> </div> <div class="row" ng-show="selected == \'prices\'"> <div class="col-lg-4"> <div class="form-group"> <label>Precio base:</label> <input type="number" focus-on="selected == \'prices\'" placeholder="Precio base" required class="form-control input-sm" ng-model="$parent.form.data.precio"> <span class="form-input-message">Define el costo de tu producto.</span> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>% Utilidad:</label> <input type="number" placeholder="Utilidad" required class="form-control input-sm" ng-model="$parent.form.data.utilidad"> <span class="form-input-message">Valor en % de la utilidad.</span> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Iva:</label> <iva ng-model="$parent.form._iva" set-object="$parent.iva"></iva> <span class="form-input-message">Selecciona el impuesto.</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Valor utilidad:</label> <input type="number" disabled placeholder="Valor utilidad" required class="form-control input-sm" ng-model="$parent.form.data.valor_utilidad"> <span class="form-input-message">Valor en $ de la utilidad.</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Valor Iva:</label> <input type="number" disabled placeholder="Valor iva" required class="form-control input-sm" ng-model="$parent.form.data.valor_iva"> <span class="form-input-message">Valor en $ del impuesto.</span> </div> </div> <div class="col-lg-4"> <div class="form-group"> <service-field key="_id" id="product_field" label="producto" on-enter="isEmpty()" set-focus="focuset" search-by="[\'idcomposed\', \'refMixed\', \'producto\']" set-object="$parent._serviceAddObj" ng-model="$parent._serviceAdd"> <service-field> </service-field></service-field></div> </div> <div class="col-lg-12"> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Codigo</th> <th>Servicio</th> <th>Cantidad</th> <th>Medida/Cantidad</th> <th>Base</th> <th>Base + Iva</th> <th></th> </tr> </thead> <tbody> <td ng-show="!recordsServices || recordsServices.length == 0" colspan="6" style="text-align:center!important"><i class="glyphicon glyphicon-info-sign"></i>&nbsp;{{\'No se han agregado servicios aún;\'}}</td> <tr pagination-id="ProductComponentEntity" dir-paginate="record in recordsServices |filter:search |itemsPerPage: 5 "> <td>{{record.idcomposed}}</td> <td>{{record.producto}}</td> <td> <input ng-change="onTypeQty()" type="number" ng-init="record.data.cantidad = 1;" ng-model="record.data.cantidad" class="form-control input-sm"> </td> <td>{{record.unidadDeMedida || \'no definida\'}}</td> <td>{{record.data.baseComponent || record.precio || 0 | currency:"$ "}}</td> <td>{{record.data.baseIva || (record.precio + record.valor_iva) || 0 | currency:"$ "}}</td> <td><button ng-click="removeServicefromComponentList()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Quitar</button></td> <td></td> </tr> <tr ng-show="totalBaseService"> <td colspan="5" class="text-right"><strong>Total Base</strong></td> <td colspan="6" class="text-left">{{totalBaseService || 0 | currency:"$ "}}</td> </tr> </tbody> </table> </div> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="ProductComponentEntity"></dir-pagination-controls> </div> <div class="form-group"> </div> </div> <div ng-show="selected==\'basic\'" class="row"> <form name="formProducto" novalidate ng-init="$parent.form = null"> <div class="col-lg-6"> <div class="form-group"> <label>Producto:</label> <input type="text" focus-on="selected == \'basic\'" required placeholder="Producto" class="form-control input-sm" ng-model="$parent.form.data.producto"> <span class="form-input-message">Escriba el nombre del producto</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Estado:</label> <estado-producto ng-init="$parent.form.data.estado = \'Habilitado\'" required ng-model="$parent.form.data.estado"></estado-producto> <span class="form-input-message">Selecciona el estado del producto</span> </div> </div> <div class="col-lg-12"> <div class="form-group"> <label>Descripcion:</label> <input type="text" placeholder="Descripción" required class="form-control input-sm" ng-model="$parent.form.data.descripcion"> <span class="form-input-message">Describe brevemente tu producto</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Categoria:</label> <categoria key="_id" label="text" ng-model="form._category"></categoria> <span class="form-input-message">Debes elejir donde estara tu producto.</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Casa Comercial:</label> <casa-comercial key="_id" label="name" ng-model="form._commercial_home"></casa-comercial> <span class="form-input-message">Elija la casa comercial.</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Referencias:</label> <reference-field key="_id" label="reference" ng-model="$parent.form._reference"></reference-field> <span class="form-input-message">Escribe la referencia y presiona [ENTER].</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Etiquetas:</label> <selectize config="{plugins: [\'remove_button\'], create:true, maxItems:10, placeholder:\'Escribe la etiqueta  y presiona ENTER\'}" options="[]" ng-model="$parent.form.data.tags"></selectize> <span class="form-input-message">Escribe las Etiquetas y presiona [ENTER].</span> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Embalaje</label> <input type="number" placeholder="Embalaje" required class="form-control input-sm" ng-model="$parent.form.data.embalaje"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Cantidad</label> <input type="number" placeholder="Cantidad" required class="form-control input-sm" ng-model="$parent.form.data.cantidad"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Unidade de Medida</label> <selectize config="{maxItems:1, placeholder:\'Unidad de Medida\', labelField:\'label\', valueField :\'value\' }" options="[{&quot;label&quot;:&quot;K&quot;, &quot;value&quot;:&quot;K&quot;}, {&quot;label&quot;:&quot;UND&quot;, &quot;value&quot;:&quot;UND&quot;}, {&quot;label&quot;:&quot;L&quot;, &quot;value&quot;:&quot;L&quot;}, {&quot;label&quot;:&quot;M&quot;, &quot;value&quot;:&quot;M&quot;}]" ng-model="$parent.form.data.unidadDeMedida"> </selectize> </div> </div> <div class="col-lg-12"> <label class="text-dark"> <input icheck type="checkbox" ng-model="$parent.form.data.servicio" class="info-bounce"> Producto Servicio. </label> </div> </form> </div> <div class="row" ng-show="selected == \'Component\'"> <div class="col-lg-4"> <div class="form-group"> <producto-field key="_id" id="product_field" label="producto" placeholder="Componente" on-enter="isEmpty()" set-focus="focuset" search-by="[\'idcomposed\', \'refMixed\', \'producto\']" set-object="$parent._productAddObj" ng-model="$parent._productAdd"> <producto-field> </producto-field></producto-field></div> </div> <div class="col-lg-12"> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Codigo</th> <th>Componente</th> <th>Cantidad</th> <th>Medida/Cantidad</th> <th>Base</th> <th>Base + Iva</th> <th></th> </tr> </thead> <tbody> <td ng-show="!recordsProductos || recordsProductos.length == 0" colspan="6" style="text-align:center!important"><i class="glyphicon glyphicon-info-sign"></i>&nbsp;{{\'No se han agregado componentes aún;\'}}</td> <tr pagination-id="ProductComponentEntity" dir-paginate="record in recordsProductos |filter:search |itemsPerPage: 5 "> <td>{{record.idcomposed}}</td> <td>{{record.producto}}</td> <td> <input ng-change="onTypeQty()" type="number" ng-init="record.data.cantidad = 1;" ng-model="record.data.cantidad" class="form-control input-sm"> </td> <td>{{record.unidadDeMedida || \'no definida\'}}</td> <td>{{record.data.baseComponent || record.precio || 0 | currency:"$ "}}</td> <td>{{record.data.baseIva || (record.precio + record.valor_iva) || 0 | currency:"$ "}}</td> <td><button ng-click="removefromComponentList()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Quitar</button></td> <td></td> </tr> <tr ng-show="totalBase"> <td colspan="5" class="text-right"><strong>Total Base</strong></td> <td colspan="6" class="text-left">{{totalBase || 0 | currency:"$ "}}</td> </tr> <tr ng-show="totalBaseIva"> <td colspan="5" class="text-right"><strong>Total Base + Iva</strong></td> <td colspan="6" class="text-left">{{totalBaseIva || 0 | currency:"$ "}}</td> </tr> </tbody> </table> </div> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="ProductComponentEntity"></dir-pagination-controls> </div> </div> </div> <div class="row" style="border: none;background-color: #000D11;color: #FFF;margin:0px;position: relative;\r\n    bottom: -15px"> <div class="col-lg-12"> <div class="col-lg-6 text-left"> <h4 style="color:white !important">Precio de Venta :</h4> </div> <div class="col-lg-6 text-right" ng-init="$parent.form.data.precio_venta = 0;"> <h4 style="color:white!important">{{$parent.form.data.precio_venta | currency:"COP$ "}}</h4> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Agregar</button> </div> </div>'),a.put("views/productos/detalle_producto.html",'<div ng-controller="ProductdetailCtrl" ng-init="load()"> <div class="row"> <div class="container" style="top: 20px;position: relative"> <div class="col-lg-6 text-center"> <sp-gallery-preview images="record.data.gallery"></sp-gallery-preview> </div> <div class="col-lg-6" style="border-left: 1px solid #e2e2e2"> <h3 class="no-margin">{{record.data.producto}}<span ng-show="record._category" style="font-size: 12px;color: #a5a5a5">&nbsp;- en&nbsp;{{record._category.text}}</span><span ng-show="!record._category" style="font-size: 12px;color: #a5a5a5">&nbsp;- sin categoria&nbsp;</span></h3> <p>{{record.data.descripcion}}</p> <span style="float: left;position: relative;top: -2px;color: #ff5e1b"><i class="glyphicon glyphicon-triangle-right"></i></span> <hr> <div class="row"> <div class="col-lg-4"> <h4>Base</h4> <p>{{record.data.precio | currency:"$ "}}</p> </div> <div class="col-lg-4"> <h4>Precio de venta</h4> <p>{{record.data.precio_venta | currency:"$ "}}</p> </div> <div class="col-lg-4"> <h4>Utilidad</h4> <p>{{record.data.valor_utilidad | currency:"$ "}}</p> </div> </div> <div class="row"> <div class="col-lg-12"> <h3>Etiquetas</h3> <span style="margin-right:3px" ng-repeat="tag in record.data.tags" class="label label-success">{{tag}}</span> </div> </div> <div class="row"> <div class="col-lg-12"> <h3>Referencias</h3> <span style="margin-right:3px" ng-repeat="ref in record._reference.reference" class="label label-primary">{{ref}}</span> </div> </div> </div> </div> </div> </div>'),a.put("views/productos/editar_producto.html",'<div class="inmodal" ng-init="editLoad()"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Editar Producto</h4> </div> <div class="modal-body" ng-init="selected =\'basic\'"> <div class="row"> <div class="col-lg-3"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'basic\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'basic\'" class="custom-btn btn-block">Información Basica</button> </div> </div> <div class="col-lg-3"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'prices\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'prices\';" class="custom-btn btn-block">Precios</button> </div> </div> <div class="col-lg-3"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'stock\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'stock\';" class="custom-btn btn-block">Inventario</button> </div> </div> <div class="col-lg-3"> <div class="form-group"> <button style="border-top-right-radius: 10px;border-top-left-radius: 10px" ng-class="selected==\'album\' ? \'custom-btn-primary\' : \'custom-btn-default\'" ng-click="selected=\'album\';" class="custom-btn btn-block">Apariencia</button> </div> </div> </div> <div class="row" ng-show="selected == \'album\'"> <image-uploader area="square" title="Galeria del producto" button-text="Cargar imagenes" ng-model="$parent.formEdit.data.gallery"><image-uploader> </image-uploader></image-uploader></div> <div class="row" ng-show="selected == \'stock\'"> <div class="col-lg-12"> <div class="row"> <div class="col-lg-5"> <div class="form-group"> <label for="name">Bodega:</label> <bodega-field placeholder="Bodega" required ng-model="$parent._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> <div class="col-lg-5"> <div class="form-group"> <label></label> <button ng-click="getByProduct()" type="button" class="btn custom-btn-primary input-sm"><i class="glyphicon glyphicon-search"></i>&nbsp;Obtener todas las existencias</button> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Cantidad</th> <th>Bodega</th> <th>Departamento</th> <th>Ciudad</th> <th></th> <th></th> </tr> </thead> <tbody> <td ng-show="!stocks || stocks.length == 0" colspan="6" style="text-align:center!important"><i class="glyphicon glyphicon-info-sign"></i>&nbsp;{{msg || \'Porfavor elija una bodega para iniciar su busqueda.\'}}</td> <tr pagination-id="stockEntity" dir-paginate="stock in stocks |filter:search |itemsPerPage: 5 "> <td>{{stock.amount}}</td> <td>{{stock._grocery.data.bodega}}</td> <td>{{stock._grocery.data.departamento}}</td> <td>{{stock._grocery.data.ciudad.toLowerCase()}}</td> <td></td> <td></td> </tr> <tr ng-show="total"> <td colspan="6" class="text-left"><strong>Total productos:</strong> {{total || 0}}</td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="stockEntity"></dir-pagination-controls> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Stock minimo:</label> <input type="number" placeholder="Stock minimo" required class="form-control input-sm" ng-model="$parent.formEdit.data.stockMin"> <span class="form-input-message">Define la cantidad minima en inventario.</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Stock Maximo:</label> <input type="number" placeholder="Stock maximo" required class="form-control input-sm" ng-model="$parent.formEdit.data.stockMax"> <span class="form-input-message">Define la cantidad maxima en inventario.</span> </div> </div> <div class="col-lg-12"> <label class="text-dark"> <input icheck type="checkbox" ng-model="$parent.formEdit.data.negativo" class="info-bounce"> Vender en negativo. </label> </div> </div> </div> </div> <div class="row" ng-show="selected == \'prices\'"> <div class="col-lg-4"> <div class="form-group"> <label>Precio base:</label> <input type="number" focus-on="selected == \'prices\'" placeholder="Precio base" required class="form-control input-sm" ng-model="$parent.formEdit.data.precio"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>% Utilidad:</label> <input type="number" placeholder="Utilidad" required class="form-control input-sm" ng-model="$parent.formEdit.data.utilidad"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Iva:</label> <iva ng-model="$parent.formEdit._iva" set-object="$parent.EditIva"></iva> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Valor utilidad:</label> <input type="number" disabled placeholder="Valor utilidad" required class="form-control input-sm" ng-model="$parent.formEdit.data.valor_utilidad"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Valor Iva:</label> <input type="number" disabled placeholder="Valor iva" required class="form-control input-sm" ng-model="$parent.formEdit.data.valor_iva"> </div> </div> <div class="form-group"> </div> </div> <div ng-show="selected==\'basic\'" class="row"> <form name="formProducto" novalidate ng-init="$parent.form = null"> <div class="col-lg-6"> <div class="form-group"> <label>Producto:</label> <input type="text" focus-on="selected == \'basic\'" pricesrequired placeholder="Producto" class="form-control input-sm" ng-model="$parent.formEdit.data.producto"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Estado:</label> <estado-producto ng-init="$parent.form.data.estado = \'Habilitado\'" required ng-model="$parent.formEdit.data.estado"></estado-producto> </div> </div> <div class="col-lg-12"> <div class="form-group"> <label>Descripcion:</label> <input type="text" placeholder="Descripción" required class="form-control input-sm" ng-model="$parent.formEdit.data.descripcion"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Categoria:</label> <categoria key="_id" label="text" ng-model="formEdit._category"></categoria> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Casa Comercial:</label> <casa-comercial key="_id" label="name" ng-model="formEdit._commercial_home"></casa-comercial> <span class="form-input-message">Elija la casa comercial.</span> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Referencias:</label> <selectize config="{plugins: [\'remove_button\'], create:true, placeholder:\'Escribe la referencia  y presiona ENTER\'}" options="reference" ng-model="$parent.formEdit._reference.reference"></selectize> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Etiquetas:</label> <selectize config="{plugins: [\'remove_button\'], create:true, maxItems:10, placeholder:\'Escribe la etiqueta  y presiona ENTER\'}" options="tags" ng-model="$parent.formEdit.data.tags"></selectize> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Embalaje</label> <input type="number" placeholder="Embalaje" required class="form-control input-sm" ng-model="$parent.formEdit.data.embalaje"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Cantidad</label> <input type="number" placeholder="Cantidad" required class="form-control input-sm" ng-model="$parent.formEdit.data.cantidad"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Unidade de Medida</label> <selectize config="{maxItems:1, placeholder:\'Unidad de Medida\', labelField:\'label\', valueField :\'value\' }" options="[{&quot;label&quot;:&quot;K&quot;, &quot;value&quot;:&quot;K&quot;}, {&quot;label&quot;:&quot;L&quot;, &quot;value&quot;:&quot;L&quot;}, {&quot;label&quot;:&quot;M&quot;, &quot;value&quot;:&quot;M&quot;}]" ng-model="$parent.formEdit.data.unidadDeMedida"> </selectize> </div> </div> </form> </div> </div> <div class="row" style="border: none;background-color: #000D11;color: #FFF;margin:0px;position: relative;\r\n    bottom: -15px"> <div class="col-lg-12"> <div class="col-lg-6 text-left"> <h4 style="color:white !important">Precio de Venta :</h4> </div> <div class="col-lg-6 text-right" ng-init="$parent.formEdit.data.precio_venta = 0;"> <h4 style="color:white!important">{{$parent.formEdit.data.precio_venta | currency:"COP$ "}}</h4> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Actualizar</button> </div> </div>'),a.put("views/productos/productos.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <label>Categoria:</label> <categoria empty-option="true" key="_id" label="text" ng-model="filter._category"></categoria> <span class="form-input-message">Elije una categoria para ver los productos.</span> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Iva:</label> <iva empty-option="true" ng-model="filter._iva" set-object="$parent.iva"></iva> <span class="form-input-message">Filtra por el tipo de Iva.</span> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> <span class="form-input-message">Escribe cualquier palabra, descripción...</span> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Codigo</th> <th>Producto</th> <th>Categoria</th> <th>Base</th> <th>Precio de Venta</th> <th>Utilidad</th> <th>V. Utilidad</th> <th>V. Iva</th> <th>S. Min</th> <th>S. Max</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in records | \r\n						      filter:search | \r\n						      filter:{_category: filter._category ? {_id : filter._category} : \'!\'} |\r\n						      itemsPerPage: 5 " pagination-id="productosEntity"> <td><span class="label label-primary">{{record.id}}</span></td> <td>{{record.data.producto}}</td> <td>{{record._category.text || \'Sin Categoria\'}}</td> <td>{{record.data.precio | currency:"$ "}}</td> <td>{{record.data.precio_venta | currency:"$ "}}</td> <td>{{record.data.utilidad ? record.data.utilidad + \'%\' : \'0%\'}}</td> <td>{{record.data.valor_utilidad || 0 | currency:"$ "}}</td> <td>{{record.data.valor_iva || 0 | currency:"$ "}}</td> <td>{{record.data.stockMin || 0}}</td> <td>{{record.data.stockMax || 0}}</td> <td><button ng-click="verImpuestos()" type="button" class="btn btn-success btn-xs"><i class="glyphicon glyphicon-eye-open"></i>&nbsp;Ivas</button></td> <td><button ng-click="edit()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Borrar</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="productosEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Productos </div> </div> </div> </div>'),a.put("views/productos/verIvas.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Ivas</h4> </div> <div class="modal-body"> <div class="table-responsive"> <table class="table table-hover"> <thead> <th>Tipo</th> <th>Valor</th> <th></th> </thead> <tbody> <tr> <td>{{record.data.descripcion}}</td> <td>{{record.data.valor || 0 + \'%\'}}</td> <td></td> </tr> </tbody> </table> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">OK</button> </div> </div>'),a.put("views/profile/profile.html",'<div ng-init="load()" ng-controller="ProfileCtrl"> <div class="container"> <div class="row"> <div class="col-lg-6"> <div class="panel panel-info" style="padding:0px;!important"> <div class="panel-heading" style="color: #ffffff;background-color: #01171d;border-color: #484848"> <h3 class="panel-title">{{$root.user.full_name}}</h3> </div> <div class="panel-body"> <div class="row"> <div class="col-md-3 col-lg-3" align="center"> <img alt="User Pic" ng-src="{{$root.user.data.gallery[0].URL || \'images/no-user-image.684462bf.gif\'}}" class="img-circle img-responsive"> </div> <div class="col-md-9 col-lg-9"> <table class="table table-user-information"> <tbody> <tr> <td>Rol:</td> <td>{{$root.user.type}}</td> </tr> <tr> <td>Nombres:</td> <td>{{$root.user.name}}</td> </tr> <tr> <td>Apellidos:</td> <td>{{$root.user.last_name}}</td> </tr> <tr> <td>Email:</td> <td>{{$root.user.email}}</td> </tr> <td>Telefono:</td> <td>{{$root.user.metadata.telefono || \'sin numero telefonico\'}}</td>  <tr> <td>Dirección:</td> <td>{{$root.user.metadata.telefono || \'sin dirección residencial\'}}</td> </tr> <tr> <td>Email:</td> <td><a href="mailto:info@support.com">{{$root.user.email}}</a></td> </tr> </tbody> </table> <a class="custom-btn custom-btn-primary" ng-click="update()">Actualizar Información</a> <a class="custom-btn custom-btn-primary" ng-click="showGallery = showGallery ? false : true">Cambiar imagen de perfil</a> </div> </div> </div> <div class="panel-footer"> <a ui-sref="dashboard()" href="#/dashboard" data-original-title="Broadcast Message" data-toggle="cerrar" type="button" class="text-right btn btn-sm btn-danger"><i class="glyphicon glyphicon-remove"></i>Cerrar</a> </div> </div> </div> <div class="col-lg-6 animated slideInRight" ng-show="showGallery"> <image-uploader area="circle" title="Sube tu imagen de perfil" button-text="Subir" items="1" label="" ng-model="$root.user.data.gallery"><image-uploader> </image-uploader></image-uploader></div> </div> </div> </div>'),a.put("views/register/register.html",'<div class="content-section col-lg-12 text-center"> <h3 class="text-white">Registrarse</h3> </div> <form name="signup"> <div class="panel animated bounceInLeft" style="background-color: rgba(0, 0, 0, 0.3)!important"> <div style="padding: 6px" class="alert alert-danger" ng-show="signup.$valid && formRegister.data.password != formRegister.data.confirm"> <strong></strong> Las contraseñas no coinciden. </div> <div class="form-group"> <label class="text-white">Nombres*:</label> <input type="text" required name="nombres" ng-model="formRegister.data.name" class="form-control" placeholder="Nombres"> </div> <div class="form-group"> <label class="text-white">Apellidos*:</label> <input type="text" required name="last_name" ng-model="formRegister.data.last_name" class="form-control" placeholder="Apellidos"> </div> <div class="form-group"> <label class="text-white">Email*:</label> <input type="email" required name="username" ng-model="formRegister.data.email" class="form-control" placeholder="Correo"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label class="text-white">Contraseña*:</label> <input type="password" required name="password" ng-model="formRegister.data.password" class="form-control" placeholder="Contraseña"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label class="text-white">Confirmar Contraseña*:</label> <input type="password" required name="re-password" ng-model="formRegister.data.confirm" class="form-control" placeholder="Confirmar Contraseña"> </div> </div> </div> <div vc-recaptcha key="\'6LcVHCkTAAAAAJZ34Qsx8U6rapWvpS7w4KW3-4aF\'"></div> <div class="form-group"> <button ng-click="register()" style="width:30%;position:relative;top:5px;margin:0 auto;padding:10px;border-radius: 4px" class="custom-btn custom-btn-primary">Registrarme</button> </div> </div> </form>'),a.put("views/reset/change_password.html",'<div ng-controller="ChangepasswordCtrl"> <div class="row"> <div class="container"> <div class="panel panel-default" style="padding:0px"> <div class="panel-body"> <form name="changePasswordForm" novalidate> <div class="form-group"> <label>Actual contraseña:</label> <input type="password" required placeholder="Actual contraseña" class="form-control" ng-model="form.data.oldpwd"> </div> <div class="form-group"> <label>Nueva contraseña:</label> <input type="password" required placeholder="Nueva contraseña" class="form-control" ng-model="form.data.newpwd"> </div> <div class="form-group"> <label>Confirmar contraseña:</label> <input type="password" required placeholder="Confirmar contraseña" class="form-control" ng-model="form.data.confirmpwd"> </div> <button type="button" class="custom-btn custom-btn-default" ng-click="cancel()">Cancelar</button> <button type="button" class="custom-btn custom-btn-primary" ng-click="changePassword()">Cambiar clave</button> </form> </div> <div class="panel-footer"><i class="glyphicon glyphicon-info-sign"></i>Se notificara al correo acerca del cambio de clave.</div> </div> </div> </div> </div>'),
a.put("views/reset/reset.html",'<div class="row forgot-page" ng-controller="ResetPasswordCtrl"> <div class="wrap" style="position:relative;top:50px"> <h1 class="text-white text-center">Cambiar Contraseña?</h1> <div class="panel" style="background-color: rgba(0, 0, 0, 0.3)!important;width: 500px;margin: 0 auto;\r\n        position: relative;\r\n        float: none"> <div class="alert alert-success animated rubberBand" ng-show="success"> <a class="close" ng-click="success = false;">&times;</a> <strong>Listo!</strong> Se ha cambiado su contraseña. </div> <div class="alert alert-danger" ng-show="failed"> <a class="close" ng-click="failed = false;">&times;</a> <strong>Error!</strong> Este enlace Expiro. </div> <form name="resetForm" novalidate> <div class="form-group"> <label class="text-white">Nueva Contraseña:</label> <input type="password" required name="password" ng-model="form.data.newpwd" class="form-control" placeholder="Nueva Contraseña"> </div> <div class="form-group"> <label class="text-white">Confirmar Contraseña:</label> <input type="password" required name="confirm" ng-model="form.data.confirm" class="form-control" placeholder="Confirmar Contraseña"> </div> <div class="form-group"> <button style="padding:10px;border-radius:5px" ng-click="reset()" class="custom-btn custom-btn-primary">Cambiar</button> </div> </form> </div> </div> </div>'),a.put("views/rutas/agregar-ruta.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Ruta</h4> </div> <div class="modal-body"> <div> <form name="formRuta" novalidate> <div class="row"> <div class="col-lg-12"> <div class="form-group"> <label>Ruta:</label> <input type="text" required name="ruta" ng-model="form.data.ruta" class="form-control input-sm" placeholder="Ruta"> </div> <div class="form-group"> <label>Departamento:</label> <departamento-field required ng-model="form.data.departamento"></departamento-field> </div> <div class="form-group"> <label>Ciudad:</label> <ciudad-field required ng-model="form.data.ciudad"></ciudad-field> </div> <div class="form-group"> <label>Barrios:</label> <selectize config="{plugins: [\'remove_button\'], delimiter: \'|\', create:true, maxItems:10, placeholder:\'Escribe el barrio  y presiona ENTER\'}" options="[]" ng-model="form.data.barrios"></selectize> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Agregar</button> </div> </div>'),a.put("views/rutas/editar-ruta.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Editar Ruta</h4> </div> <div class="modal-body"> <div> <form name="rutaEditForm" novalidate> <div class="row"> <div class="col-lg-12"> <div class="form-group"> <label>Ruta:</label> <input type="text" required name="ruta" ng-model="formEdit.data.ruta" class="form-control input-sm" placeholder="Ruta"> </div> <div class="form-group"> <label>Departamento:</label> <departamento-field required ng-model="formEdit.data.departamento"></departamento-field> </div> <div class="form-group"> <label>Ciudad:</label> <ciudad-field required ng-model="formEdit.data.ciudad"></ciudad-field> </div> <div class="form-group"> <label>Barrios:</label> <selectize config="{plugins: [\'remove_button\'], delimiter: \'|\' , create:true, maxItems:10, placeholder:\'Escribe el barrio  y presiona ENTER\'}" options="$parent.barrios" ng-model="$parent.formEdit.data.barrios"></selectize> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Actualizar</button> </div> </div>'),a.put("views/rutas/rutas.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Ruta</th> <th>Departamento</th> <th>Ciudad</th> <th>Barrios</th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="empresaEntity"> <td>{{record.data.ruta}}</td> <td>{{record.data.departamento}}</td> <td>{{record.data.ciudad.toLowerCase()}}</td> <td><span style="margin-right:5px" class="label label-primary" ng-repeat="barrio in record.data.barrios"> {{barrio}}</span></td> <td><button ng-click="edit()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Borrar</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="empresaEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Empresas </div> </div> </div> </div>'),a.put("views/salidas/agregar_salida.html",'<div class="inmodal" ng-controller="SalidaCreateCtrl" ng-init="load()"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Salida</h4> </div> <div class="modal-body"> <div> <form name="$parent.formCreateOutput" novalidate> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <label for="name">Concepto*:</label> <input type="text" focus-on="true" required class="form-control input-sm" placeholder="Concepto" name="Concepto" ng-model="$parent.form.data.concepto"> </div> </div> <div class="col-lg-4"> <div class="form-group"> <label for="name">Bodega*:</label> <bodega-field items-max="1" placeholder="Bodega" required ng-model="$parent.form._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> <div class="col-lg-4"> <div class="form-group"> <label for="name">Responsable*:</label> <employee-field placeholder="Responsable" required ng-model="$parent.form._responsible" key="_id" label="name"><employee-field> </employee-field></employee-field></div> </div> </div> </form> </div> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <label>Producto:</label> <producto-field key="_id" id="product_field" label="producto" on-enter="isEmpty()" set-focus="focuset" search-by="[\'idcomposed\', \'refMixed\', \'producto\']" set-object="_productObj" ng-model="_product"> <producto-field> </producto-field></producto-field></div> </div> <div class="col-lg-12"> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <button ng-show="tasks.length > 0" type="button" ng-click="agregarCantidadMultiple()" class="btn btn-xs custom-btn-primary"><i class="fa fa-plus"></i>&nbsp;Agregar Cantidades</button> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Seleccionar</th> <th>Codigo</th> <th>Producto</th> <th>Cantidad</th> <th>Costo</th> <th>Precio de Venta</th> <th>V. Iva</th> <th>Total</th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr> <td ng-show="!recordsNew || recordsNew.length == 0" colspan="9" style="text-align:center!important"><i class="glyphicon glyphicon-info-sign"></i>&nbsp;sin resultados.</td> </tr> <tr dir-paginate="record in recordsNew |filter:search |itemsPerPage: 5 " pagination-id="productoEntradaEntity"> <td> <label class="text-dark"> <input ng-change="addToTask()" icheck type="checkbox" ng-model="task" class="info-bounce"> </label> </td> <td><span class="label label-primary">{{record.idcomposed}}</span></td> <td>{{record.producto}}</td> <td>{{record.cantidad}}</td> <td>{{record.precio | currency:"$ "}}</td> <td>{{record.precio_venta | currency:"$ "}}</td> <td>{{record.valor_iva | currency:"$ "}}</td> <td>{{record.total | currency:"$ "}}</td> <td><button ng-click="agregarCantidad()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-plus"></i>&nbsp;Cantidad</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Quitar</button></td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button ng-disabled="$parent.formCreateOutput.$invalid" type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Agregar</button> </div> </div>'),a.put("views/salidas/salidas.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="hpanel"> <div class="panel-body"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Fecha</th> <th>Concepto</th> <th>Bodega</th> <th>Responsable</th> <th>Cantidad</th> <th>Total Costo</th> <th>Total Precio Venta</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="SalidaEntity"> <td>{{record.createdAt | date:"MM-dd-yyyy \' \' h:mma"}}</td> <td>{{record.data.concepto}}</td> <td>{{record._grocery.data.bodega}}</td> <td>{{record._responsible.full_name}}</td> <td>{{record.data.cantidad}}</td> <td>{{record.data.totalCosto | currency:"$ "}}</td> <td>{{record.data.totalprecioVenta | currency:"$ "}}</td> <td><button ng-click="edit()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</button></td> <td><button ng-click="delete()" type="button" class="btn btn-warning btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Anular</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="SalidaEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Salidas </div> </div> </div> </div>'),a.put("views/signup/signup.html",'<div id="block-1" class="container no-margin no-padding onerow"> <div class="container block-1 no-margin no-padding"> <div class="onepcssgrid-1200"> <div class="onerow"> <div class="col12" style="position:relative;top:50px"> <div class="col6" style="border-right:1px solid #EAE8E8" ng-controller="RegistrationCtrl"> <h1 class="text-dark text-center">Registrarse.</h1> <p class="text-center no-margin" style="color:#9A9A9A;font-size:18px">con</p> <div class="col6" style="position:relative;top:10px"> <div class="form-group right"> <button class="btn btn-primary transparent btn-large medium-rounded icon-text"><i class="icon icon-facebook"></i>facebook</button> </div> </div> <div class="col6 last" style="position:relative;top:10px"> <div class="form-group left"> <button class="btn btn-primary transparent btn-large medium-rounded icon-text"><i class="icon icon-twitter"></i>twitter</button> </div> </div> <div class="col12"> <p class="text-center no-margin" style="color:#9A9A9A;font-size:18px">O</p> </div> <div class="col12"> <form name="signUp"> <div class="col6" style="position:relative;top:15px"> <div class="panel"> <div class="form-group"> <input type="text" required name="firstname" ng-model="form.data.name" class="form-control" placeholder="Nombres"> </div> <div class="form-group"> <input type="text" required name="lastname" ng-model="form.data.last_name" class="form-control" placeholder="Apellidos"> </div> <div class="form-group"> <input type="email" required name="email" ng-model="form.data.email" class="form-control" placeholder="Correo electronico"> </div> </div> </div> <div class="col6 last" style="position:relative;top:15px"> <div class="panel"> <div class="form-group"> <input type="password" required name="password" ng-model="form.data.password" class="form-control" placeholder="Clave"> </div> <div class="form-group"> <input type="password" required name="confirmPassowrd" ng-model="form.data.confirm" class="form-control" placeholder="Confirmar clave"> </div> </div> </div> </form> <div class="col12 text-center"> <div class="form-group"> <input type="checkbox" required id="c1" name="cb"> <label for="c1">Acepto todos los terminos y condiciones.</label> </div> </div> </div> <div class="col12" style="position:relative"> <div class="form-group"> <button ng-click="register()" style="width:30%;margin:0 auto" class="btn btn-primary block btn-large medium-rounded">Crear cuenta</button> </div> </div> </div> <div class="col6 last" style="height:400px;background-image: url(images/shopping.5318ead8.jpg);box-sizing: border-box;\r\n    background-size: cover"> <div style="display:none"> <h1 class="text-dark text-center">Ingresar.</h1> <p class="text-center no-margin" style="color:#9A9A9A;font-size:18px">Con</p> <div class="col6" style="position:relative;top:10px"> <div class="form-group right"> <button class="btn btn-primary transparent btn-large medium-rounded icon-text"><i class="icon icon-facebook"></i>facebook</button> </div> </div> <div class="col6 last" style="position:relative;top:10px"> <div class="form-group left"> <button class="btn btn-primary transparent btn-large medium-rounded icon-text"><i class="icon icon-twitter"></i>twitter</button> </div> </div> <div class="col12" style="margin-bottom: 20px"> <p class="text-center no-margin" style="color:#9A9A9A;font-size:18px">Or</p> </div> <div class="col12"> <div class="col12"> <div class="form-group"> <input type="email" name="username" ng-model="form.data.email" class="form-control" placeholder="Correo"> </div> <div class="form-group"> <input type="password" name="password" ng-model="form.data.password" class="form-control" placeholder="Clave"> </div> </div> </div> <div class="col12"> <div class="form-group"> <button ng-click="login()" style="width:30%;margin:0 auto" class="btn btn-primary block btn-large medium-rounded">Entrar</button> </div> <br> <br> </div> <div class="col6 text-center"> <a href="#/forgot" sref="forgot" class="text-dark"> Olvidaste tu clave?</a> </div> <div class="col6 last text-center"> <a href="" class="text-dark">No soy mienbro aun?</a> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/system-shoply/sp-gallery-preview.html",'<div class="componentWrap"> <a ng-click="prev()" href=""> <span style="margin-right:60px"> <i class="fa fa-chevron-left" aria-hidden="true"></i> </span> </a> <img style="height:300px;margin-bottom: 30px" ng-src="{{selection.URL || images[0].URL}}"> <a ng-click="next()" href=""> <span style="margin-left:60px"> <i class="fa fa-chevron-right" aria-hidden="true"></i> </span> </a> <div class="row"> <div style="width:100px" class="col-lg-3 col-md-4 col-xs-6 thumb" ng-repeat="image in images"> <a style="cursor:pointer" ng-click="setImage()" class="thumbnail"> <img class="img-responsive" ng-src="{{image.URL}}" alt=""> </a> </div> </div> </div>'),a.put("views/system-shoply/sp-header-toolbar.html",""),a.put("views/system-shoply/sp-sidebar-header.html",'<div class="col-lg-3 animated" style="margin-right:0px;padding-right:0px"> <div class="sidebar"> <div class="profile-info" ng-cloak ng-show="$parent.$$childTail.records.length > 0"> <div class="metadata"> <a ui-sref="dashboard.perfil" href="#/perfil"><img preload-image ng-src="{{$root.user.data.gallery[0].URL || \'images/no-user-image.684462bf.gif\'}}" default-image="images/no-user-image.684462bf.gif" fallback-image="images/loading.23dd1f34.svg" class="img-circle thumb-photo"></a> <span>{{$root.user.full_name}}</span> <p ng-show="$root.user._permission" style="color: #ffffff;font-size: smaller;font-weight: bold">{{$root.user._permission.data.profile || \'\'}}</p> <p ng-show="$root.user.type ==\'ADMINISTRATOR\'" style="color: #ffffff;font-size: smaller;font-weight: bold">Administrador</p> </div> </div> <div ng-cloak ng-show="$parent.$$childTail.records.length > 0" style="background-color: #010d07"><p style="text-align: center;vertical-align: middle;position: relative;margin: 0px;color: #c09e05"><i style="font-size: 20px;position: relative;bottom: -3px" class="icon icon-list"></i>&nbsp;Cola de Peticiones</p> </div> <sp-sidebar-menu></sp-sidebar-menu> </div> </div>'),a.put("views/system-shoply/sp-sidebar.html",'<nav class="navbar-default navbar-static-side" role="navigation" ng-controller="DashboardCtrl" ng-init="load()"> <div class="sidebar-collapse"> <ul class="nav sp-menu" id="sp-menu" style="display: block"> <li style="width:100%;margin-top:60%" class="emptyRequest" ng-show="!records || records.length == 0"> <p style="text-align: center;color: #454545; font-size: 21px"> <i class="fa fa-bell" aria-hidden="true"></i>&nbsp;No existen alertas </p> </li> <li class="request" pagination-id="RequestEntity" dir-paginate="record in records | orderBy:\'-createdAt\' | itemsPerPage: 4" style="border-top: 1px solid #07130d;border-bottom:1px solid #07130d;color:white"> <a ng-click="showMarker()" style="color:white"><i class="fa fa-user"></i> <span style="top:5px;color:#7a7a7a;position: absolute;right: 20px;font-size: 10px" class="nav-label">{{record.createdAt | moment}}</span> De {{record.data.anonimo ? \'ANONIMO\' : record._user.full_name}} <p style="color:#999999;font-size: 10px;text-decoration: underline"><span><strong>Motivo</strong></span> : {{record.data.incidencia || \'Sin Incidencia o Prioridad alta\'}}</p> <span ng-show="record.data.status == \'En Camino\'" class="label label-success">En Camino</span> <span ng-show="!record.data.status || record.data.status == \'Pendiente\'" class="label label-warning">Pendiente</span> </a> <div class="row"> <div style="padding: 5px 15px;position: relative;float: left"> <div class="col-lg-4 text-center"> <button ng-click="OnRoad()" type="button" class="btn btn-success btn-xs"><i class="glyphicon glyphicon-road"></i>&nbsp;En camino</button> </div> <div class="col-lg-4 text-center"> <button ng-click="Remove()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Descartar</button> </div> <div class="col-lg-4 text-center"> <button ng-click="Pending" type="button" class="btn btn-warning btn-xs"><i class="glyphicon glyphicon-time"></i>&nbsp;Pendiente</button> </div> </div> </div> </li> </ul> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="RequestEntity"></dir-pagination-controls> </div> </div> </nav>'),a.put("views/transportador/agregar-transportador.html",'<div class="inmodal"> <div class="modal-header text-center"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Agregar transportador</h4> </div> <div class="modal-body"> <div> <form name="formTransportador" novalidate> <div class="form-group"> <label>Vehiculo:</label> <input type="text" required placeholder="Vehiculo" class="form-control" ng-model="$parent.form.data.Vehiculo"> </div> <div class="form-group"> <label>Placa:</label> <input type="text" placeholder="Placa" required class="form-control" ng-model="$parent.form.data.Placa"> </div> <label>Chofer:</label> <input type="text" placeholder="Chofer" required class="form-control" ng-model="$parent.form.data.Chofer"> <div class="row"> <div class="col-lg-12"> <div class="form-group"> <label>Valor del Envio:</label> <input type="number" placeholder="Valor del Envio" required class="form-control" ng-model="$parent.form.data.valor"> </div> </div> </div> </form> <div class="row" style="background-color: #e15305"> <div class="col-lg-6 text-left"> <h4 class="text-white">Valor :</h4> </div> <div class="col-lg-6 text-right" ng-init="$parent.form.data.valor = 0;"> <h4 class="text-white">{{$parent.form.data.valor | currency:"COP$ "}}</h4> </div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="custom-btn custom-btn-default" ng-click="cancel()">Cancelar</button> <button type="button" class="custom-btn custom-btn-primary" ng-click="ok()">Agregar</button> </div> </div>'),a.put("views/transportador/transportador.html",'<div ng-controller="TransportadorCtrl" ng-init="load()"> <div class="row"> <h3>Transportadores</h3> <div class="panel panel-default" style="padding:0px"> <div class="panel-body"> <div class="col-lg-12"> <div class="form-group pull-right"> <button class="custom-btn custom-btn-primary large-rounded" ng-click="agregar()">Agregar</button> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="input-group"> <input type="text" class="form-control" ng-model="search" placeholder="Buscar"> <span class="input-group-btn"> <button class="btn custom-btn-primary" type="button">Buscar</button> </span> </div> </div> <div class="col-lg-6"> <estado-pedido></estado-pedido> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <th class="hidden">Codigo</th> <th>Vehiculo</th> <th>Placa</th> <th>Chofer</th> <th>Tarifa</th> <th></th> <th></th> </thead> <tbody> <tr dir-paginate="record in records | itemsPerPage: 5 | filter:search"> <td class="hidden">{{record._id}}</td> <td>{{record.data.Vehiculo}}</td> <td>{{record.data.Placa || \'no definido\'}}</td> <td>{{record.data.Chofer}}</td> <td>{{record.data.valor | currency: "$ "}}</td> <td><a ui-sref="dashboard.detalle_transportador({transportador: record._id})" class="custom-btn custom-btn-primary" href="#/detalle-transportador/{{record._id}}">Detalle</a></td> <td><button ng-click="borrar()" class="custom-btn custom-btn-danger">Borrar</button></td> </tr> </tbody> </table> </div> <div class="row"> <div class="col-lg-12"> <dir-pagination-controls class="pull-right"></dir-pagination-controls> </div> </div> </div> <div class="panel-footer">Listado de Transportadores</div> </div> </div> </div>'),a.put("views/utils/cropper.html",'<div class="inmodal" ng-init="load()"> <div class="modal-header text-center custom-modal-header"> <h4 class="modal-title">Editar Fotografia</h4> </div> <div class="modal-body custom-modal-body" style="height:350px"> <div ng-show="loading" class="text-center" style="position:relative;top:20%"> <img style="width:60px" src="images/loading.23dd1f34.svg"> <p>Cargando imagen por favor espere..</p> </div> <cropper ng-init="$root.preImage" ng-model="$root.preImage"></cropper> </div> <div class="modal-footer custom-modal-footer"> <button type="button" class="custom-btn custom-btn-default" ng-click="cancel()">Cancelar</button> <button type="button" class="custom-btn custom-btn-primary" ng-click="ok()">Listo</button> </div> </div>'),a.put("views/utils/cropper2.html",'<div class="inmodal" ng-init="load()"> <div class="modal-header text-center custom-modal-header"> <h4 class="modal-title">Editar Fotografia</h4> </div> <div class="modal-body custom-modal-body" style="height:350px"> <div class="cropArea"> <img-crop image="$parent.editImage.preview || $parent.editImage.URL" area-type="{{$parent.area}}" result-image="$parent.image_final"></img-crop> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Listo</button> </div> </div>'),a.put("views/utils/preview.html",'<div class="inmodal" ng-init="load()"> <div class="modal-header text-center custom-modal-header"> <h4 class="modal-title">Vista Previa</h4> </div> <div class="modal-body custom-modal-body text-center"> <img preload-image ng-src="{{file}}" default-image="images/missing-image.62835050.png" fallback-image="images/loading.23dd1f34.svg"> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Listo</button> </div> </div>'),a.put("views/utils/uploader.html",'<div class="text-center left" style="padding: 6px;width:100%"> <div class="row"> <div class="col-lg-12"> <div ng-show="showAlert" class="alert alert-warning alert-dismissible" role="alert"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button> <strong>:(</strong> Solo puedes subir un maximo de 4 imagenes. </div> </div> <div class="col-lg-6 text-left"> <h4 ng-class="label">{{title}}</h4> </div> <div class="col-lg-6 text-right"> <input type="file" multiple name="file" id="file" class="hidden"> <label for="file" class="custom-btn custom-btn-primary large-rounded">{{buttonText}}</label> </div> </div> <div class="image-file-container"> <div class="empty" ng-show="!ngModel || ngModel.length == 0"> <h4 style="top: 20%;position: relative">no hay imagenes disponibles</h4> </div> <div class="file-item" ng-repeat="file in ngModel" ng-show="file"> <div class="file-wrap" ng-show="file.loading"> <div class="item-loading"> <img style="height:20px" src="images/loading.23dd1f34.svg"> <p>Actualizando...</p> </div> </div> <div class="file-wrap" ng-show="!file.loading"> <div class="col-lg-2 image-file"> <img style="width:40px;height:40px" ng-src="{{file.preview || file.URL}}" class="img-circle thumb-photo"> </div> <div class="col-lg-7 text-left"> <p style="text-overflow: ellipsis;word-wrap: break-word;white-space: nowrap;overflow: hidden">{{file.name || file.aname}}</p> <a href="" style="color:#f95c07" ng-click="remove()" class="file-option-link">quitar</a> <a href="" style="color:#f95c07" ng-click="show()" class="file-option-link">ver</a> <a href="" ng-click="edit()" style="color:#f95c07" class="file-option-link">editar</a> </div> <div class="col-lg-3 text-right"> <p class="tiny-text">{{file.udate | date:\'yyyy-MM-dd\'}}</p> </div> </div> </div> </div> </div>'),a.put("views/vendedores/agregar_vendedor.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Vendedor</h4> </div> <div class="modal-body"> <div> <form name="formVendedor" novalidate> <div class="row"> <div class="col-lg-12"> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Nombres * :</label> <input type="text" required name="firstname" ng-model="form.name" class="form-control input-sm" placeholder="Nombres"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Apellidos * :</label> <input type="text" required name="lastname" ng-model="form.last_name" class="form-control input-sm" placeholder="Apellidos"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Documento * :</label> <selectize config="{create:true, selectOnTab : true, maxItems:1, valueField: \'value\', labelField: \'text\', placeholder:\'Tipo de documento\'}" options="[{value:&quot;CC&quot;, text:&quot;Cedula de Ciudadania&quot;}, {value:&quot;CE&quot;, text:&quot;Cedula de Extranjeria&quot;},  {value:&quot;DI&quot;, text:&quot;Documento de Identidad&quot;}]" ng-model="form.metadata.documento"></selectize> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Numero de Documento * :</label> <input type="text" required name="numero_documento" ng-model="form.metadata.numero_documento" class="form-control input-sm" placeholder="Numero de Documento"> </div> </div> </div> <div class="form-group"> <label>Correo * :</label> <input type="email" required name="email" ng-model="form.email" class="form-control input-sm" placeholder="Correo electronico"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Celular:</label> <input type="text" class="form-control input-sm" international-phone-number ng-model="form.metadata.phone"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Fijo:</label> <input type="text" class="form-control input-sm" placeholder="Fijo" ng-model="form.metadata.fijo"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Departamento * :</label> <departamento-field required ng-model="form.metadata.departamento"></departamento-field> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Ciudad * :</label> <ciudad-field required ng-model="form.metadata.ciudad"></ciudad-field> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Rutas * :</label> <rutas-field required ng-model="form._route" key="_id" label="ruta"></rutas-field> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Bodega :</label> <bodega-field empty-option="true" items-max="10" placeholder="Bodega" ng-model="form._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Contraseña * :</label> <input type="password" required name="password" ng-model="form.password" class="form-control input-sm" placeholder="Contraseña"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Confirmar Contraseña * :</label> <input type="password" required name="confirmPassowrd" ng-model="form.confirm" class="form-control input-sm" placeholder="Confirmar Contraseña"> </div> </div> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-header" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Agregar</button> </div> </div>'),a.put("views/vendedores/editar_vendedor.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Crear Vendedor</h4> </div> <div class="modal-body"> <div> <form name="formEditVendedor" novalidate> <div class="row"> <div class="col-lg-12"> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Nombres * :</label> <input type="text" required name="firstname" ng-model="formEdit.name" class="form-control" placeholder="Nombres"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Apellidos * :</label> <input type="text" required name="lastname" ng-model="formEdit.last_name" class="form-control" placeholder="Apellidos"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Documento * :</label> <selectize config="{create:true, maxItems:1, valueField: \'value\', labelField: \'text\', placeholder:\'Tipo de documento\'}" options="[{value:&quot;CC&quot;, text:&quot;Cedula de Ciudadania&quot;}, {value:&quot;CE&quot;, text:&quot;Cedula de Extranjeria&quot;},  {value:&quot;DI&quot;, text:&quot;Documento de Identidad&quot;}]" ng-model="formEdit.metadata.documento"></selectize> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Numero de Documento * :</label> <input type="text" required name="numero_documento" ng-model="formEdit.metadata.numero_documento" class="form-control" placeholder="Numero de Documento"> </div> </div> </div> <div class="form-group"> <label>Correo * :</label> <input type="email" required name="email" ng-model="formEdit.email" class="form-control" placeholder="Correo electronico"> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Celular:</label> <input type="text" class="form-control" international-phone-number ng-model="formEdit.metadata.phone"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Fijo:</label> <input type="text" class="form-control" placeholder="Fijo" ng-model="formEdit.metadata.fijo"> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Departamento * :</label> <departamento-field required ng-model="formEdit.metadata.departamento"></departamento-field> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Ciudad * :</label> <ciudad-field required ng-model="formEdit.metadata.ciudad"></ciudad-field> </div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Rutas * :</label> <rutas-field required ng-model="formEdit._route" key="_id" label="ruta"></rutas-field> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Bodega :</label> <bodega-field empty-option="true" placeholder="Bodega" ng-model="formEdit._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Contraseña * :</label> <input type="password" name="password" ng-model="formEdit.password" class="form-control" placeholder="Contraseña"> </div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Confirmar Contraseña * :</label> <input type="password" name="confirmPassowrd" ng-model="formEdit.confirm" class="form-control" placeholder="Confirmar Contraseña"> </div> </div> </div> </div> </div> </form> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">Actualizar</button> </div> </div>'),
a.put("views/vendedores/vendedores.html",'<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.23dd1f34.svg"> </p> </div> </div> </div> <div class="col-lg-12 content" ng-show="records.length > 0"> <div class="row"> <div class="col-lg-4"> <div class="form-group"> <button ng-show="$root.grid.selected" type="button" ng-click="doTonnage()" class="btn custom-btn-primary"><i class="fa fa-calculator"></i>&nbsp;Crear Arqueo</button> </div> </div> </div> <div class="hpanel"> <div class="panel-body"> <div class="row"> <div class="col-lg-3"> <div class="form-group"> <label for="name">Bodega:</label> <bodega-field empty-option="true" placeholder="Bodega" required ng-model="filter._grocery" key="_id" label="name"><bodega-field> </bodega-field></bodega-field></div> </div> <div class="col-lg-3"> <div class="form-group"> <label>Rutas :</label> <rutas-field empty-option="true" required ng-model="filter._route" key="_id" label="ruta"></rutas-field> </div> </div> <div class="col-lg-3"> <div class="form-group"> <label for="name">Vendedor:</label> <vendedor-field empty-option="true" placeholder="Vnededor" ng-model="filter._seller" key="_id" label="name"><vendedor-field> </vendedor-field></vendedor-field></div> </div> <div class="col-lg-3"> <div class="form-group"> <label>Buscar</label> <input type="text" ng-model="search" class="form-control input-sm m-b-md" id="filter" placeholder="Buscar en la tabla"> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <tr> <th>Documento</th> <th>Numero</th> <th>Nombres</th> <th>Bodega</th> <th>Email</th> <th>Telefono</th> <th>Departamento</th> <th>Ciudad</th> <th>Ruta</th> <th style="width: 36px"></th> <th style="width: 36px"></th> <th style="width: 36px"></th> </tr> </thead> <tbody> <tr choice="$root.grid.selected" class="sp-choice" value="record._id" dir-paginate="record in records\r\n					      | selectedItems:filter._route\r\n					      | filter:{_grocery : {_id : filter._grocery}} \r\n					      | filter:{_id : filter._seller}\r\n					      | filter:search \r\n					      | itemsPerPage: 5 " pagination-id="VendedorEntity"> <td>{{record.metadata.documento}}</td> <td>{{record.metadata.numero_documento}}</td> <td>{{record.full_name}}</td> <td>{{record._grocery.data.bodega}}</td> <td>{{record.email}}</td> <td>{{record.metadata.phone || \'no definido\' }}</td> <td>{{record.metadata.departamento.toLowerCase()}}</td> <td>{{record.metadata.ciudad.toLowerCase()}}</td> <td><button ng-click="verRutas()" type="button" class="btn btn-success btn-xs"><i class="glyphicon glyphicon glyphicon-road"></i>&nbsp;Ver Rutas</button></td> <td><button ng-click="edit()" type="button" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</button></td> <td><button ng-click="delete()" type="button" class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>&nbsp;Borrar</button></td> </tr> </tbody> </table> </div> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="VendedorEntity"></dir-pagination-controls> </div> </div> <div class="panel-footer"> Listado de Vendedores </div> </div> </div> </div>'),a.put("views/vendedores/verRutas.html",'<div class="inmodal"> <div class="modal-header text-center custom-modal-header"> <!--<i class="fa fa-sliders color-success h-modal-icon"></i>--> <h4 class="modal-title">Rutas</h4> </div> <div class="modal-body"> <div class="table-responsive"> <table class="table table-hover"> <thead> <th>Departamento</th> <th>Ciudad</th> <th>Barrios</th> <th>Ruta</th> </thead> <tbody> <tr ng-repeat="record in record"> <td>{{record.data.departamento || \'no definido\'}}</td> <td>{{record.data.ciudad.toLowerCase() || \'no definido\'}}</td> <td>{{record.data.barrios.join(\', \') || \'no definido\'}}</td> <td>{{record.data.ruta ? record.data.ruta : \'no definido\' }}</td> <td></td> </tr> </tbody> </table> </div> </div> <div class="modal-footer custom-modal-footer" style="padding:0px"> <button type="button" style="height:40px" class="custom-btn btn-block custom-btn-primary" ng-click="ok()">OK</button> </div> </div>')}]);